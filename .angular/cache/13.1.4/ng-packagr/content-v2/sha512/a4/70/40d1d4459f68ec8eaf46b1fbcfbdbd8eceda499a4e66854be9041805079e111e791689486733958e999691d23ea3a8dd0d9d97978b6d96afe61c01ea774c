{"hash":"783586438b5eaaf1c12ef02dba44dcc7fb12fde2","fesm2020":{"code":"import * as i4 from '@angular/forms';\nimport { FormControl, Validators, FormGroup, FormArray, NG_VALUE_ACCESSOR, ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport * as i0 from '@angular/core';\nimport { Injectable, Component, Input, ViewChild, EventEmitter, Output, ElementRef, Renderer2, forwardRef, Directive, Inject, HostListener, isDevMode, ChangeDetectionStrategy, HostBinding, NgModule } from '@angular/core';\nimport { BehaviorSubject, isObservable, Observable, Subject } from 'rxjs';\nimport * as i5 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i1 from '@angular/material/expansion';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport * as i2 from '@angular/material/button';\nimport { MatButtonModule } from '@angular/material/button';\nimport * as i2$1 from '@angular/material/icon';\nimport { MatIconModule } from '@angular/material/icon';\nimport { startWith, map, take } from 'rxjs/operators';\nimport * as i2$2 from '@angular/material/autocomplete';\nimport { MatAutocompleteTrigger, MatAutocompleteModule } from '@angular/material/autocomplete';\nimport * as i1$1 from '@angular/material/form-field';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport * as i4$1 from '@angular/material/core';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport * as i6 from '@angular/material/input';\nimport { MatInputModule } from '@angular/material/input';\nimport * as i5$1 from '@angular/material/tooltip';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport * as i1$2 from '@angular/material/checkbox';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { ENTER, COMMA } from '@angular/cdk/keycodes';\nimport * as i2$3 from '@angular/material/chips';\nimport { MatChipsModule } from '@angular/material/chips';\nimport * as i2$4 from '@angular/material/datepicker';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport * as i1$3 from '@angular/material/divider';\nimport { MatDividerModule } from '@angular/material/divider';\nimport * as i7 from '@angular/cdk/drag-drop';\nimport { moveItemInArray, DragDropModule } from '@angular/cdk/drag-drop';\nimport * as i1$4 from '@angular/material/card';\nimport { MatCardModule } from '@angular/material/card';\nimport * as i4$2 from '@angular/platform-browser';\nimport * as i1$5 from '@angular/material/list';\nimport { MatListModule } from '@angular/material/list';\nimport * as i1$6 from '@angular/material/radio';\nimport { MatRadioModule } from '@angular/material/radio';\nimport * as i3 from '@angular/material/select';\nimport { MatSelectModule } from '@angular/material/select';\nimport * as i1$7 from '@angular/material/slide-toggle';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport * as i1$8 from '@angular/material/slider';\nimport { MatSliderModule } from '@angular/material/slider';\nimport * as i3$1 from '@angular/cdk/text-field';\nimport { TextFieldModule } from '@angular/cdk/text-field';\nimport { RouterModule } from '@angular/router';\n\nclass VItem {\r\n    constructor(opts) {\r\n        this._vtype = 'vitem';\r\n        this.itemId = opts['itemId'] || null;\r\n        this.styles = opts['styles'] || null;\r\n        this.validators = opts['validators'] || [];\r\n        this.label = opts['label'] || null;\r\n        if (opts['cls']) {\r\n            this.cls = opts['cls'] ? this.cls ? `${this.cls} ${opts['cls']}` : opts['cls'] : '';\r\n        }\r\n        if (opts['hidden']) {\r\n            this.cls += ' hidden';\r\n        }\r\n    }\r\n    getName() {\r\n        return this._vtype;\r\n    }\r\n    getConfig(key) {\r\n        return this[key];\r\n    }\r\n    setConfig(key, value) {\r\n        this[key] = value;\r\n    }\r\n    createControl(group) { }\r\n    removeControl(group) { }\r\n}\n\nconst validateFileExt = (control, extentions) => {\r\n    if (control.value) {\r\n        const ext = control.value?.name?.split('.').pop();\r\n        return extentions.indexOf(ext) === -1 ? { fileExt: true } : null;\r\n    }\r\n    return null;\r\n};\n\nconst validateFileSize = (control, size) => {\r\n    if (control.value) {\r\n        return control.value.size > size ? { fileSize: true } : null;\r\n    }\r\n    return null;\r\n};\n\nclass VField extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this.validatorMessages = [];\r\n        this._vtype = 'vfield';\r\n        this.name = opts['name'] || '';\r\n        this.label = opts['label'] || null;\r\n        this.value = opts['value'] || null;\r\n        this.disabled = opts['disabled'] || false;\r\n        this.readonly = opts['readonly'] || false;\r\n        this.clearButton = opts['clearButton'] || false;\r\n        this.actionButton = opts['actionButton'] || false;\r\n        this.validators = opts['validators'] || [];\r\n        this.actionHandler = opts['actionHandler'] || function () { };\r\n    }\r\n    createControl(group) {\r\n        if (!group.get(this.name)) {\r\n            const control = new FormControl(this.value, this._bindValidations());\r\n            if (this.disabled) {\r\n                control.disable();\r\n            }\r\n            group.addControl(this.name, control);\r\n        }\r\n    }\r\n    _bindValidations() {\r\n        if (this.validators.length > 0) {\r\n            const validations = [];\r\n            this.validators.map(item => {\r\n                const validatorCfg = this._getValidatorConfig(item);\r\n                const { name, validator, message } = validatorCfg;\r\n                validations.push(validator);\r\n                this.validatorMessages.push({ name, message });\r\n            });\r\n            return Validators.compose(validations);\r\n        }\r\n        return null;\r\n    }\r\n    _getValidatorConfig(item) {\r\n        const vMap = new Map(Object.entries(item));\r\n        const result = { name: null, validator: null, message: '' };\r\n        vMap.forEach((v, k) => {\r\n            switch (k) {\r\n                case 'message':\r\n                    result.message = v;\r\n                    break;\r\n                case 'validator':\r\n                    result.validator = v;\r\n                    break;\r\n                default:\r\n                    result.name = k;\r\n                    if (!result.validator) {\r\n                        result.validator = this._getValidatorByName(k, v);\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    getValMessage() {\r\n        return this.validatorMessages;\r\n    }\r\n    removeControl(group) {\r\n        group.removeControl(this.name);\r\n    }\r\n    _getValidatorByName(name, value) {\r\n        switch (name) {\r\n            case 'required':\r\n                return Validators.required;\r\n            case 'email':\r\n                return Validators.email;\r\n            case 'minlength':\r\n                return Validators.minLength(value ? +value : 3);\r\n            case 'maxlength':\r\n                return Validators.maxLength(value ? +value : 100);\r\n            case 'min':\r\n                return Validators.min(value ? +value : 1);\r\n            case 'max':\r\n                return Validators.max(value ? +value : 100);\r\n            case 'pattern':\r\n                return Validators.pattern(value ? new RegExp(`${value}`) : '');\r\n            case 'fileExt':\r\n                return (control) => validateFileExt(control, value);\r\n            case 'fileSize':\r\n                return (control) => validateFileSize(control, +value);\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n}\n\nclass VBox extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vbox';\r\n        this.items = opts['items'] || [];\r\n        this.layout = opts['layout'] || '';\r\n        this.formMode = opts['formMode'] || 'array';\r\n        this.name = opts['name'] || null;\r\n        this.groupValidators = opts['groupValidators'] || null;\r\n        if (this.layout !== '') {\r\n            this.cls = this.cls ? `${this.cls} ${this.layout}` : this.layout;\r\n        }\r\n    }\r\n    createControl(group) {\r\n        if (this.name) {\r\n            const control = group.get(this.name);\r\n            if (control) {\r\n                group.removeControl(this.name);\r\n            }\r\n            if (this.formMode === 'group') {\r\n                const fg = new FormGroup({});\r\n                group.addControl(this.name, fg);\r\n                this.items.forEach(item => {\r\n                    item.createControl(fg);\r\n                });\r\n            }\r\n            else {\r\n                const fa = new FormArray([], this.groupValidators);\r\n                group.addControl(this.name, fa);\r\n                this.items.forEach(item => {\r\n                    const fg = new FormGroup({});\r\n                    fa.push(fg);\r\n                    item.createControl(fg);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.items.forEach(item => item.createControl(group));\r\n        }\r\n    }\r\n    removeItems(group) {\r\n        this.items.forEach(item => item.removeControl(group));\r\n        this.items = [];\r\n    }\r\n    findByKey(key, value, items = this.items) {\r\n        let result;\r\n        for (let i = 0; i < items.length; i++) {\r\n            if (items[i].getConfig(key) === value) {\r\n                result = items[i];\r\n                break;\r\n            }\r\n            else if (items[i]['items']) {\r\n                this.findByKey(key, value, items[i]['items']);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\n\nclass VButton extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vbutton';\r\n        this.text = opts['text'] || '';\r\n        this.icon = opts['icon'] || null;\r\n        this.handler = opts['handler'] || function () { };\r\n        this.type = opts['type'] || 'button';\r\n        this.styleType = opts['styleType'] || 'raised';\r\n        this.color = opts['color'] || 'accent';\r\n        this.disabled = opts['disabled'] || false;\r\n    }\r\n}\n\nclass VInputField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vinputfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.unique = opts['unique'] || false;\r\n        this.readonly = opts['readonly'] || false;\r\n        this.placeholder = opts['placeholder'] || '';\r\n    }\r\n}\n\nclass VSelectField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vselectfield';\r\n        this.options = opts['options'] || [];\r\n        this.multiple = opts['multiple'] || false;\r\n        this.icons = opts['icons'] || false;\r\n        this.hint = opts['hint'] || null;\r\n    }\r\n}\n\nclass VTextField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vtextfield';\r\n        this.rows = opts['rows'] ? opts['rows'] : 5;\r\n        this.maxRows = opts['maxRows'] && opts['maxRows'] > this.rows ? opts['maxRows'] : this.rows;\r\n    }\r\n}\n\nclass VAutocompleteField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vautocompletefield';\r\n        this.options = opts['options'] || [];\r\n        this.placeholder = opts['placeholder'] || '';\r\n        this.filter = opts['filter'] || ((x) => true);\r\n    }\r\n}\n\nclass VCheckboxField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vcheckboxfield';\r\n        this.labelPosition = opts['labelPosition'] || 'after';\r\n    }\r\n}\n\nclass VDatepickerField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vdatepickerfield';\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\n\nclass VMaskedField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vmaskedfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.unique = opts['unique'] || false;\r\n        this.mask = opts['mask'] || null;\r\n    }\r\n}\n\nclass VNumberField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vnumberfield';\r\n        this.type = 'number';\r\n        this.min = opts['min'] || 0;\r\n        this.max = opts['max'] || 99999;\r\n        this.step = opts['step'] || 1;\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n    }\r\n}\n\nclass VRadioField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vradiofield';\r\n        this.options = opts['options'] || [];\r\n    }\r\n}\n\nclass VSlideToggleField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vslidetogglefield';\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\n\nclass VSliderField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vsliderfield';\r\n        this.showTicks = opts['showTicks'] || false;\r\n        this.autoTicks = opts['autoTicks'] || false;\r\n        this.tickInterval = opts['tickInterval'] || 'auto';\r\n        this.invert = opts['invert'] || false;\r\n        this.min = opts['min'] || 0;\r\n        this.max = opts['max'] || 100;\r\n        this.step = opts['step'] || 1;\r\n        this.thumbLabel = opts['thumbLabel'] || false;\r\n        this.vertical = opts['vertical'] || false;\r\n    }\r\n}\n\nclass VImage extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vimage';\r\n        this.url = opts['url'] || '';\r\n        this.sourceField = opts['sourceField'] || '';\r\n    }\r\n}\n\nclass VAccordion extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this.isDefaultHandler = false;\r\n        this._step = 0;\r\n        this._vtype = 'vaccordion';\r\n        this.name = opts['name'];\r\n        this.items = opts['items'] || [];\r\n        if (opts['initStep']) {\r\n            this.setStep(+opts['initStep']);\r\n        }\r\n        if (opts['getItemTitle']) {\r\n            this.getItemTitle = opts['getItemTitle'];\r\n        }\r\n        else {\r\n            this.getItemTitle = (idx) => `Step ${idx + 1}`;\r\n        }\r\n        if (opts['nextHandler']) {\r\n            this.nextHandler = opts['nextHandler'];\r\n        }\r\n        else {\r\n            this.isDefaultHandler = true;\r\n            this.nextHandler = () => { this.nextStep(); };\r\n        }\r\n        if (opts['prevHandler']) {\r\n            this.prevHandler = opts['prevHandler'];\r\n        }\r\n        else {\r\n            this.isDefaultHandler = true;\r\n            this.prevHandler = () => { this.prevStep(); };\r\n        }\r\n        this.removeHandler = opts['removeHandler'] || null;\r\n    }\r\n    createControl(group) {\r\n        const fa = new FormArray([]);\r\n        group.addControl(this.name, fa);\r\n        this.items.forEach(item => {\r\n            const fg = new FormGroup({});\r\n            fa.push(fg);\r\n            item.createControl(fg);\r\n        });\r\n    }\r\n    removeItems(group) {\r\n        this.items.forEach(item => item.removeControl(group));\r\n        this.items = [];\r\n    }\r\n    findByKey(key, value, items = this.items) {\r\n        let result;\r\n        for (let i = 0; i < items.length; i++) {\r\n            if (items[i].getConfig(key) === value) {\r\n                result = items[i];\r\n                break;\r\n            }\r\n            else if (items[i]['items']) {\r\n                this.findByKey(key, value, items[i]['items']);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    getStep() {\r\n        return this._step;\r\n    }\r\n    setStep(step) {\r\n        this._step = step;\r\n    }\r\n    nextStep() {\r\n        this._step++;\r\n    }\r\n    prevStep() {\r\n        this._step--;\r\n    }\r\n}\n\nclass VLabel extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vlabel';\r\n        this.text = opts['text'] || '';\r\n        this.icon = opts['icon'] || null;\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\n\nclass VChips extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vchips';\r\n        this.options = opts['options'] || [];\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\n\nclass VDragDropList extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vdragdroplist';\r\n        this.options = opts['options'] || [];\r\n        this.name = opts['name'] || '';\r\n        this.hidden = opts['hidden'] || false;\r\n        this.showPreview = opts['showPreview'] || false;\r\n        this.showAvatar = opts['showAvatar'] || false;\r\n        this.removable = opts['removable'] || false;\r\n        this.handler = opts['handler'] || function () { };\r\n        this.removeHandler = opts['removeHandler'] || function () { };\r\n    }\r\n    createControl(group) {\r\n        group.addControl(this.name, new FormControl(null));\r\n    }\r\n}\n\nclass VColorField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vcolorfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.readonly = opts['readonly'] || false;\r\n    }\r\n}\n\nclass VEditorField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'veditorfield';\r\n        this.placeholder = opts['placeholder'] ? opts['placeholder'] : 'Введите здесь текст ...';\r\n    }\r\n}\n\nclass VFileField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vfilefield';\r\n        this.readonly = opts['readonly'] || false;\r\n    }\r\n}\n\nclass VDivider extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vdivider';\r\n    }\r\n}\n\nclass VList extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vlist';\r\n        this.options = opts['options'] || [];\r\n        this.multiple = opts['multiple'] || false;\r\n        this.editHandler = opts['editHandler'] || null;\r\n        this.deleteHandler = opts['deleteHandler'] || null;\r\n    }\r\n}\n\nclass VContent extends VItem {\r\n    constructor(opts) {\r\n        super({});\r\n        this._vtype = 'vcontent';\r\n    }\r\n}\n\nclass VImageField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vimagefield';\r\n        this.imageAspectRatio = opts['imageAspectRatio'] ? opts['imageAspectRatio'] : 4 / 3;\r\n        this.resizeToWidth = opts['resizeToWidth'] ? opts['resizeToWidth'] : 256;\r\n    }\r\n}\n\nclass VChipsField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vchipsfield';\r\n        this.options = opts['options'] || [];\r\n        this.value = opts['value'] || [];\r\n        this.placeholder = opts['placeholder'] || '';\r\n        this.color = opts['color'] || 'accent';\r\n        this.removable = opts['removable'] || false;\r\n        this.selectable = opts['selectable'] || false;\r\n        this.name = opts['name'] || '';\r\n    }\r\n}\n\nclass VFactoryService {\r\n    constructor() {\r\n        this._configSubject = new BehaviorSubject([]);\r\n        this.configEvent = this._configSubject.asObservable();\r\n    }\r\n    fromJSON(jsonCfg = []) {\r\n        return jsonCfg.map(item => {\r\n            return this._createVItem(item);\r\n        });\r\n    }\r\n    _createVItem(item) {\r\n        switch (item.vtype) {\r\n            case 'vinputfield':\r\n                return new VInputField({ ...item });\r\n            case 'vbox':\r\n                item.items = item.items.map(child => {\r\n                    return this._createVItem(child);\r\n                });\r\n                return new VBox({ ...item });\r\n            case 'vbutton':\r\n                return new VButton({ ...item });\r\n            case 'vselectfield':\r\n                return new VSelectField({ ...item });\r\n            case 'vtextfield':\r\n                return new VTextField({ ...item });\r\n            case 'vautocompletefield':\r\n                return new VAutocompleteField({ ...item });\r\n            case 'vcheckboxfield':\r\n                return new VCheckboxField({ ...item });\r\n            case 'vdatepickerfield':\r\n                return new VDatepickerField({ ...item });\r\n            case 'vimage':\r\n                return new VImage({ ...item });\r\n            case 'vmaskedfield':\r\n                return new VMaskedField({ ...item });\r\n            case 'vnumberfield':\r\n                return new VNumberField({ ...item });\r\n            case 'vradiofield':\r\n                return new VRadioField({ ...item });\r\n            case 'vslidetogglefield':\r\n                return new VSlideToggleField({ ...item });\r\n            case 'vsliderfield':\r\n                return new VSliderField({ ...item });\r\n            case 'vaccordion':\r\n                item.items = item.items.map(child => {\r\n                    return this._createVItem(child);\r\n                });\r\n                return new VAccordion({ ...item });\r\n            case 'vlabel':\r\n                return new VLabel({ ...item });\r\n            case 'vchipsfield':\r\n                return new VChipsField({ ...item });\r\n            case 'vchips':\r\n                return new VChips({ ...item });\r\n            case 'vdragdroplist':\r\n                return new VDragDropList({ ...item });\r\n            case 'vcolorfield':\r\n                return new VColorField({ ...item });\r\n            case 'vfilefield':\r\n                return new VFileField({ ...item });\r\n            case 'veditorfield':\r\n                return new VEditorField({ ...item });\r\n            case 'vlist':\r\n                return new VList({ ...item });\r\n            case 'vcontent':\r\n                return new VContent({ ...item });\r\n            case 'vimagefield':\r\n                return new VImageField({ ...item });\r\n            case 'vdivider':\r\n                return new VDivider({ ...item });\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n    updateConfig(formCfg, form) {\r\n        this._configSubject.next(formCfg);\r\n        this._createControls(form);\r\n    }\r\n    _createControls(group) {\r\n        this._configSubject.value.forEach(item => {\r\n            item.createControl(group);\r\n        });\r\n    }\r\n    clearConfig() {\r\n        this._configSubject.next([]);\r\n    }\r\n}\r\nVFactoryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nVFactoryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VAccordionComponent {\r\n    constructor() { }\r\n    get formArray() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVAccordionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVAccordionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VAccordionComponent, selector: \"app-v-accordion\", inputs: { field: \"field\", group: \"group\" }, ngImport: i0, template: \"<mat-accordion [formGroup]=\\\"group\\\">\\r\\n    <ng-container [formArrayName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items; let i = index;\\\" [formGroupName]=\\\"i\\\">\\r\\n            <mat-expansion-panel [expanded]=\\\"field.getStep() === i\\\" (opened)=\\\"field.setStep(i)\\\" hideToggle>\\r\\n                <mat-expansion-panel-header>\\r\\n                    <mat-panel-title>\\r\\n                       <b> {{field.getItemTitle(i)}} </b>\\r\\n                    </mat-panel-title>\\r\\n                    <mat-panel-description>\\r\\n                    <!--  some title infos -->\\r\\n                    </mat-panel-description>\\r\\n                </mat-expansion-panel-header>\\r\\n\\r\\n                    <ng-container\\r\\n                        appVField\\r\\n                        [field]=\\\"item\\\"\\r\\n                        [group]=\\\"formArray.controls[i]\\\"\\r\\n                        >\\r\\n                    </ng-container>\\r\\n\\r\\n                <mat-action-row>\\r\\n                    <span *ngIf=\\\"i === 0\\\"></span>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i !== 0\\\" mat-stroked-button color=\\\"accent\\\" (click)=\\\"field.prevHandler(i)\\\">\\r\\n                        <mat-icon>arrow_back_ios</mat-icon>                        \\r\\n                    </button>\\r\\n                    <button *ngIf=\\\"field.removeHandler\\\" type=\\\"button\\\" mat-stroked-button color=\\\"warn\\\" (click)=\\\"field.removeHandler(i)\\\">\\r\\n                        <mat-icon>clear</mat-icon>                        \\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i !== field.items.length - 1\\\" mat-stroked-button color=\\\"accent\\\" (click)=\\\"field.nextHandler(i)\\\">                        \\r\\n                        <mat-icon>arrow_forward_ios</mat-icon>\\r\\n                    </button>\\r\\n                    <span *ngIf=\\\"i === field.items.length - 1 && field.isDefaultHandler\\\"></span>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i === field.items.length - 1 && !field.isDefaultHandler\\\" mat-stroked-button color=\\\"primary\\\" (click)=\\\"field.nextHandler(i)\\\">                        \\r\\n                        <mat-icon>add</mat-icon>\\r\\n                    </button>\\r\\n                </mat-action-row>\\r\\n            </mat-expansion-panel>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</mat-accordion>\\r\\n\", styles: [\".mat-expansion-panel{padding:5px}.mat-action-row{display:flex;justify-content:space-between}.mat-stroked-button{border-radius:15px}\\n\"], components: [{ type: i1.MatExpansionPanel, selector: \"mat-expansion-panel\", inputs: [\"disabled\", \"expanded\", \"hideToggle\", \"togglePosition\"], outputs: [\"opened\", \"closed\", \"expandedChange\", \"afterExpand\", \"afterCollapse\"], exportAs: [\"matExpansionPanel\"] }, { type: i1.MatExpansionPanelHeader, selector: \"mat-expansion-panel-header\", inputs: [\"tabIndex\", \"expandedHeight\", \"collapsedHeight\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i1.MatAccordion, selector: \"mat-accordion\", inputs: [\"multi\", \"hideToggle\", \"displayMode\", \"togglePosition\"], exportAs: [\"matAccordion\"] }, { type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.FormArrayName, selector: \"[formArrayName]\", inputs: [\"formArrayName\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i4.FormGroupName, selector: \"[formGroupName]\", inputs: [\"formGroupName\"] }, { type: i1.MatExpansionPanelTitle, selector: \"mat-panel-title\" }, { type: i1.MatExpansionPanelDescription, selector: \"mat-panel-description\" }, { type: i1.MatExpansionPanelActionRow, selector: \"mat-action-row\" }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-accordion', template: \"<mat-accordion [formGroup]=\\\"group\\\">\\r\\n    <ng-container [formArrayName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items; let i = index;\\\" [formGroupName]=\\\"i\\\">\\r\\n            <mat-expansion-panel [expanded]=\\\"field.getStep() === i\\\" (opened)=\\\"field.setStep(i)\\\" hideToggle>\\r\\n                <mat-expansion-panel-header>\\r\\n                    <mat-panel-title>\\r\\n                       <b> {{field.getItemTitle(i)}} </b>\\r\\n                    </mat-panel-title>\\r\\n                    <mat-panel-description>\\r\\n                    <!--  some title infos -->\\r\\n                    </mat-panel-description>\\r\\n                </mat-expansion-panel-header>\\r\\n\\r\\n                    <ng-container\\r\\n                        appVField\\r\\n                        [field]=\\\"item\\\"\\r\\n                        [group]=\\\"formArray.controls[i]\\\"\\r\\n                        >\\r\\n                    </ng-container>\\r\\n\\r\\n                <mat-action-row>\\r\\n                    <span *ngIf=\\\"i === 0\\\"></span>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i !== 0\\\" mat-stroked-button color=\\\"accent\\\" (click)=\\\"field.prevHandler(i)\\\">\\r\\n                        <mat-icon>arrow_back_ios</mat-icon>                        \\r\\n                    </button>\\r\\n                    <button *ngIf=\\\"field.removeHandler\\\" type=\\\"button\\\" mat-stroked-button color=\\\"warn\\\" (click)=\\\"field.removeHandler(i)\\\">\\r\\n                        <mat-icon>clear</mat-icon>                        \\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i !== field.items.length - 1\\\" mat-stroked-button color=\\\"accent\\\" (click)=\\\"field.nextHandler(i)\\\">                        \\r\\n                        <mat-icon>arrow_forward_ios</mat-icon>\\r\\n                    </button>\\r\\n                    <span *ngIf=\\\"i === field.items.length - 1 && field.isDefaultHandler\\\"></span>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i === field.items.length - 1 && !field.isDefaultHandler\\\" mat-stroked-button color=\\\"primary\\\" (click)=\\\"field.nextHandler(i)\\\">                        \\r\\n                        <mat-icon>add</mat-icon>\\r\\n                    </button>\\r\\n                </mat-action-row>\\r\\n            </mat-expansion-panel>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</mat-accordion>\\r\\n\", styles: [\".mat-expansion-panel{padding:5px}.mat-action-row{display:flex;justify-content:space-between}.mat-stroked-button{border-radius:15px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { field: [{\r\n                type: Input\r\n            }], group: [{\r\n                type: Input\r\n            }] } });\n\nclass VAutocompleteFieldComponent {\r\n    constructor() {\r\n        this.data = [];\r\n        this._optionSubject = new BehaviorSubject([]);\r\n        this.filteredOptions = this._optionSubject.asObservable();\r\n    }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n        if (isObservable(this.field.options)) {\r\n            this.field.options\r\n                .subscribe(res => {\r\n                this.data = res;\r\n                this._optionSubject.next(this.data);\r\n            });\r\n        }\r\n        else {\r\n            this.data = this.field.options;\r\n            this._optionSubject.next(this.data);\r\n        }\r\n        this.control.valueChanges\r\n            .pipe(startWith(''), map(value => (typeof value === 'string' ? value : value.label)), map(value => this._filter(value)))\r\n            .subscribe(res => {\r\n            this._optionSubject.next(res);\r\n        });\r\n    }\r\n    _filter(value) {\r\n        const filterValue = value.toLowerCase();\r\n        return this.data\r\n            .filter(option => option.label.toLowerCase().includes(filterValue) ||\r\n            option.label.replace(' ', '').toLowerCase().includes(filterValue) ||\r\n            option.label.toLowerCase().includes(filterValue.replace(' ', '')))\r\n            .filter(this.field.filter)\r\n            .sort((a, b) => {\r\n            const aIdx = a.label?.toLowerCase().indexOf(filterValue), bIdx = b.label?.toLowerCase().indexOf(filterValue);\r\n            return aIdx > bIdx ? 1 : -1;\r\n        });\r\n    }\r\n    displayFn(option) {\r\n        return option && option.label ? option.label : '';\r\n    }\r\n    trackByFn(index, item) {\r\n        if (!item)\r\n            return null;\r\n        return index;\r\n    }\r\n    onFocus() {\r\n        if (!this.control.value || this.control.value === '') {\r\n            this.trigger._onChange('');\r\n            this.trigger.openPanel();\r\n        }\r\n    }\r\n}\r\nVAutocompleteFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVAutocompleteFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VAutocompleteFieldComponent, selector: \"app-autocomplete-field\", viewQueries: [{ propertyName: \"trigger\", first: true, predicate: MatAutocompleteTrigger, descendants: true, read: MatAutocompleteTrigger }], ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <input type=\\\"text\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.placeholder\\\"\\r\\n        matInput \\r\\n        [matAutocomplete]=\\\"auto\\\"\\r\\n        (click)=\\\"onFocus()\\\"        \\r\\n      >\\r\\n    <mat-autocomplete autoActiveFirstOption #auto=\\\"matAutocomplete\\\" [displayWith]=\\\"displayFn\\\">\\r\\n      <mat-option *ngFor=\\\"let option of filteredOptions | async; trackBy: trackByFn\\\" [value]=\\\"option\\\">\\r\\n        {{option.label}}\\r\\n      </mat-option>\\r\\n    </mat-autocomplete>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>\\r\\n</mat-form-field>\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$2.MatAutocomplete, selector: \"mat-autocomplete\", inputs: [\"disableRipple\"], exportAs: [\"matAutocomplete\"] }, { type: i4$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2$2.MatAutocompleteTrigger, selector: \"input[matAutocomplete], textarea[matAutocomplete]\", exportAs: [\"matAutocompleteTrigger\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-autocomplete-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <input type=\\\"text\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.placeholder\\\"\\r\\n        matInput \\r\\n        [matAutocomplete]=\\\"auto\\\"\\r\\n        (click)=\\\"onFocus()\\\"        \\r\\n      >\\r\\n    <mat-autocomplete autoActiveFirstOption #auto=\\\"matAutocomplete\\\" [displayWith]=\\\"displayFn\\\">\\r\\n      <mat-option *ngFor=\\\"let option of filteredOptions | async; trackBy: trackByFn\\\" [value]=\\\"option\\\">\\r\\n        {{option.label}}\\r\\n      </mat-option>\\r\\n    </mat-autocomplete>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>\\r\\n</mat-form-field>\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { trigger: [{\r\n                type: ViewChild,\r\n                args: [MatAutocompleteTrigger, { read: MatAutocompleteTrigger }]\r\n            }] } });\n\nclass VBoxComponent {\r\n    constructor() {\r\n        this.isFormArray = false;\r\n    }\r\n    get formArray() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n        this.field.items = this.field.items.filter(item => item.getName() !== 'vcontent');\r\n    }\r\n}\r\nVBoxComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVBoxComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VBoxComponent, selector: \"app-box\", inputs: { field: \"field\", group: \"group\" }, ngImport: i0, template: \"<ng-container *ngIf=\\\"!!this.field.name && this.field.formMode === 'array'\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container [formArrayName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items; let i = index;\\\" [formGroupName]=\\\"i\\\">            \\r\\n            <ng-container\\r\\n                appVField\\r\\n                [field]=\\\"item\\\"\\r\\n                [group]=\\\"formArray.controls[i]\\\"\\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n<ng-container *ngIf=\\\"!!this.field.name && this.field.formMode === 'group'\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container [formGroupName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items\\\">            \\r\\n            <ng-container\\r\\n                appVField\\r\\n                [field]=\\\"item\\\"\\r\\n                [group]=\\\"group.get(field.name)\\\"\\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n<ng-container *ngIf=\\\"!this.field.name\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container *ngFor=\\\"let item of field.items\\\">  \\r\\n        <ng-container\\r\\n            appVField\\r\\n            [field]=\\\"item\\\"\\r\\n            [group]=\\\"group\\\"\\r\\n            >\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n\\r\\n     \\r\\n    \\r\\n\\r\\n    \\r\\n\\r\\n\", styles: [\"\"], directives: [{ type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.FormArrayName, selector: \"[formArrayName]\", inputs: [\"formArrayName\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i4.FormGroupName, selector: \"[formGroupName]\", inputs: [\"formGroupName\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-box', template: \"<ng-container *ngIf=\\\"!!this.field.name && this.field.formMode === 'array'\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container [formArrayName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items; let i = index;\\\" [formGroupName]=\\\"i\\\">            \\r\\n            <ng-container\\r\\n                appVField\\r\\n                [field]=\\\"item\\\"\\r\\n                [group]=\\\"formArray.controls[i]\\\"\\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n<ng-container *ngIf=\\\"!!this.field.name && this.field.formMode === 'group'\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container [formGroupName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items\\\">            \\r\\n            <ng-container\\r\\n                appVField\\r\\n                [field]=\\\"item\\\"\\r\\n                [group]=\\\"group.get(field.name)\\\"\\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n<ng-container *ngIf=\\\"!this.field.name\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container *ngFor=\\\"let item of field.items\\\">  \\r\\n        <ng-container\\r\\n            appVField\\r\\n            [field]=\\\"item\\\"\\r\\n            [group]=\\\"group\\\"\\r\\n            >\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n\\r\\n     \\r\\n    \\r\\n\\r\\n    \\r\\n\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { field: [{\r\n                type: Input\r\n            }], group: [{\r\n                type: Input\r\n            }] } });\n\nclass VButtonComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVButtonComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVButtonComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VButtonComponent, selector: \"app-button\", ngImport: i0, template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <ng-container [ngSwitch]=\\\"field.styleType\\\">        \\r\\n        <button *ngSwitchCase=\\\"'raised'\\\" \\r\\n            mat-raised-button \\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>        \\r\\n        \\r\\n        <button *ngSwitchCase=\\\"'stroked'\\\" \\r\\n            mat-stroked-button \\r\\n            [color]=\\\"field.color\\\" \\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'flat'\\\" \\r\\n            mat-flat-button \\r\\n            [color]=\\\"field.color\\\" \\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'icon'\\\" \\r\\n            mat-icon-button \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'fab'\\\" \\r\\n            mat-fab \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'mini-fab'\\\" \\r\\n            mat-mini-fab \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchDefault \\r\\n            mat-button \\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n    </ng-container>\\r\\n</ng-container>\", styles: [\"button{width:100%}\\n\"], components: [{ type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { type: i5.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i5$1.MatTooltip, selector: \"[matTooltip]\", exportAs: [\"matTooltip\"] }, { type: i5.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-button', template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <ng-container [ngSwitch]=\\\"field.styleType\\\">        \\r\\n        <button *ngSwitchCase=\\\"'raised'\\\" \\r\\n            mat-raised-button \\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>        \\r\\n        \\r\\n        <button *ngSwitchCase=\\\"'stroked'\\\" \\r\\n            mat-stroked-button \\r\\n            [color]=\\\"field.color\\\" \\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'flat'\\\" \\r\\n            mat-flat-button \\r\\n            [color]=\\\"field.color\\\" \\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'icon'\\\" \\r\\n            mat-icon-button \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'fab'\\\" \\r\\n            mat-fab \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'mini-fab'\\\" \\r\\n            mat-mini-fab \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchDefault \\r\\n            mat-button \\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n    </ng-container>\\r\\n</ng-container>\", styles: [\"button{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VCheckboxFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVCheckboxFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVCheckboxFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VCheckboxFieldComponent, selector: \"app-checkbox-field\", ngImport: i0, template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <mat-checkbox\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [labelPosition]=\\\"field.labelPosition\\\"\\r\\n    >\\r\\n        {{field.label}}\\r\\n    </mat-checkbox>\\r\\n</ng-container>\\r\\n\\r\\n\", styles: [\"\"], components: [{ type: i1$2.MatCheckbox, selector: \"mat-checkbox\", inputs: [\"disableRipple\", \"color\", \"tabIndex\", \"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"id\", \"required\", \"labelPosition\", \"name\", \"value\", \"checked\", \"disabled\", \"indeterminate\"], outputs: [\"change\", \"indeterminateChange\"], exportAs: [\"matCheckbox\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-checkbox-field', template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <mat-checkbox\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [labelPosition]=\\\"field.labelPosition\\\"\\r\\n    >\\r\\n        {{field.label}}\\r\\n    </mat-checkbox>\\r\\n</ng-container>\\r\\n\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VChipsFieldComponent {\r\n    constructor() {\r\n        this.filterControl = new FormControl('');\r\n        this.separatorKeysCodes = [ENTER, COMMA];\r\n        this.data = [];\r\n        this.idxs = [];\r\n        this._optionSubject = new BehaviorSubject([]);\r\n        this.options = this._optionSubject.asObservable();\r\n        this._chipsSubject = new BehaviorSubject([]);\r\n        this.chips = this._chipsSubject.asObservable();\r\n    }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n        if (this.field.options instanceof Observable) {\r\n            this.field.options\r\n                .pipe(map(x => this._transformOptions(x)))\r\n                .subscribe(options => {\r\n                this.data = options;\r\n                this._optionSubject.next(this.data);\r\n                this._chipsSubject.next(this.field.value);\r\n            });\r\n        }\r\n        else {\r\n            this.data = this._transformOptions(this.field.options);\r\n            this._optionSubject.next(this.data);\r\n            this._chipsSubject.next(this.field.value);\r\n        }\r\n        this.filterControl.valueChanges\r\n            .pipe(startWith(''), map(value => (typeof value === 'string' ? value : value.label)), map(value => this._filter(value)))\r\n            .subscribe(res => {\r\n            this._optionSubject.next(res);\r\n        });\r\n        this.chips\r\n            .subscribe(value => {\r\n            this._filterOptions();\r\n            this.control.setValue(value);\r\n        });\r\n    }\r\n    remove(item) {\r\n        const chips = this._chipsSubject.value;\r\n        const index = chips.findIndex(x => x.value === item.value);\r\n        if (index !== -1) {\r\n            chips.splice(index, 1);\r\n        }\r\n        this._chipsSubject.next(chips);\r\n    }\r\n    selected(event) {\r\n        const value = event.option.value;\r\n        const chips = this._chipsSubject.value;\r\n        chips.push(value);\r\n        this._chipsSubject.next(chips);\r\n        this.chipsInput?.nativeElement.blur();\r\n    }\r\n    _filter(value) {\r\n        const filterValue = value.toLowerCase();\r\n        const idxs = this._chipsSubject.value.map(x => x.value);\r\n        return this.data\r\n            .filter(option => option.label.toLowerCase().includes(filterValue) ||\r\n            option.label.replace(' ', '').toLowerCase().includes(filterValue) ||\r\n            option.label.toLowerCase().includes(filterValue.replace(' ', '')))\r\n            .filter(option => idxs.indexOf(option.value) === -1)\r\n            .sort((a, b) => {\r\n            const aIdx = a.label?.toLowerCase().indexOf(filterValue), bIdx = b.label?.toLowerCase().indexOf(filterValue);\r\n            return aIdx > bIdx ? 1 : -1;\r\n        });\r\n    }\r\n    displayFn(option) {\r\n        return option && option.label ? option.label : '';\r\n    }\r\n    trackByFn(index, item) {\r\n        if (!item)\r\n            return null;\r\n        return index;\r\n    }\r\n    onFocus() {\r\n        if (!this.filterControl.value || this.filterControl.value === '') {\r\n            this.trigger?._onChange('');\r\n            this.trigger?.openPanel();\r\n        }\r\n    }\r\n    _filterOptions() {\r\n        const idxs = this._chipsSubject.value.map(x => x.value);\r\n        const options = this.data\r\n            .filter(x => idxs.indexOf(x.value) === -1);\r\n        this._optionSubject.next(options);\r\n    }\r\n    _transformOptions(options) {\r\n        return options.map(o => {\r\n            return {\r\n                ...o,\r\n                data: {\r\n                    ...o.data,\r\n                    color: o.data?.color ?? 'accent',\r\n                    selected: o.data?.selected ?? false\r\n                }\r\n            };\r\n        });\r\n    }\r\n}\r\nVChipsFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVChipsFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VChipsFieldComponent, selector: \"v-v-chips-field\", viewQueries: [{ propertyName: \"trigger\", first: true, predicate: MatAutocompleteTrigger, descendants: true, read: MatAutocompleteTrigger }, { propertyName: \"chipsInput\", first: true, predicate: [\"chipsInput\"], descendants: true }], ngImport: i0, template: \"<mat-form-field  [formGroup]=\\\"group\\\">\\n    <mat-label *ngIf=\\\"field.label\\\">{{ field.label }}</mat-label>\\n    <mat-chip-list #chipList>\\n      <mat-chip\\n        *ngFor=\\\"let item of chips | async\\\"\\n        [color]=\\\"item.data?.color\\\"\\n        [selected]=\\\"item.data?.selected\\\"\\n        (removed)=\\\"remove(item)\\\"\\n        >\\n        {{ item.label }}\\n        <button matChipRemove>\\n          <mat-icon>cancel</mat-icon>\\n        </button>\\n      </mat-chip>\\n      <input\\n        [placeholder]=\\\"field.placeholder\\\"\\n        #chipsInput\\n        [formControl]=\\\"filterControl\\\"\\n        [matAutocomplete]=\\\"auto\\\"\\n        [matChipInputFor]=\\\"chipList\\\"\\n        [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\n        (click)=\\\"onFocus()\\\"\\n    >\\n    </mat-chip-list>\\n    <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\" [displayWith]=\\\"displayFn\\\">\\n      <mat-option *ngFor=\\\"let option of options | async\\\" [value]=\\\"option\\\">\\n        {{option.label}}\\n      </mat-option>\\n    </mat-autocomplete>\\n</mat-form-field>\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$3.MatChipList, selector: \"mat-chip-list\", inputs: [\"errorStateMatcher\", \"multiple\", \"compareWith\", \"value\", \"required\", \"placeholder\", \"disabled\", \"aria-orientation\", \"selectable\", \"tabIndex\"], outputs: [\"change\", \"valueChange\"], exportAs: [\"matChipList\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2$2.MatAutocomplete, selector: \"mat-autocomplete\", inputs: [\"disableRipple\"], exportAs: [\"matAutocomplete\"] }, { type: i4$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.MatChip, selector: \"mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]\", inputs: [\"color\", \"disableRipple\", \"tabIndex\", \"selected\", \"value\", \"selectable\", \"disabled\", \"removable\"], outputs: [\"selectionChange\", \"destroyed\", \"removed\"], exportAs: [\"matChip\"] }, { type: i2$3.MatChipRemove, selector: \"[matChipRemove]\" }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2$2.MatAutocompleteTrigger, selector: \"input[matAutocomplete], textarea[matAutocomplete]\", exportAs: [\"matAutocompleteTrigger\"] }, { type: i2$3.MatChipInput, selector: \"input[matChipInputFor]\", inputs: [\"matChipInputFor\", \"matChipInputAddOnBlur\", \"matChipInputSeparatorKeyCodes\", \"placeholder\", \"id\", \"disabled\"], outputs: [\"matChipInputTokenEnd\"], exportAs: [\"matChipInput\", \"matChipInputFor\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'v-v-chips-field', template: \"<mat-form-field  [formGroup]=\\\"group\\\">\\n    <mat-label *ngIf=\\\"field.label\\\">{{ field.label }}</mat-label>\\n    <mat-chip-list #chipList>\\n      <mat-chip\\n        *ngFor=\\\"let item of chips | async\\\"\\n        [color]=\\\"item.data?.color\\\"\\n        [selected]=\\\"item.data?.selected\\\"\\n        (removed)=\\\"remove(item)\\\"\\n        >\\n        {{ item.label }}\\n        <button matChipRemove>\\n          <mat-icon>cancel</mat-icon>\\n        </button>\\n      </mat-chip>\\n      <input\\n        [placeholder]=\\\"field.placeholder\\\"\\n        #chipsInput\\n        [formControl]=\\\"filterControl\\\"\\n        [matAutocomplete]=\\\"auto\\\"\\n        [matChipInputFor]=\\\"chipList\\\"\\n        [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\n        (click)=\\\"onFocus()\\\"\\n    >\\n    </mat-chip-list>\\n    <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\" [displayWith]=\\\"displayFn\\\">\\n      <mat-option *ngFor=\\\"let option of options | async\\\" [value]=\\\"option\\\">\\n        {{option.label}}\\n      </mat-option>\\n    </mat-autocomplete>\\n</mat-form-field>\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { trigger: [{\r\n                type: ViewChild,\r\n                args: [MatAutocompleteTrigger, { read: MatAutocompleteTrigger }]\r\n            }], chipsInput: [{\r\n                type: ViewChild,\r\n                args: ['chipsInput']\r\n            }] } });\n\nclass VChipsComponent {\r\n    constructor() {\r\n        this._optionSubject = new BehaviorSubject([]);\r\n        this.options = this._optionSubject.asObservable();\r\n    }\r\n    ngOnInit() {\r\n        if (this.field.options instanceof Observable) {\r\n            this.field.options\r\n                .pipe(map(x => this._transformOptions(x)))\r\n                .subscribe(options => {\r\n                this._optionSubject.next(options);\r\n            });\r\n        }\r\n        else {\r\n            this._optionSubject.next(this._transformOptions(this.field.options));\r\n        }\r\n    }\r\n    _transformOptions(options) {\r\n        return options.map(o => {\r\n            return {\r\n                ...o,\r\n                data: {\r\n                    ...o.data,\r\n                    color: o.data?.color ?? 'accent',\r\n                    selected: o.data?.selected ?? false\r\n                }\r\n            };\r\n        });\r\n    }\r\n}\r\nVChipsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVChipsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VChipsComponent, selector: \"app-v-chips\", ngImport: i0, template: \"<mat-chip-list>\\r\\n  <mat-chip *ngFor=\\\"let option of options | async\\\" \\r\\n    [color]=\\\"option.data?.color\\\"\\r\\n    [selected]=\\\"option.data?.selected\\\"\\r\\n  >\\r\\n    {{option.label}}\\r\\n  </mat-chip>\\r\\n</mat-chip-list>\", styles: [\"\"], components: [{ type: i2$3.MatChipList, selector: \"mat-chip-list\", inputs: [\"errorStateMatcher\", \"multiple\", \"compareWith\", \"value\", \"required\", \"placeholder\", \"disabled\", \"aria-orientation\", \"selectable\", \"tabIndex\"], outputs: [\"change\", \"valueChange\"], exportAs: [\"matChipList\"] }], directives: [{ type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.MatChip, selector: \"mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]\", inputs: [\"color\", \"disableRipple\", \"tabIndex\", \"selected\", \"value\", \"selectable\", \"disabled\", \"removable\"], outputs: [\"selectionChange\", \"destroyed\", \"removed\"], exportAs: [\"matChip\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-chips', template: \"<mat-chip-list>\\r\\n  <mat-chip *ngFor=\\\"let option of options | async\\\" \\r\\n    [color]=\\\"option.data?.color\\\"\\r\\n    [selected]=\\\"option.data?.selected\\\"\\r\\n  >\\r\\n    {{option.label}}\\r\\n  </mat-chip>\\r\\n</mat-chip-list>\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VColorFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() { }\r\n}\r\nVColorFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVColorFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VColorFieldComponent, selector: \"app-v-color-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        type=\\\"color\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n    />\\r\\n\\r\\n    <mat-icon *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-color-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        type=\\\"color\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n    />\\r\\n\\r\\n    <mat-icon *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VDatepickerFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() { }\r\n}\r\nVDatepickerFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVDatepickerFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VDatepickerFieldComponent, selector: \"app-datepicker-field\", ngImport: i0, template: \"<mat-form-field color=\\\"field.color\\\" appearance=\\\"fill\\\"  [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <input \\r\\n        matInput \\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [matDatepicker]=\\\"picker1\\\"\\r\\n    >\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker1\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker1></mat-datepicker>\\r\\n</mat-form-field>\", styles: [\"\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$4.MatDatepickerToggle, selector: \"mat-datepicker-toggle\", inputs: [\"for\", \"tabIndex\", \"aria-label\", \"disabled\", \"disableRipple\"], exportAs: [\"matDatepickerToggle\"] }, { type: i2$4.MatDatepicker, selector: \"mat-datepicker\", exportAs: [\"matDatepicker\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2$4.MatDatepickerInput, selector: \"input[matDatepicker]\", inputs: [\"matDatepicker\", \"min\", \"max\", \"matDatepickerFilter\"], exportAs: [\"matDatepickerInput\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-datepicker-field', template: \"<mat-form-field color=\\\"field.color\\\" appearance=\\\"fill\\\"  [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <input \\r\\n        matInput \\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [matDatepicker]=\\\"picker1\\\"\\r\\n    >\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker1\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker1></mat-datepicker>\\r\\n</mat-form-field>\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VDividerComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVDividerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVDividerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VDividerComponent, selector: \"app-v-divider\", ngImport: i0, template: \"<mat-divider></mat-divider>\\r\\n\", styles: [\"\"], components: [{ type: i1$3.MatDivider, selector: \"mat-divider\", inputs: [\"vertical\", \"inset\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-divider', template: \"<mat-divider></mat-divider>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VDragDropListComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n    drop(event) {\r\n        moveItemInArray(this.field.options, event.previousIndex, event.currentIndex);\r\n        this.group.controls[this.field.name].markAsTouched();\r\n    }\r\n}\r\nVDragDropListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVDragDropListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VDragDropListComponent, selector: \"app-drag-drop-list\", ngImport: i0, template: \"<mat-card [formGroup]=\\\"group\\\">\\r\\n    <ng-container  *ngIf=\\\"field.label\\\">\\r\\n        <mat-card-header>\\r\\n            <mat-card-title>{{field.label}}</mat-card-title>    \\r\\n        </mat-card-header>\\r\\n        <mat-divider></mat-divider>\\r\\n    </ng-container>\\r\\n    \\r\\n    <input type=\\\"hidden\\\" [formControlName]=\\\"field.name\\\" />\\r\\n    \\r\\n    <mat-card-content>        \\r\\n        <div cdkDropList class=\\\"list-wrapper\\\" (cdkDropListDropped)=\\\"drop($event)\\\">\\r\\n            <div class=\\\"list-box\\\" *ngFor=\\\"let option of field.options\\\" cdkDrag (dblclick)=\\\"field.handler(option)\\\">            \\r\\n                <mat-icon *ngIf=\\\"option.icon\\\">{{option.icon}}</mat-icon>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.showAvatar && option.data?.image\\\">\\r\\n                    <img class=\\\"avatar-img\\\" [src]=\\\"option.data.image\\\" [alt]=\\\"option.label\\\">\\r\\n                </ng-container>\\r\\n\\r\\n                <strong *ngIf=\\\"option.label\\\">{{option.label}}</strong>\\r\\n\\r\\n                <span *ngIf=\\\"option.data?.info\\\">{{option.data?.info}}</span>\\r\\n                <span *ngIf=\\\"!option.data?.info\\\"></span>\\r\\n\\r\\n                <span style=\\\"flex: 1\\\"></span>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.removable\\\">\\r\\n                    <button\\r\\n                        mat-icon-button \\r\\n                        matTooltip=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\"\\r\\n                        color=\\\"warn\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        (click)=\\\"field.removeHandler(option)\\\"\\r\\n                        >\\r\\n                        <mat-icon>clear</mat-icon>\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n\\r\\n                <span *ngIf=\\\"!field.removable\\\"></span>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.showPreview && option.data?.image\\\">\\r\\n                    <img *cdkDragPreview [src]=\\\"option.data.image\\\" [alt]=\\\"option.label\\\">\\r\\n                </ng-container>            \\r\\n            </div>\\r\\n        </div>\\r\\n    </mat-card-content>    \\r\\n</mat-card>\\r\\n\", styles: [\"mat-card{margin:10px 0}mat-card-content{padding:10px 0}mat-card-header{display:flex;justify-content:space-between;margin-bottom:5px}.list-wrapper{width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.list-box{padding:10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;box-sizing:border-box;cursor:move;background:white;font-size:14px}.list-box mat-icon{margin-right:15px}.list-box .avatar-img{width:40px;margin-right:20px;border-radius:5px}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.list-box:last-child{border:none}.list-wrapper.cdk-drop-list-dragging .list-box:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.hidden{display:none}\\n\"], components: [{ type: i1$4.MatCard, selector: \"mat-card\", exportAs: [\"matCard\"] }, { type: i1$4.MatCardHeader, selector: \"mat-card-header\" }, { type: i1$3.MatDivider, selector: \"mat-divider\", inputs: [\"vertical\", \"inset\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$4.MatCardTitle, selector: \"mat-card-title, [mat-card-title], [matCardTitle]\" }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$4.MatCardContent, selector: \"mat-card-content, [mat-card-content], [matCardContent]\" }, { type: i7.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"cdkDropListData\", \"cdkDropListOrientation\", \"id\", \"cdkDropListLockAxis\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i7.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i7.CdkDragPreview, selector: \"ng-template[cdkDragPreview]\", inputs: [\"data\", \"matchSize\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-drag-drop-list', template: \"<mat-card [formGroup]=\\\"group\\\">\\r\\n    <ng-container  *ngIf=\\\"field.label\\\">\\r\\n        <mat-card-header>\\r\\n            <mat-card-title>{{field.label}}</mat-card-title>    \\r\\n        </mat-card-header>\\r\\n        <mat-divider></mat-divider>\\r\\n    </ng-container>\\r\\n    \\r\\n    <input type=\\\"hidden\\\" [formControlName]=\\\"field.name\\\" />\\r\\n    \\r\\n    <mat-card-content>        \\r\\n        <div cdkDropList class=\\\"list-wrapper\\\" (cdkDropListDropped)=\\\"drop($event)\\\">\\r\\n            <div class=\\\"list-box\\\" *ngFor=\\\"let option of field.options\\\" cdkDrag (dblclick)=\\\"field.handler(option)\\\">            \\r\\n                <mat-icon *ngIf=\\\"option.icon\\\">{{option.icon}}</mat-icon>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.showAvatar && option.data?.image\\\">\\r\\n                    <img class=\\\"avatar-img\\\" [src]=\\\"option.data.image\\\" [alt]=\\\"option.label\\\">\\r\\n                </ng-container>\\r\\n\\r\\n                <strong *ngIf=\\\"option.label\\\">{{option.label}}</strong>\\r\\n\\r\\n                <span *ngIf=\\\"option.data?.info\\\">{{option.data?.info}}</span>\\r\\n                <span *ngIf=\\\"!option.data?.info\\\"></span>\\r\\n\\r\\n                <span style=\\\"flex: 1\\\"></span>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.removable\\\">\\r\\n                    <button\\r\\n                        mat-icon-button \\r\\n                        matTooltip=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\"\\r\\n                        color=\\\"warn\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        (click)=\\\"field.removeHandler(option)\\\"\\r\\n                        >\\r\\n                        <mat-icon>clear</mat-icon>\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n\\r\\n                <span *ngIf=\\\"!field.removable\\\"></span>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.showPreview && option.data?.image\\\">\\r\\n                    <img *cdkDragPreview [src]=\\\"option.data.image\\\" [alt]=\\\"option.label\\\">\\r\\n                </ng-container>            \\r\\n            </div>\\r\\n        </div>\\r\\n    </mat-card-content>    \\r\\n</mat-card>\\r\\n\", styles: [\"mat-card{margin:10px 0}mat-card-content{padding:10px 0}mat-card-header{display:flex;justify-content:space-between;margin-bottom:5px}.list-wrapper{width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.list-box{padding:10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;box-sizing:border-box;cursor:move;background:white;font-size:14px}.list-box mat-icon{margin-right:15px}.list-box .avatar-img{width:40px;margin-right:20px;border-radius:5px}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.list-box:last-child{border:none}.list-wrapper.cdk-drop-list-dragging .list-box:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.hidden{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VEditorService {\r\n    constructor() {\r\n        this.btnAction = new Subject();\r\n    }\r\n    execCommand(action) {\r\n        this.btnAction.next(action);\r\n    }\r\n}\r\nVEditorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nVEditorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorService });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorService, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return []; } });\n\nclass ToolbarBtnComponent {\r\n    constructor() {\r\n        this.isActive = false;\r\n        this.exec = new EventEmitter();\r\n    }\r\n    execCmd() {\r\n        this.exec.emit({ action: this.action });\r\n        this.isActive = !this.isActive;\r\n    }\r\n}\r\nToolbarBtnComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nToolbarBtnComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ToolbarBtnComponent, selector: \"app-toolbar-btn\", inputs: { action: \"action\", icon: \"icon\" }, outputs: { exec: \"exec\" }, ngImport: i0, template: \"<button     \\r\\n    (click)=\\\"execCmd()\\\"\\r\\n    type=\\\"button\\\">\\r\\n    <span class=\\\"material-icons\\\">{{icon}}</span>\\r\\n</button>\\r\\n\", styles: [\"::ng-deep button{min-width:25px;padding:0;border:none;background-color:#fff;cursor:pointer;transition:.3s}::ng-deep button:hover{background-color:#dcdcdc}::ng-deep button:focus{outline:none}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-toolbar-btn', template: \"<button     \\r\\n    (click)=\\\"execCmd()\\\"\\r\\n    type=\\\"button\\\">\\r\\n    <span class=\\\"material-icons\\\">{{icon}}</span>\\r\\n</button>\\r\\n\", styles: [\"::ng-deep button{min-width:25px;padding:0;border:none;background-color:#fff;cursor:pointer;transition:.3s}::ng-deep button:hover{background-color:#dcdcdc}::ng-deep button:focus{outline:none}\\n\"] }]\r\n        }], propDecorators: { action: [{\r\n                type: Input\r\n            }], icon: [{\r\n                type: Input\r\n            }], exec: [{\r\n                type: Output\r\n            }] } });\n\nclass ToolbarSelectComponent {\r\n    constructor() {\r\n        this.exec = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onSelect(arg) {\r\n        this.exec.emit({ action: this.action, arg });\r\n    }\r\n}\r\nToolbarSelectComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nToolbarSelectComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ToolbarSelectComponent, selector: \"app-toolbar-select\", inputs: { action: \"action\", args: \"args\" }, outputs: { exec: \"exec\" }, ngImport: i0, template: \"<select matNativeControl (change)=\\\"onSelect($event.target.value)\\\">  \\r\\n  <option *ngFor=\\\"let arg of args\\\" [value]=\\\"arg.value\\\">{{ arg.label }}</option>\\r\\n</select>\\r\\n\", styles: [\"::ng-deep select{width:100px;padding:3px;border:1px solid #DCDCDC}\\n\"], directives: [{ type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-toolbar-select', template: \"<select matNativeControl (change)=\\\"onSelect($event.target.value)\\\">  \\r\\n  <option *ngFor=\\\"let arg of args\\\" [value]=\\\"arg.value\\\">{{ arg.label }}</option>\\r\\n</select>\\r\\n\", styles: [\"::ng-deep select{width:100px;padding:3px;border:1px solid #DCDCDC}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { action: [{\r\n                type: Input\r\n            }], args: [{\r\n                type: Input\r\n            }], exec: [{\r\n                type: Output\r\n            }] } });\n\nclass ToolbarColorComponent {\r\n    constructor() {\r\n        this.exec = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onPick(color) {\r\n        this.exec.emit({ action: this.action, arg: color });\r\n    }\r\n}\r\nToolbarColorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nToolbarColorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ToolbarColorComponent, selector: \"app-toolbar-color\", inputs: { action: \"action\", icon: \"icon\", value: \"value\" }, outputs: { exec: \"exec\" }, ngImport: i0, template: \"<div class=\\\"color-wrapper\\\">\\r\\n    <span class=\\\"material-icons\\\">{{icon}}</span>\\r\\n    <input type=\\\"color\\\" #colorinput matNativeControl [value]=\\\"value\\\" (change)=\\\"onPick($event.target.value)\\\"/>\\r\\n</div>\\r\\n\\r\\n\", styles: [\"::ng-deep .color-wrapper{width:60px;float:left;margin-left:5px}::ng-deep .color-wrapper input{width:25px;float:right}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-toolbar-color', template: \"<div class=\\\"color-wrapper\\\">\\r\\n    <span class=\\\"material-icons\\\">{{icon}}</span>\\r\\n    <input type=\\\"color\\\" #colorinput matNativeControl [value]=\\\"value\\\" (change)=\\\"onPick($event.target.value)\\\"/>\\r\\n</div>\\r\\n\\r\\n\", styles: [\"::ng-deep .color-wrapper{width:60px;float:left;margin-left:5px}::ng-deep .color-wrapper input{width:25px;float:right}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { action: [{\r\n                type: Input\r\n            }], icon: [{\r\n                type: Input\r\n            }], value: [{\r\n                type: Input\r\n            }], exec: [{\r\n                type: Output\r\n            }] } });\n\nclass ToolbarComponent {\r\n    constructor(_editorService) {\r\n        this._editorService = _editorService;\r\n        this.formatBlockArgs = [\r\n            { value: '', label: 'Heading' },\r\n            { value: 'H1', label: 'Heading 1' },\r\n            { value: 'H2', label: 'Heading 2' },\r\n            { value: 'H3', label: 'Heading 3' },\r\n            { value: 'H4', label: 'Heading 4' },\r\n            { value: 'H5', label: 'Heading 5' },\r\n            { value: 'H6', label: 'Heading 6' }\r\n        ];\r\n        this.fontNameArgs = [\r\n            { value: '', label: 'Font Type' },\r\n            { value: 'Arial', label: 'Arial' },\r\n            { value: 'Comic Sans CS', label: 'Comic Sans CS' },\r\n            { value: 'Courier', label: 'Courier' },\r\n            { value: 'Georgia', label: 'Georgia' },\r\n            { value: 'Tahoma', label: 'Tahoma' },\r\n            { value: 'Times New Roman', label: 'Times New Roman' },\r\n            { value: 'Verdana', label: 'Verdana' }\r\n        ];\r\n        this.fontSizeArgs = [\r\n            { value: '', label: 'Font Size' },\r\n            { value: '1', label: '1' },\r\n            { value: '2', label: '2' },\r\n            { value: '3', label: '3' },\r\n            { value: '4', label: '4' },\r\n            { value: '5', label: '5' },\r\n            { value: '6', label: '6' },\r\n            { value: '7', label: '7' }\r\n        ];\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    execCmd(action) {\r\n        this._editorService.execCommand(action);\r\n    }\r\n}\r\nToolbarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarComponent, deps: [{ token: VEditorService }], target: i0.ɵɵFactoryTarget.Component });\r\nToolbarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ToolbarComponent, selector: \"app-toolbar\", ngImport: i0, template: \"<div class=\\\"toolbar-container\\\">\\r\\n    <div class=\\\"toolbar-row\\\">\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"undo\\\" action=\\\"undo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"redo\\\" action=\\\"redo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_bold\\\" action=\\\"bold\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_italic\\\" action=\\\"italic\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_underlined\\\" action=\\\"underline\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"strikethrough_s\\\" action=\\\"strikeThrough\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_align_left\\\" action=\\\"justifyLeft\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_center\\\" action=\\\"justifyCenter\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_right\\\" action=\\\"justifyRigth\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_justify\\\" action=\\\"justifyFull\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"content_cut\\\" action=\\\"cut\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"content_copy\\\" action=\\\"copy\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_indent_increase\\\" action=\\\"indent\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_indent_decrease\\\" action=\\\"outdent\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"subscript\\\" action=\\\"subscript\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"superscript\\\" action=\\\"superscript\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_list_bulleted\\\" action=\\\"insertUnorderedList\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_list_numbered\\\" action=\\\"insertOrderedList\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"formatBlock\\\" [args]=\\\"formatBlockArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"fontName\\\" [args]=\\\"fontNameArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"fontSize\\\" [args]=\\\"fontSizeArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"horizontal_rule\\\" action=\\\"insertHorizontalRule\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"insert_photo\\\" action=\\\"insertImage\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"videocam\\\" action=\\\"insertVideo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"link\\\" action=\\\"createLink\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"link_off\\\" action=\\\"unlink\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-color icon=\\\"format_color_text\\\" action=\\\"foreColor\\\" (exec)=\\\"execCmd($event)\\\"  value=\\\"#000000\\\"></app-toolbar-color>\\r\\n            <app-toolbar-color icon=\\\"format_color_fill\\\" action=\\\"hiliteColor\\\" (exec)=\\\"execCmd($event)\\\" value=\\\"#FFFFFF\\\"></app-toolbar-color>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"code\\\" action=\\\"toggleSource\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\"::ng-deep .toolbar-row{width:100%;height:50px;padding:4px;margin-bottom:5px}::ng-deep .toolbar-row .toolbar-block{float:left;height:25px;border-left:1px solid #DCDCDC;padding:1px 2px}\\n\"], components: [{ type: ToolbarBtnComponent, selector: \"app-toolbar-btn\", inputs: [\"action\", \"icon\"], outputs: [\"exec\"] }, { type: ToolbarSelectComponent, selector: \"app-toolbar-select\", inputs: [\"action\", \"args\"], outputs: [\"exec\"] }, { type: ToolbarColorComponent, selector: \"app-toolbar-color\", inputs: [\"action\", \"icon\", \"value\"], outputs: [\"exec\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-toolbar', template: \"<div class=\\\"toolbar-container\\\">\\r\\n    <div class=\\\"toolbar-row\\\">\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"undo\\\" action=\\\"undo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"redo\\\" action=\\\"redo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_bold\\\" action=\\\"bold\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_italic\\\" action=\\\"italic\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_underlined\\\" action=\\\"underline\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"strikethrough_s\\\" action=\\\"strikeThrough\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_align_left\\\" action=\\\"justifyLeft\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_center\\\" action=\\\"justifyCenter\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_right\\\" action=\\\"justifyRigth\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_justify\\\" action=\\\"justifyFull\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"content_cut\\\" action=\\\"cut\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"content_copy\\\" action=\\\"copy\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_indent_increase\\\" action=\\\"indent\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_indent_decrease\\\" action=\\\"outdent\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"subscript\\\" action=\\\"subscript\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"superscript\\\" action=\\\"superscript\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_list_bulleted\\\" action=\\\"insertUnorderedList\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_list_numbered\\\" action=\\\"insertOrderedList\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"formatBlock\\\" [args]=\\\"formatBlockArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"fontName\\\" [args]=\\\"fontNameArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"fontSize\\\" [args]=\\\"fontSizeArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"horizontal_rule\\\" action=\\\"insertHorizontalRule\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"insert_photo\\\" action=\\\"insertImage\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"videocam\\\" action=\\\"insertVideo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"link\\\" action=\\\"createLink\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"link_off\\\" action=\\\"unlink\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-color icon=\\\"format_color_text\\\" action=\\\"foreColor\\\" (exec)=\\\"execCmd($event)\\\"  value=\\\"#000000\\\"></app-toolbar-color>\\r\\n            <app-toolbar-color icon=\\\"format_color_fill\\\" action=\\\"hiliteColor\\\" (exec)=\\\"execCmd($event)\\\" value=\\\"#FFFFFF\\\"></app-toolbar-color>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"code\\\" action=\\\"toggleSource\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\"::ng-deep .toolbar-row{width:100%;height:50px;padding:4px;margin-bottom:5px}::ng-deep .toolbar-row .toolbar-block{float:left;height:25px;border-left:1px solid #DCDCDC;padding:1px 2px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: VEditorService }]; } });\n\n/*\r\nSource: https://github.com/TinkoffCreditSystems/angular-contenteditable-accessor\r\n*/\r\n/*\r\n * This is a barebones contenteditable {@link ControlValueAccessor} allowing you to use\r\n * Angular forms with native contenteditable HTML. For security reasons you might want\r\n * to consider sanitizing pasted/dropped content before using it. Also make sure that\r\n * you do not set any dangerous content as control value yourself, because directive\r\n * just outputs control value as-is.\r\n */\r\nclass ContenteditableValueAccessor {\r\n    constructor(elementRef, renderer) {\r\n        this.elementRef = elementRef;\r\n        this.renderer = renderer;\r\n        /*\r\n         * MutationObserver IE11 fallback (as opposed to input event for modern browsers).\r\n         * When mutation removes a tag, i.e. delete is pressed on the last remaining character\r\n         * inside a tag — callback is triggered before the DOM is actually changed, therefore\r\n         * setTimeout is used\r\n         */\r\n        this.observer = new MutationObserver(() => {\r\n            setTimeout(() => {\r\n                this.onChange(ContenteditableValueAccessor.processValue(this.elementRef.nativeElement.innerHTML));\r\n            });\r\n        });\r\n        /*\r\n         * onTouch callback that marks control as touched and allows FormHooks use\r\n         */\r\n        this.onTouched = () => { };\r\n        /*\r\n         * onChange callback that writes value to control and allows FormHooks use\r\n         */\r\n        this.onChange = () => { };\r\n    }\r\n    /*\r\n     * To support IE11 MutationObserver is used to monitor changes to the content\r\n     */\r\n    ngAfterViewInit() {\r\n        this.observer.observe(this.elementRef.nativeElement, {\r\n            characterData: true,\r\n            childList: true,\r\n            subtree: true,\r\n        });\r\n    }\r\n    /*\r\n     * Disconnect MutationObserver IE11 fallback on destroy\r\n     */\r\n    ngOnDestroy() {\r\n        this.observer.disconnect();\r\n    }\r\n    /*\r\n     * Listen to input events to write innerHTML value into control,\r\n     * also disconnect MutationObserver as it is not needed if this\r\n     * event works in current browser\r\n     */\r\n    onInput() {\r\n        this.observer.disconnect();\r\n        this.onChange(ContenteditableValueAccessor.processValue(this.elementRef.nativeElement.innerHTML));\r\n    }\r\n    /*\r\n     * Listen to blur event to mark control as touched\r\n     */\r\n    onBlur() {\r\n        this.onTouched();\r\n    }\r\n    /*\r\n     * Reacts to external change\r\n     *\r\n     * @see {@link ControlValueAccessor#writeValue}\r\n     */\r\n    writeValue(value) {\r\n        this.renderer.setProperty(this.elementRef.nativeElement, 'innerHTML', ContenteditableValueAccessor.processValue(value));\r\n    }\r\n    /*\r\n     * Registers onChange callback\r\n     *\r\n     * @see {@link ControlValueAccessor#registerOnChange}\r\n     */\r\n    registerOnChange(onChange) {\r\n        this.onChange = onChange;\r\n    }\r\n    /*\r\n     * Registers onTouch callback\r\n     *\r\n     * @see {@link ControlValueAccessor#registerOnTouched}\r\n     */\r\n    registerOnTouched(onTouched) {\r\n        this.onTouched = onTouched;\r\n    }\r\n    /*\r\n     * Sets disabled state by setting contenteditable attribute to true/false\r\n     *\r\n     * @see {@link ControlValueAccessor#setDisabledState}\r\n     */\r\n    setDisabledState(disabled) {\r\n        this.renderer.setAttribute(this.elementRef.nativeElement, 'contenteditable', String(!disabled));\r\n    }\r\n    /*\r\n     * null and other falsy control values are treated as empty string to\r\n     * prevent IE11 outputting 'null', also single <br> is replaced with empty\r\n     * string when passed to the control\r\n     */\r\n    static processValue(value) {\r\n        const processed = value || '';\r\n        return processed.trim() === '<br>' ? '' : processed;\r\n    }\r\n}\r\nContenteditableValueAccessor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableValueAccessor, deps: [{ token: ElementRef }, { token: Renderer2 }], target: i0.ɵɵFactoryTarget.Directive });\r\nContenteditableValueAccessor.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ContenteditableValueAccessor, selector: \"[contenteditable][formControlName], [contenteditable][formControl], [contenteditable][ngModel]\", host: { listeners: { \"input\": \"onInput()\", \"blur\": \"onBlur()\" } }, providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => ContenteditableValueAccessor),\r\n            multi: true,\r\n        },\r\n    ], ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableValueAccessor, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[contenteditable][formControlName], [contenteditable][formControl], [contenteditable][ngModel]',\r\n                    providers: [\r\n                        {\r\n                            provide: NG_VALUE_ACCESSOR,\r\n                            useExisting: forwardRef(() => ContenteditableValueAccessor),\r\n                            multi: true,\r\n                        },\r\n                    ],\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef, decorators: [{\r\n                    type: Inject,\r\n                    args: [ElementRef]\r\n                }] }, { type: i0.Renderer2, decorators: [{\r\n                    type: Inject,\r\n                    args: [Renderer2]\r\n                }] }]; }, propDecorators: { onInput: [{\r\n                type: HostListener,\r\n                args: ['input']\r\n            }], onBlur: [{\r\n                type: HostListener,\r\n                args: ['blur']\r\n            }] } });\n\nclass VEditorFieldComponent {\r\n    constructor(_doc, _editorService) {\r\n        this._doc = _doc;\r\n        this._editorService = _editorService;\r\n        this.isShowingSource = false;\r\n    }\r\n    ngOnInit() {\r\n        this._editorService.btnAction\r\n            .subscribe((action) => {\r\n            switch (action.action) {\r\n                case 'toggleSource':\r\n                    if (this.isShowingSource) {\r\n                        this.texteditor.nativeElement.innerHTML = this.texteditor.nativeElement.textContent;\r\n                    }\r\n                    else {\r\n                        this.texteditor.nativeElement.textContent = this.texteditor.nativeElement.innerHTML;\r\n                    }\r\n                    this.isShowingSource = !this.isShowingSource;\r\n                    break;\r\n                case 'insertImage':\r\n                case 'createLink':\r\n                    let imgUrl = prompt('Enter URL:', '');\r\n                    if (imgUrl) {\r\n                        this._doc.execCommand(action.action, false, imgUrl);\r\n                    }\r\n                    break;\r\n                case 'insertVideo':\r\n                    let videoUrl = prompt('Enter URL:', '');\r\n                    if (videoUrl) {\r\n                        videoUrl = videoUrl.replace(\"watch?v=\", \"embed/\");\r\n                        const embed = '<iframe src=\"' + videoUrl + '\" allowfullscreen=\"true\" width=\"480\" frameborder=\"0\" height=\"390\">';\r\n                        this._doc.execCommand(\"insertHTML\", false, embed);\r\n                    }\r\n                    break;\r\n                default:\r\n                    this._doc.execCommand(action.action, false, action.arg ? action.arg : null);\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n}\r\nVEditorFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldComponent, deps: [{ token: DOCUMENT }, { token: VEditorService }], target: i0.ɵɵFactoryTarget.Component });\r\nVEditorFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VEditorFieldComponent, selector: \"app-editor-field\", viewQueries: [{ propertyName: \"texteditor\", first: true, predicate: [\"texteditor\"], descendants: true, static: true }], ngImport: i0, template: \"<div [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <section>\\r\\n        <app-toolbar></app-toolbar>\\r\\n        <div class=\\\"editor-container\\\" #texteditor contenteditable [formControlName]=\\\"field.name\\\"></div>\\r\\n    </section>\\r\\n</div>\\r\\n\", styles: [\".editor-container{border:1px solid #ccc;border-radius:3px;outline:none;padding:3px;width:100%;min-height:300px}\\n\"], components: [{ type: ToolbarComponent, selector: \"app-toolbar\" }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: ContenteditableValueAccessor, selector: \"[contenteditable][formControlName], [contenteditable][formControl], [contenteditable][ngModel]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-editor-field', template: \"<div [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <section>\\r\\n        <app-toolbar></app-toolbar>\\r\\n        <div class=\\\"editor-container\\\" #texteditor contenteditable [formControlName]=\\\"field.name\\\"></div>\\r\\n    </section>\\r\\n</div>\\r\\n\", styles: [\".editor-container{border:1px solid #ccc;border-radius:3px;outline:none;padding:3px;width:100%;min-height:300px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }, { type: VEditorService }]; }, propDecorators: { texteditor: [{\r\n                type: ViewChild,\r\n                args: ['texteditor', { static: true }]\r\n            }] } });\n\nclass VFileFieldComponent {\r\n    onFileChange(event) {\r\n        this.group.get(this.field.name).markAllAsTouched();\r\n        if (event.target.files.length > 0) {\r\n            const file = event.target.files[0];\r\n            this.group.get(this.field.name).setValue(file);\r\n        }\r\n    }\r\n}\r\nVFileFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVFileFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VFileFieldComponent, selector: \"app-file-field\", ngImport: i0, template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <input type=\\\"file\\\" class=\\\"file-input\\\" (change)=\\\"onFileChange($event)\\\" [disabled]=\\\"field.disabled\\\" [hidden]=\\\"field.readonly\\\" />\\r\\n    <ng-container *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n           <span class=\\\"custom-error\\\"> {{validation.message}} </span>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\", styles: [\".file-input{width:100%;border:1px dashed #808080;border-radius:3px;padding:10px 5px;color:gray;margin-bottom:10px}.file-input::-webkit-file-upload-button{visibility:hidden}::ng-deep .custom-error{display:flex;justify-content:flex-start;color:#f44336;font-size:.7rem}\\n\"], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-file-field', template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <input type=\\\"file\\\" class=\\\"file-input\\\" (change)=\\\"onFileChange($event)\\\" [disabled]=\\\"field.disabled\\\" [hidden]=\\\"field.readonly\\\" />\\r\\n    <ng-container *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n           <span class=\\\"custom-error\\\"> {{validation.message}} </span>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\", styles: [\".file-input{width:100%;border:1px dashed #808080;border-radius:3px;padding:10px 5px;color:gray;margin-bottom:10px}.file-input::-webkit-file-upload-button{visibility:hidden}::ng-deep .custom-error{display:flex;justify-content:flex-start;color:#f44336;font-size:.7rem}\\n\"] }]\r\n        }] });\n\nvar MoveTypes;\r\n(function (MoveTypes) {\r\n    MoveTypes[\"Move\"] = \"move\";\r\n    MoveTypes[\"Resize\"] = \"resize\";\r\n    MoveTypes[\"Pinch\"] = \"pinch\";\r\n})(MoveTypes || (MoveTypes = {}));\n\nclass CropperSettings {\r\n    constructor() {\r\n        // From options\r\n        this.format = 'png';\r\n        this.maintainAspectRatio = true;\r\n        this.transform = {};\r\n        this.aspectRatio = 1;\r\n        this.resizeToWidth = 0;\r\n        this.resizeToHeight = 0;\r\n        this.cropperMinWidth = 0;\r\n        this.cropperMinHeight = 0;\r\n        this.cropperMaxHeight = 0;\r\n        this.cropperMaxWidth = 0;\r\n        this.cropperStaticWidth = 0;\r\n        this.cropperStaticHeight = 0;\r\n        this.canvasRotation = 0;\r\n        this.initialStepSize = 3;\r\n        this.roundCropper = false;\r\n        this.onlyScaleDown = false;\r\n        this.imageQuality = 92;\r\n        this.autoCrop = true;\r\n        this.backgroundColor = undefined;\r\n        this.containWithinAspectRatio = false;\r\n        this.hideResizeSquares = false;\r\n        this.alignImage = 'center';\r\n        // Internal\r\n        this.cropperScaledMinWidth = 20;\r\n        this.cropperScaledMinHeight = 20;\r\n        this.cropperScaledMaxWidth = 20;\r\n        this.cropperScaledMaxHeight = 20;\r\n        this.stepSize = this.initialStepSize;\r\n    }\r\n    setOptions(options) {\r\n        Object.keys(options)\r\n            .filter((k) => k in this)\r\n            .forEach((k) => this[k] = options[k]);\r\n        this.validateOptions();\r\n    }\r\n    setOptionsFromChanges(changes) {\r\n        Object.keys(changes)\r\n            .filter((k) => k in this)\r\n            .forEach((k) => this[k] = changes[k].currentValue);\r\n        this.validateOptions();\r\n    }\r\n    validateOptions() {\r\n        if (this.maintainAspectRatio && !this.aspectRatio) {\r\n            throw new Error('`aspectRatio` should > 0 when `maintainAspectRatio` is enabled');\r\n        }\r\n    }\r\n}\n\nfunction getPositionForKey(key) {\r\n    switch (key) {\r\n        case 'ArrowUp':\r\n            return 'top';\r\n        case 'ArrowRight':\r\n            return 'right';\r\n        case 'ArrowDown':\r\n            return 'bottom';\r\n        case 'ArrowLeft':\r\n        default:\r\n            return 'left';\r\n    }\r\n}\r\nfunction getInvertedPositionForKey(key) {\r\n    switch (key) {\r\n        case 'ArrowUp':\r\n            return 'bottom';\r\n        case 'ArrowRight':\r\n            return 'left';\r\n        case 'ArrowDown':\r\n            return 'top';\r\n        case 'ArrowLeft':\r\n        default:\r\n            return 'right';\r\n    }\r\n}\r\nfunction getEventForKey(key, stepSize) {\r\n    switch (key) {\r\n        case 'ArrowUp':\r\n            return { clientX: 0, clientY: stepSize * -1 };\r\n        case 'ArrowRight':\r\n            return { clientX: stepSize, clientY: 0 };\r\n        case 'ArrowDown':\r\n            return { clientX: 0, clientY: stepSize };\r\n        case 'ArrowLeft':\r\n        default:\r\n            return { clientX: stepSize * -1, clientY: 0 };\r\n    }\r\n}\n\n/*\r\n * Hermite resize - fast image resize/resample using Hermite filter.\r\n * https://github.com/viliusle/Hermite-resize\r\n */\r\nfunction resizeCanvas(canvas, width, height) {\r\n    const width_source = canvas.width;\r\n    const height_source = canvas.height;\r\n    width = Math.round(width);\r\n    height = Math.round(height);\r\n    const ratio_w = width_source / width;\r\n    const ratio_h = height_source / height;\r\n    const ratio_w_half = Math.ceil(ratio_w / 2);\r\n    const ratio_h_half = Math.ceil(ratio_h / 2);\r\n    const ctx = canvas.getContext('2d');\r\n    if (ctx) {\r\n        const img = ctx.getImageData(0, 0, width_source, height_source);\r\n        const img2 = ctx.createImageData(width, height);\r\n        const data = img.data;\r\n        const data2 = img2.data;\r\n        for (let j = 0; j < height; j++) {\r\n            for (let i = 0; i < width; i++) {\r\n                const x2 = (i + j * width) * 4;\r\n                const center_y = j * ratio_h;\r\n                let weight = 0;\r\n                let weights = 0;\r\n                let weights_alpha = 0;\r\n                let gx_r = 0;\r\n                let gx_g = 0;\r\n                let gx_b = 0;\r\n                let gx_a = 0;\r\n                const xx_start = Math.floor(i * ratio_w);\r\n                const yy_start = Math.floor(j * ratio_h);\r\n                let xx_stop = Math.ceil((i + 1) * ratio_w);\r\n                let yy_stop = Math.ceil((j + 1) * ratio_h);\r\n                xx_stop = Math.min(xx_stop, width_source);\r\n                yy_stop = Math.min(yy_stop, height_source);\r\n                for (let yy = yy_start; yy < yy_stop; yy++) {\r\n                    const dy = Math.abs(center_y - yy) / ratio_h_half;\r\n                    const center_x = i * ratio_w;\r\n                    const w0 = dy * dy; //pre-calc part of w\r\n                    for (let xx = xx_start; xx < xx_stop; xx++) {\r\n                        const dx = Math.abs(center_x - xx) / ratio_w_half;\r\n                        const w = Math.sqrt(w0 + dx * dx);\r\n                        if (w >= 1) {\r\n                            //pixel too far\r\n                            continue;\r\n                        }\r\n                        //hermite filter\r\n                        weight = 2 * w * w * w - 3 * w * w + 1;\r\n                        const pos_x = 4 * (xx + yy * width_source);\r\n                        //alpha\r\n                        gx_a += weight * data[pos_x + 3];\r\n                        weights_alpha += weight;\r\n                        //colors\r\n                        if (data[pos_x + 3] < 255)\r\n                            weight = weight * data[pos_x + 3] / 250;\r\n                        gx_r += weight * data[pos_x];\r\n                        gx_g += weight * data[pos_x + 1];\r\n                        gx_b += weight * data[pos_x + 2];\r\n                        weights += weight;\r\n                    }\r\n                }\r\n                data2[x2] = gx_r / weights;\r\n                data2[x2 + 1] = gx_g / weights;\r\n                data2[x2 + 2] = gx_b / weights;\r\n                data2[x2 + 3] = gx_a / weights_alpha;\r\n            }\r\n        }\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        //draw\r\n        ctx.putImageData(img2, 0, 0);\r\n    }\r\n}\n\nclass CropService {\r\n    crop(sourceImage, loadedImage, cropper, settings) {\r\n        const imagePosition = this.getImagePosition(sourceImage, loadedImage, cropper, settings);\r\n        const width = imagePosition.x2 - imagePosition.x1;\r\n        const height = imagePosition.y2 - imagePosition.y1;\r\n        const cropCanvas = document.createElement('canvas');\r\n        cropCanvas.width = width;\r\n        cropCanvas.height = height;\r\n        const ctx = cropCanvas.getContext('2d');\r\n        if (!ctx) {\r\n            return;\r\n        }\r\n        if (settings.backgroundColor != null) {\r\n            ctx.fillStyle = settings.backgroundColor;\r\n            ctx.fillRect(0, 0, width, height);\r\n        }\r\n        const scaleX = (settings.transform.scale || 1) * (settings.transform.flipH ? -1 : 1);\r\n        const scaleY = (settings.transform.scale || 1) * (settings.transform.flipV ? -1 : 1);\r\n        const transformedImage = loadedImage.transformed;\r\n        ctx.setTransform(scaleX, 0, 0, scaleY, transformedImage.size.width / 2, transformedImage.size.height / 2);\r\n        ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\r\n        ctx.rotate((settings.transform.rotate || 0) * Math.PI / 180);\r\n        ctx.drawImage(transformedImage.image, -transformedImage.size.width / 2, -transformedImage.size.height / 2);\r\n        const output = {\r\n            width, height,\r\n            imagePosition,\r\n            cropperPosition: { ...cropper }\r\n        };\r\n        if (settings.containWithinAspectRatio) {\r\n            output.offsetImagePosition = this.getOffsetImagePosition(sourceImage, loadedImage, cropper, settings);\r\n        }\r\n        const resizeRatio = this.getResizeRatio(width, height, settings);\r\n        if (resizeRatio !== 1) {\r\n            output.width = Math.round(width * resizeRatio);\r\n            output.height = settings.maintainAspectRatio\r\n                ? Math.round(output.width / settings.aspectRatio)\r\n                : Math.round(height * resizeRatio);\r\n            resizeCanvas(cropCanvas, output.width, output.height);\r\n        }\r\n        output.base64 = cropCanvas.toDataURL('image/' + settings.format, this.getQuality(settings));\r\n        return output;\r\n    }\r\n    getImagePosition(sourceImage, loadedImage, cropper, settings) {\r\n        const sourceImageElement = sourceImage.nativeElement;\r\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\r\n        const out = {\r\n            x1: Math.round(cropper.x1 * ratio),\r\n            y1: Math.round(cropper.y1 * ratio),\r\n            x2: Math.round(cropper.x2 * ratio),\r\n            y2: Math.round(cropper.y2 * ratio)\r\n        };\r\n        if (!settings.containWithinAspectRatio) {\r\n            out.x1 = Math.max(out.x1, 0);\r\n            out.y1 = Math.max(out.y1, 0);\r\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\r\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\r\n        }\r\n        return out;\r\n    }\r\n    getOffsetImagePosition(sourceImage, loadedImage, cropper, settings) {\r\n        const canvasRotation = settings.canvasRotation + loadedImage.exifTransform.rotate;\r\n        const sourceImageElement = sourceImage.nativeElement;\r\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\r\n        let offsetX;\r\n        let offsetY;\r\n        if (canvasRotation % 2) {\r\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.height) / 2;\r\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.width) / 2;\r\n        }\r\n        else {\r\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.width) / 2;\r\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.height) / 2;\r\n        }\r\n        const out = {\r\n            x1: Math.round(cropper.x1 * ratio) - offsetX,\r\n            y1: Math.round(cropper.y1 * ratio) - offsetY,\r\n            x2: Math.round(cropper.x2 * ratio) - offsetX,\r\n            y2: Math.round(cropper.y2 * ratio) - offsetY\r\n        };\r\n        if (!settings.containWithinAspectRatio) {\r\n            out.x1 = Math.max(out.x1, 0);\r\n            out.y1 = Math.max(out.y1, 0);\r\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\r\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\r\n        }\r\n        return out;\r\n    }\r\n    getResizeRatio(width, height, settings) {\r\n        const ratioWidth = settings.resizeToWidth / width;\r\n        const ratioHeight = settings.resizeToHeight / height;\r\n        const ratios = new Array();\r\n        if (settings.resizeToWidth > 0) {\r\n            ratios.push(ratioWidth);\r\n        }\r\n        if (settings.resizeToHeight > 0) {\r\n            ratios.push(ratioHeight);\r\n        }\r\n        const result = ratios.length === 0 ? 1 : Math.min(...ratios);\r\n        if (result > 1 && !settings.onlyScaleDown) {\r\n            return result;\r\n        }\r\n        return Math.min(result, 1);\r\n    }\r\n    getQuality(settings) {\r\n        return Math.min(1, Math.max(0, settings.imageQuality / 100));\r\n    }\r\n}\r\nCropService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nCropService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropService, decorators: [{\r\n            type: Injectable,\r\n            args: [{ providedIn: 'root' }]\r\n        }] });\n\nclass CropperPositionService {\r\n    resetCropperPosition(sourceImage, cropperPosition, settings) {\r\n        if (!sourceImage?.nativeElement) {\r\n            return;\r\n        }\r\n        const sourceImageElement = sourceImage.nativeElement;\r\n        if (settings.cropperStaticHeight && settings.cropperStaticWidth) {\r\n            cropperPosition.x1 = 0;\r\n            cropperPosition.x2 = sourceImageElement.offsetWidth > settings.cropperStaticWidth ?\r\n                settings.cropperStaticWidth : sourceImageElement.offsetWidth;\r\n            cropperPosition.y1 = 0;\r\n            cropperPosition.y2 = sourceImageElement.offsetHeight > settings.cropperStaticHeight ?\r\n                settings.cropperStaticHeight : sourceImageElement.offsetHeight;\r\n        }\r\n        else {\r\n            const cropperWidth = Math.min(settings.cropperScaledMaxWidth, sourceImageElement.offsetWidth);\r\n            const cropperHeight = Math.min(settings.cropperScaledMaxHeight, sourceImageElement.offsetHeight);\r\n            if (!settings.maintainAspectRatio) {\r\n                cropperPosition.x1 = 0;\r\n                cropperPosition.x2 = cropperWidth;\r\n                cropperPosition.y1 = 0;\r\n                cropperPosition.y2 = cropperHeight;\r\n            }\r\n            else if (cropperWidth / settings.aspectRatio < cropperHeight) {\r\n                cropperPosition.x1 = 0;\r\n                cropperPosition.x2 = cropperWidth;\r\n                const cropperHeightWithAspectRatio = cropperWidth / settings.aspectRatio;\r\n                cropperPosition.y1 = (sourceImageElement.offsetHeight - cropperHeightWithAspectRatio) / 2;\r\n                cropperPosition.y2 = cropperPosition.y1 + cropperHeightWithAspectRatio;\r\n            }\r\n            else {\r\n                cropperPosition.y1 = 0;\r\n                cropperPosition.y2 = cropperHeight;\r\n                const cropperWidthWithAspectRatio = cropperHeight * settings.aspectRatio;\r\n                cropperPosition.x1 = (sourceImageElement.offsetWidth - cropperWidthWithAspectRatio) / 2;\r\n                cropperPosition.x2 = cropperPosition.x1 + cropperWidthWithAspectRatio;\r\n            }\r\n        }\r\n    }\r\n    move(event, moveStart, cropperPosition) {\r\n        const diffX = this.getClientX(event) - moveStart.clientX;\r\n        const diffY = this.getClientY(event) - moveStart.clientY;\r\n        cropperPosition.x1 = moveStart.x1 + diffX;\r\n        cropperPosition.y1 = moveStart.y1 + diffY;\r\n        cropperPosition.x2 = moveStart.x2 + diffX;\r\n        cropperPosition.y2 = moveStart.y2 + diffY;\r\n    }\r\n    resize(event, moveStart, cropperPosition, maxSize, settings) {\r\n        const moveX = this.getClientX(event) - moveStart.clientX;\r\n        const moveY = this.getClientY(event) - moveStart.clientY;\r\n        switch (moveStart.position) {\r\n            case 'left':\r\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n                break;\r\n            case 'topleft':\r\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'top':\r\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'topright':\r\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'right':\r\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n                break;\r\n            case 'bottomright':\r\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'bottom':\r\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'bottomleft':\r\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'center':\r\n                const scale = event.scale;\r\n                const newWidth = Math.min(Math.max(settings.cropperScaledMinWidth, (Math.abs(moveStart.x2 - moveStart.x1)) * scale), settings.cropperScaledMaxWidth);\r\n                const newHeight = Math.min(Math.max(settings.cropperScaledMinHeight, (Math.abs(moveStart.y2 - moveStart.y1)) * scale), settings.cropperScaledMaxHeight);\r\n                cropperPosition.x1 = moveStart.clientX - newWidth / 2;\r\n                cropperPosition.x2 = moveStart.clientX + newWidth / 2;\r\n                cropperPosition.y1 = moveStart.clientY - newHeight / 2;\r\n                cropperPosition.y2 = moveStart.clientY + newHeight / 2;\r\n                if (cropperPosition.x1 < 0) {\r\n                    cropperPosition.x2 -= cropperPosition.x1;\r\n                    cropperPosition.x1 = 0;\r\n                }\r\n                else if (cropperPosition.x2 > maxSize.width) {\r\n                    cropperPosition.x1 -= (cropperPosition.x2 - maxSize.width);\r\n                    cropperPosition.x2 = maxSize.width;\r\n                }\r\n                if (cropperPosition.y1 < 0) {\r\n                    cropperPosition.y2 -= cropperPosition.y1;\r\n                    cropperPosition.y1 = 0;\r\n                }\r\n                else if (cropperPosition.y2 > maxSize.height) {\r\n                    cropperPosition.y1 -= (cropperPosition.y2 - maxSize.height);\r\n                    cropperPosition.y2 = maxSize.height;\r\n                }\r\n                break;\r\n        }\r\n        if (settings.maintainAspectRatio) {\r\n            this.checkAspectRatio(moveStart.position, cropperPosition, maxSize, settings);\r\n        }\r\n    }\r\n    checkAspectRatio(position, cropperPosition, maxSize, settings) {\r\n        let overflowX = 0;\r\n        let overflowY = 0;\r\n        switch (position) {\r\n            case 'top':\r\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'bottom':\r\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : (overflowX / settings.aspectRatio);\r\n                }\r\n                break;\r\n            case 'topleft':\r\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\r\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'topright':\r\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'right':\r\n            case 'bottomright':\r\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'left':\r\n            case 'bottomleft':\r\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\r\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'center':\r\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                const overflowX1 = Math.max(0 - cropperPosition.x1, 0);\r\n                const overflowX2 = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                const overflowY1 = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n                const overflowY2 = Math.max(0 - cropperPosition.y1, 0);\r\n                if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\r\n                    cropperPosition.x1 += (overflowY1 * settings.aspectRatio) > overflowX1 ? (overflowY1 * settings.aspectRatio) : overflowX1;\r\n                    cropperPosition.x2 -= (overflowY2 * settings.aspectRatio) > overflowX2 ? (overflowY2 * settings.aspectRatio) : overflowX2;\r\n                    cropperPosition.y1 += (overflowY2 * settings.aspectRatio) > overflowX2 ? overflowY2 : overflowX2 / settings.aspectRatio;\r\n                    cropperPosition.y2 -= (overflowY1 * settings.aspectRatio) > overflowX1 ? overflowY1 : overflowX1 / settings.aspectRatio;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    getClientX(event) {\r\n        return (event.touches && event.touches[0] ? event.touches[0].clientX : event.clientX) || 0;\r\n    }\r\n    getClientY(event) {\r\n        return (event.touches && event.touches[0] ? event.touches[0].clientY : event.clientY) || 0;\r\n    }\r\n}\r\nCropperPositionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropperPositionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nCropperPositionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropperPositionService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropperPositionService, decorators: [{\r\n            type: Injectable,\r\n            args: [{ providedIn: 'root' }]\r\n        }] });\n\n// Black 2x1 JPEG, with the following meta information set:\r\n// - EXIF Orientation: 6 (Rotated 90° CCW)\r\n// Source: https://github.com/blueimp/JavaScript-Load-Image\r\nconst testAutoOrientationImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\r\n    'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\r\n    'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\r\n    'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\r\n    'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\r\n    'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\r\nfunction supportsAutomaticRotation() {\r\n    return new Promise((resolve) => {\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            // Check if browser supports automatic image orientation:\r\n            const supported = img.width === 1 && img.height === 2;\r\n            resolve(supported);\r\n        };\r\n        img.src = testAutoOrientationImageURL;\r\n    });\r\n}\r\nfunction getTransformationsFromExifData(exifRotationOrBase64Image) {\r\n    if (typeof exifRotationOrBase64Image === 'string') {\r\n        exifRotationOrBase64Image = getExifRotation(exifRotationOrBase64Image);\r\n    }\r\n    switch (exifRotationOrBase64Image) {\r\n        case 2:\r\n            return { rotate: 0, flip: true };\r\n        case 3:\r\n            return { rotate: 2, flip: false };\r\n        case 4:\r\n            return { rotate: 2, flip: true };\r\n        case 5:\r\n            return { rotate: 1, flip: true };\r\n        case 6:\r\n            return { rotate: 1, flip: false };\r\n        case 7:\r\n            return { rotate: 3, flip: true };\r\n        case 8:\r\n            return { rotate: 3, flip: false };\r\n        default:\r\n            return { rotate: 0, flip: false };\r\n    }\r\n}\r\nfunction getExifRotation(imageBase64) {\r\n    const view = new DataView(base64ToArrayBuffer(imageBase64));\r\n    if (view.getUint16(0, false) != 0xFFD8) {\r\n        return -2;\r\n    }\r\n    const length = view.byteLength;\r\n    let offset = 2;\r\n    while (offset < length) {\r\n        if (view.getUint16(offset + 2, false) <= 8)\r\n            return -1;\r\n        const marker = view.getUint16(offset, false);\r\n        offset += 2;\r\n        if (marker == 0xFFE1) {\r\n            if (view.getUint32(offset += 2, false) != 0x45786966) {\r\n                return -1;\r\n            }\r\n            const little = view.getUint16(offset += 6, false) == 0x4949;\r\n            offset += view.getUint32(offset + 4, little);\r\n            const tags = view.getUint16(offset, little);\r\n            offset += 2;\r\n            for (let i = 0; i < tags; i++) {\r\n                if (view.getUint16(offset + (i * 12), little) == 0x0112) {\r\n                    return view.getUint16(offset + (i * 12) + 8, little);\r\n                }\r\n            }\r\n        }\r\n        else if ((marker & 0xFF00) != 0xFF00) {\r\n            break;\r\n        }\r\n        else {\r\n            offset += view.getUint16(offset, false);\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nfunction base64ToArrayBuffer(imageBase64) {\r\n    imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\r\n    const binaryString = atob(imageBase64);\r\n    const len = binaryString.length;\r\n    const bytes = new Uint8Array(len);\r\n    for (let i = 0; i < len; i++) {\r\n        bytes[i] = binaryString.charCodeAt(i);\r\n    }\r\n    return bytes.buffer;\r\n}\n\nclass LoadImageService {\r\n    constructor() {\r\n        this.autoRotateSupported = supportsAutomaticRotation();\r\n    }\r\n    loadImageFile(file, cropperSettings) {\r\n        return new Promise((resolve, reject) => {\r\n            const fileReader = new FileReader();\r\n            fileReader.onload = (event) => {\r\n                this.loadImage(event.target.result, file.type, cropperSettings)\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            };\r\n            fileReader.readAsDataURL(file);\r\n        });\r\n    }\r\n    loadImage(imageBase64, imageType, cropperSettings) {\r\n        if (!this.isValidImageType(imageType)) {\r\n            return Promise.reject(new Error('Invalid image type'));\r\n        }\r\n        return this.loadBase64Image(imageBase64, cropperSettings);\r\n    }\r\n    isValidImageType(type) {\r\n        return /image\\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(type);\r\n    }\r\n    loadImageFromURL(url, cropperSettings) {\r\n        return new Promise((resolve, reject) => {\r\n            const img = new Image();\r\n            img.onerror = () => reject;\r\n            img.onload = () => {\r\n                const canvas = document.createElement('canvas');\r\n                const context = canvas.getContext('2d');\r\n                canvas.width = img.width;\r\n                canvas.height = img.height;\r\n                context.drawImage(img, 0, 0);\r\n                this.loadBase64Image(canvas.toDataURL(), cropperSettings).then(resolve);\r\n            };\r\n            img.crossOrigin = 'anonymous';\r\n            img.src = url;\r\n        });\r\n    }\r\n    loadBase64Image(imageBase64, cropperSettings) {\r\n        return new Promise((resolve, reject) => {\r\n            const originalImage = new Image();\r\n            originalImage.onload = () => resolve({\r\n                originalImage,\r\n                originalBase64: imageBase64\r\n            });\r\n            originalImage.onerror = reject;\r\n            originalImage.src = imageBase64;\r\n        }).then((res) => this.transformImageBase64(res, cropperSettings));\r\n    }\r\n    async transformImageBase64(res, cropperSettings) {\r\n        const autoRotate = await this.autoRotateSupported;\r\n        const exifTransform = await getTransformationsFromExifData(autoRotate ? -1 : res.originalBase64);\r\n        if (!res.originalImage || !res.originalImage.complete) {\r\n            return Promise.reject(new Error('No image loaded'));\r\n        }\r\n        const loadedImage = {\r\n            original: {\r\n                base64: res.originalBase64,\r\n                image: res.originalImage,\r\n                size: {\r\n                    width: res.originalImage.naturalWidth,\r\n                    height: res.originalImage.naturalHeight\r\n                }\r\n            },\r\n            exifTransform\r\n        };\r\n        return this.transformLoadedImage(loadedImage, cropperSettings);\r\n    }\r\n    async transformLoadedImage(loadedImage, cropperSettings) {\r\n        const canvasRotation = cropperSettings.canvasRotation + loadedImage.exifTransform.rotate;\r\n        const originalSize = {\r\n            width: loadedImage.original.image.naturalWidth,\r\n            height: loadedImage.original.image.naturalHeight\r\n        };\r\n        if (canvasRotation === 0 && !loadedImage.exifTransform.flip && !cropperSettings.containWithinAspectRatio) {\r\n            return {\r\n                original: {\r\n                    base64: loadedImage.original.base64,\r\n                    image: loadedImage.original.image,\r\n                    size: { ...originalSize }\r\n                },\r\n                transformed: {\r\n                    base64: loadedImage.original.base64,\r\n                    image: loadedImage.original.image,\r\n                    size: { ...originalSize }\r\n                },\r\n                exifTransform: loadedImage.exifTransform\r\n            };\r\n        }\r\n        const transformedSize = this.getTransformedSize(originalSize, loadedImage.exifTransform, cropperSettings);\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = transformedSize.width;\r\n        canvas.height = transformedSize.height;\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.setTransform(loadedImage.exifTransform.flip ? -1 : 1, 0, 0, 1, canvas.width / 2, canvas.height / 2);\r\n        ctx.rotate(Math.PI * (canvasRotation / 2));\r\n        ctx.drawImage(loadedImage.original.image, -originalSize.width / 2, -originalSize.height / 2);\r\n        const transformedBase64 = canvas.toDataURL();\r\n        const transformedImage = await this.loadImageFromBase64(transformedBase64);\r\n        return {\r\n            original: {\r\n                base64: loadedImage.original.base64,\r\n                image: loadedImage.original.image,\r\n                size: { ...originalSize }\r\n            },\r\n            transformed: {\r\n                base64: transformedBase64,\r\n                image: transformedImage,\r\n                size: {\r\n                    width: transformedImage.width,\r\n                    height: transformedImage.height\r\n                }\r\n            },\r\n            exifTransform: loadedImage.exifTransform\r\n        };\r\n    }\r\n    loadImageFromBase64(imageBase64) {\r\n        return new Promise(((resolve, reject) => {\r\n            const image = new Image();\r\n            image.onload = () => resolve(image);\r\n            image.onerror = reject;\r\n            image.src = imageBase64;\r\n        }));\r\n    }\r\n    getTransformedSize(originalSize, exifTransform, cropperSettings) {\r\n        const canvasRotation = cropperSettings.canvasRotation + exifTransform.rotate;\r\n        if (cropperSettings.containWithinAspectRatio) {\r\n            if (canvasRotation % 2) {\r\n                const minWidthToContain = originalSize.width * cropperSettings.aspectRatio;\r\n                const minHeightToContain = originalSize.height / cropperSettings.aspectRatio;\r\n                return {\r\n                    width: Math.max(originalSize.height, minWidthToContain),\r\n                    height: Math.max(originalSize.width, minHeightToContain)\r\n                };\r\n            }\r\n            else {\r\n                const minWidthToContain = originalSize.height * cropperSettings.aspectRatio;\r\n                const minHeightToContain = originalSize.width / cropperSettings.aspectRatio;\r\n                return {\r\n                    width: Math.max(originalSize.width, minWidthToContain),\r\n                    height: Math.max(originalSize.height, minHeightToContain)\r\n                };\r\n            }\r\n        }\r\n        if (canvasRotation % 2) {\r\n            return {\r\n                height: originalSize.width,\r\n                width: originalSize.height\r\n            };\r\n        }\r\n        return {\r\n            width: originalSize.width,\r\n            height: originalSize.height\r\n        };\r\n    }\r\n}\r\nLoadImageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: LoadImageService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nLoadImageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: LoadImageService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: LoadImageService, decorators: [{\r\n            type: Injectable,\r\n            args: [{ providedIn: 'root' }]\r\n        }] });\n\nclass ImageCropperComponent {\r\n    constructor(cropService, cropperPositionService, loadImageService, sanitizer, cd) {\r\n        this.cropService = cropService;\r\n        this.cropperPositionService = cropperPositionService;\r\n        this.loadImageService = loadImageService;\r\n        this.sanitizer = sanitizer;\r\n        this.cd = cd;\r\n        this.Hammer = typeof window !== 'undefined'\r\n            ? window.Hammer\r\n            : null;\r\n        this.settings = new CropperSettings();\r\n        this.setImageMaxSizeRetries = 0;\r\n        this.marginLeft = '0px';\r\n        this.moveTypes = MoveTypes;\r\n        this.imageVisible = false;\r\n        this.format = this.settings.format;\r\n        this.transform = {};\r\n        this.maintainAspectRatio = this.settings.maintainAspectRatio;\r\n        this.aspectRatio = this.settings.aspectRatio;\r\n        this.resizeToWidth = this.settings.resizeToWidth;\r\n        this.resizeToHeight = this.settings.resizeToHeight;\r\n        this.cropperMinWidth = this.settings.cropperMinWidth;\r\n        this.cropperMinHeight = this.settings.cropperMinHeight;\r\n        this.cropperMaxHeight = this.settings.cropperMaxHeight;\r\n        this.cropperMaxWidth = this.settings.cropperMaxWidth;\r\n        this.cropperStaticWidth = this.settings.cropperStaticWidth;\r\n        this.cropperStaticHeight = this.settings.cropperStaticHeight;\r\n        this.canvasRotation = this.settings.canvasRotation;\r\n        this.initialStepSize = this.settings.initialStepSize;\r\n        this.roundCropper = this.settings.roundCropper;\r\n        this.onlyScaleDown = this.settings.onlyScaleDown;\r\n        this.imageQuality = this.settings.imageQuality;\r\n        this.autoCrop = this.settings.autoCrop;\r\n        this.backgroundColor = this.settings.backgroundColor;\r\n        this.containWithinAspectRatio = this.settings.containWithinAspectRatio;\r\n        this.hideResizeSquares = this.settings.hideResizeSquares;\r\n        this.cropper = {\r\n            x1: -100,\r\n            y1: -100,\r\n            x2: 10000,\r\n            y2: 10000\r\n        };\r\n        this.alignImage = this.settings.alignImage;\r\n        this.disabled = false;\r\n        this.imageCropped = new EventEmitter();\r\n        this.startCropImage = new EventEmitter();\r\n        this.imageLoaded = new EventEmitter();\r\n        this.cropperReady = new EventEmitter();\r\n        this.loadImageFailed = new EventEmitter();\r\n        this.reset();\r\n    }\r\n    ngOnChanges(changes) {\r\n        this.onChangesUpdateSettings(changes);\r\n        this.onChangesInputImage(changes);\r\n        if (this.loadedImage && this.loadedImage.original.image.complete\r\n            && (changes.containWithinAspectRatio || changes.canvasRotation)) {\r\n            this.loadImageService\r\n                .transformLoadedImage(this.loadedImage, this.settings)\r\n                .then((res) => this.setLoadedImage(res))\r\n                .catch((err) => this.loadImageError(err));\r\n        }\r\n        if (changes.cropper || changes.maintainAspectRatio || changes.aspectRatio) {\r\n            this.setMaxSize();\r\n            this.setCropperScaledMinSize();\r\n            this.setCropperScaledMaxSize();\r\n            if (this.maintainAspectRatio && (changes.maintainAspectRatio || changes.aspectRatio)) {\r\n                this.resetCropperPosition();\r\n            }\r\n            else if (changes.cropper) {\r\n                this.checkCropperPosition(false);\r\n                this.doAutoCrop();\r\n            }\r\n            this.cd.markForCheck();\r\n        }\r\n        if (changes.transform) {\r\n            this.transform = this.transform || {};\r\n            this.setCssTransform();\r\n            this.doAutoCrop();\r\n        }\r\n    }\r\n    onChangesUpdateSettings(changes) {\r\n        this.settings.setOptionsFromChanges(changes);\r\n        if (this.settings.cropperStaticHeight && this.settings.cropperStaticWidth) {\r\n            this.settings.setOptions({\r\n                hideResizeSquares: true,\r\n                cropperMinWidth: this.settings.cropperStaticWidth,\r\n                cropperMinHeight: this.settings.cropperStaticHeight,\r\n                cropperMaxHeight: this.settings.cropperStaticHeight,\r\n                cropperMaxWidth: this.settings.cropperStaticWidth,\r\n                maintainAspectRatio: false\r\n            });\r\n        }\r\n    }\r\n    onChangesInputImage(changes) {\r\n        if (changes.imageChangedEvent || changes.imageURL || changes.imageBase64 || changes.imageFile) {\r\n            this.reset();\r\n        }\r\n        if (changes.imageChangedEvent && this.isValidImageChangedEvent()) {\r\n            this.loadImageFile(this.imageChangedEvent.target.files[0]);\r\n        }\r\n        if (changes.imageURL && this.imageURL) {\r\n            this.loadImageFromURL(this.imageURL);\r\n        }\r\n        if (changes.imageBase64 && this.imageBase64) {\r\n            this.loadBase64Image(this.imageBase64);\r\n        }\r\n        if (changes.imageFile && this.imageFile) {\r\n            this.loadImageFile(this.imageFile);\r\n        }\r\n    }\r\n    isValidImageChangedEvent() {\r\n        return this.imageChangedEvent\r\n            && this.imageChangedEvent.target\r\n            && this.imageChangedEvent.target.files\r\n            && this.imageChangedEvent.target.files.length > 0;\r\n    }\r\n    setCssTransform() {\r\n        this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle('scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\r\n            'scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\r\n            'rotate(' + (this.transform.rotate || 0) + 'deg)');\r\n    }\r\n    ngOnInit() {\r\n        this.settings.stepSize = this.initialStepSize;\r\n        this.activatePinchGesture();\r\n    }\r\n    reset() {\r\n        this.imageVisible = false;\r\n        this.loadedImage = null;\r\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\r\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\r\n            + 'AAarVyFEAAAAASUVORK5CYII=';\r\n        this.moveStart = {\r\n            active: false,\r\n            type: null,\r\n            position: null,\r\n            x1: 0,\r\n            y1: 0,\r\n            x2: 0,\r\n            y2: 0,\r\n            clientX: 0,\r\n            clientY: 0\r\n        };\r\n        this.maxSize = {\r\n            width: 0,\r\n            height: 0\r\n        };\r\n        this.cropper.x1 = -100;\r\n        this.cropper.y1 = -100;\r\n        this.cropper.x2 = 10000;\r\n        this.cropper.y2 = 10000;\r\n    }\r\n    loadImageFile(file) {\r\n        this.loadImageService\r\n            .loadImageFile(file, this.settings)\r\n            .then((res) => this.setLoadedImage(res))\r\n            .catch((err) => this.loadImageError(err));\r\n    }\r\n    loadBase64Image(imageBase64) {\r\n        this.loadImageService\r\n            .loadBase64Image(imageBase64, this.settings)\r\n            .then((res) => this.setLoadedImage(res))\r\n            .catch((err) => this.loadImageError(err));\r\n    }\r\n    loadImageFromURL(url) {\r\n        this.loadImageService\r\n            .loadImageFromURL(url, this.settings)\r\n            .then((res) => this.setLoadedImage(res))\r\n            .catch((err) => this.loadImageError(err));\r\n    }\r\n    setLoadedImage(loadedImage) {\r\n        this.loadedImage = loadedImage;\r\n        this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(loadedImage.transformed.base64);\r\n        this.cd.markForCheck();\r\n    }\r\n    loadImageError(error) {\r\n        console.error(error);\r\n        this.loadImageFailed.emit();\r\n    }\r\n    imageLoadedInView() {\r\n        if (this.loadedImage != null) {\r\n            this.imageLoaded.emit(this.loadedImage);\r\n            this.setImageMaxSizeRetries = 0;\r\n            setTimeout(() => this.checkImageMaxSizeRecursively());\r\n        }\r\n    }\r\n    checkImageMaxSizeRecursively() {\r\n        if (this.setImageMaxSizeRetries > 40) {\r\n            this.loadImageFailed.emit();\r\n        }\r\n        else if (this.sourceImageLoaded()) {\r\n            this.setMaxSize();\r\n            this.setCropperScaledMinSize();\r\n            this.setCropperScaledMaxSize();\r\n            this.resetCropperPosition();\r\n            this.cropperReady.emit({ ...this.maxSize });\r\n            this.cd.markForCheck();\r\n        }\r\n        else {\r\n            this.setImageMaxSizeRetries++;\r\n            setTimeout(() => this.checkImageMaxSizeRecursively(), 50);\r\n        }\r\n    }\r\n    sourceImageLoaded() {\r\n        return this.sourceImage && this.sourceImage.nativeElement && this.sourceImage.nativeElement.offsetWidth > 0;\r\n    }\r\n    onResize() {\r\n        if (!this.loadedImage) {\r\n            return;\r\n        }\r\n        this.resizeCropperPosition();\r\n        this.setMaxSize();\r\n        this.setCropperScaledMinSize();\r\n        this.setCropperScaledMaxSize();\r\n    }\r\n    activatePinchGesture() {\r\n        if (this.Hammer) {\r\n            const hammer = new this.Hammer(this.wrapper.nativeElement);\r\n            hammer.get('pinch').set({ enable: true });\r\n            hammer.on('pinchmove', this.onPinch.bind(this));\r\n            hammer.on('pinchend', this.pinchStop.bind(this));\r\n            hammer.on('pinchstart', this.startPinch.bind(this));\r\n        }\r\n        else if (isDevMode()) {\r\n            console.warn('[NgxImageCropper] Could not find HammerJS - Pinch Gesture won\\'t work');\r\n        }\r\n    }\r\n    resizeCropperPosition() {\r\n        const sourceImageElement = this.sourceImage.nativeElement;\r\n        if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\r\n            this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\r\n            this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\r\n            this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\r\n            this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\r\n        }\r\n    }\r\n    resetCropperPosition() {\r\n        this.cropperPositionService.resetCropperPosition(this.sourceImage, this.cropper, this.settings);\r\n        this.doAutoCrop();\r\n        this.imageVisible = true;\r\n    }\r\n    keyboardAccess(event) {\r\n        this.changeKeyboardStepSize(event);\r\n        this.keyboardMoveCropper(event);\r\n    }\r\n    changeKeyboardStepSize(event) {\r\n        if (event.key >= '1' && event.key <= '9') {\r\n            this.settings.stepSize = +event.key;\r\n            return;\r\n        }\r\n    }\r\n    keyboardMoveCropper(event) {\r\n        const keyboardWhiteList = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\r\n        if (!(keyboardWhiteList.includes(event.key))) {\r\n            return;\r\n        }\r\n        const moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\r\n        const position = event.altKey ? getInvertedPositionForKey(event.key) : getPositionForKey(event.key);\r\n        const moveEvent = getEventForKey(event.key, this.settings.stepSize);\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.startMove({ clientX: 0, clientY: 0 }, moveType, position);\r\n        this.moveImg(moveEvent);\r\n        this.moveStop();\r\n    }\r\n    startMove(event, moveType, position = null) {\r\n        if (this.moveStart && this.moveStart.active && this.moveStart.type === MoveTypes.Pinch) {\r\n            return;\r\n        }\r\n        if (event.preventDefault) {\r\n            event.preventDefault();\r\n        }\r\n        this.moveStart = {\r\n            active: true,\r\n            type: moveType,\r\n            position,\r\n            clientX: this.cropperPositionService.getClientX(event),\r\n            clientY: this.cropperPositionService.getClientY(event),\r\n            ...this.cropper\r\n        };\r\n    }\r\n    startPinch(event) {\r\n        if (!this.safeImgDataUrl) {\r\n            return;\r\n        }\r\n        if (event.preventDefault) {\r\n            event.preventDefault();\r\n        }\r\n        this.moveStart = {\r\n            active: true,\r\n            type: MoveTypes.Pinch,\r\n            position: 'center',\r\n            clientX: this.cropper.x1 + (this.cropper.x2 - this.cropper.x1) / 2,\r\n            clientY: this.cropper.y1 + (this.cropper.y2 - this.cropper.y1) / 2,\r\n            ...this.cropper\r\n        };\r\n    }\r\n    moveImg(event) {\r\n        if (this.moveStart.active) {\r\n            if (event.stopPropagation) {\r\n                event.stopPropagation();\r\n            }\r\n            if (event.preventDefault) {\r\n                event.preventDefault();\r\n            }\r\n            if (this.moveStart.type === MoveTypes.Move) {\r\n                this.cropperPositionService.move(event, this.moveStart, this.cropper);\r\n                this.checkCropperPosition(true);\r\n            }\r\n            else if (this.moveStart.type === MoveTypes.Resize) {\r\n                if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\r\n                    this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\r\n                }\r\n                this.checkCropperPosition(false);\r\n            }\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n    onPinch(event) {\r\n        if (this.moveStart.active) {\r\n            if (event.stopPropagation) {\r\n                event.stopPropagation();\r\n            }\r\n            if (event.preventDefault) {\r\n                event.preventDefault();\r\n            }\r\n            if (this.moveStart.type === MoveTypes.Pinch) {\r\n                this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\r\n                this.checkCropperPosition(false);\r\n            }\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n    setMaxSize() {\r\n        if (this.sourceImage) {\r\n            const sourceImageElement = this.sourceImage.nativeElement;\r\n            this.maxSize.width = sourceImageElement.offsetWidth;\r\n            this.maxSize.height = sourceImageElement.offsetHeight;\r\n            this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\r\n        }\r\n    }\r\n    setCropperScaledMinSize() {\r\n        if (this.loadedImage && this.loadedImage.transformed && this.loadedImage.transformed.image) {\r\n            this.setCropperScaledMinWidth();\r\n            this.setCropperScaledMinHeight();\r\n        }\r\n        else {\r\n            this.settings.cropperScaledMinWidth = 20;\r\n            this.settings.cropperScaledMinHeight = 20;\r\n        }\r\n    }\r\n    setCropperScaledMinWidth() {\r\n        this.settings.cropperScaledMinWidth = this.cropperMinWidth > 0\r\n            ? Math.max(20, this.cropperMinWidth / this.loadedImage.transformed.image.width * this.maxSize.width)\r\n            : 20;\r\n    }\r\n    setCropperScaledMinHeight() {\r\n        if (this.maintainAspectRatio) {\r\n            this.settings.cropperScaledMinHeight = Math.max(20, this.settings.cropperScaledMinWidth / this.aspectRatio);\r\n        }\r\n        else if (this.cropperMinHeight > 0) {\r\n            this.settings.cropperScaledMinHeight = Math.max(20, this.cropperMinHeight / this.loadedImage.transformed.image.height * this.maxSize.height);\r\n        }\r\n        else {\r\n            this.settings.cropperScaledMinHeight = 20;\r\n        }\r\n    }\r\n    setCropperScaledMaxSize() {\r\n        if (this.loadedImage && this.loadedImage.transformed && this.loadedImage.transformed.image) {\r\n            const ratio = this.loadedImage.transformed.size.width / this.maxSize.width;\r\n            this.settings.cropperScaledMaxWidth = this.cropperMaxWidth > 20 ? this.cropperMaxWidth / ratio : this.maxSize.width;\r\n            this.settings.cropperScaledMaxHeight = this.cropperMaxHeight > 20 ? this.cropperMaxHeight / ratio : this.maxSize.height;\r\n            if (this.maintainAspectRatio) {\r\n                if (this.settings.cropperScaledMaxWidth > this.settings.cropperScaledMaxHeight * this.aspectRatio) {\r\n                    this.settings.cropperScaledMaxWidth = this.settings.cropperScaledMaxHeight * this.aspectRatio;\r\n                }\r\n                else if (this.settings.cropperScaledMaxWidth < this.settings.cropperScaledMaxHeight * this.aspectRatio) {\r\n                    this.settings.cropperScaledMaxHeight = this.settings.cropperScaledMaxWidth / this.aspectRatio;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.settings.cropperScaledMaxWidth = this.maxSize.width;\r\n            this.settings.cropperScaledMaxHeight = this.maxSize.height;\r\n        }\r\n    }\r\n    checkCropperPosition(maintainSize = false) {\r\n        if (this.cropper.x1 < 0) {\r\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\r\n            this.cropper.x1 = 0;\r\n        }\r\n        if (this.cropper.y1 < 0) {\r\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\r\n            this.cropper.y1 = 0;\r\n        }\r\n        if (this.cropper.x2 > this.maxSize.width) {\r\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\r\n            this.cropper.x2 = this.maxSize.width;\r\n        }\r\n        if (this.cropper.y2 > this.maxSize.height) {\r\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\r\n            this.cropper.y2 = this.maxSize.height;\r\n        }\r\n    }\r\n    moveStop() {\r\n        if (this.moveStart.active) {\r\n            this.moveStart.active = false;\r\n            this.doAutoCrop();\r\n        }\r\n    }\r\n    pinchStop() {\r\n        if (this.moveStart.active) {\r\n            this.moveStart.active = false;\r\n            this.doAutoCrop();\r\n        }\r\n    }\r\n    doAutoCrop() {\r\n        if (this.autoCrop) {\r\n            this.crop();\r\n        }\r\n    }\r\n    crop() {\r\n        if (this.sourceImage && this.sourceImage.nativeElement && this.loadedImage.transformed.image != null) {\r\n            this.startCropImage.emit();\r\n            const output = this.cropService.crop(this.sourceImage, this.loadedImage, this.cropper, this.settings);\r\n            if (output != null) {\r\n                this.imageCropped.emit(output);\r\n            }\r\n            return output;\r\n        }\r\n        return null;\r\n    }\r\n}\r\nImageCropperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperComponent, deps: [{ token: CropService }, { token: CropperPositionService }, { token: LoadImageService }, { token: i4$2.DomSanitizer }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\r\nImageCropperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ImageCropperComponent, selector: \"image-cropper\", inputs: { imageChangedEvent: \"imageChangedEvent\", imageURL: \"imageURL\", imageBase64: \"imageBase64\", imageFile: \"imageFile\", format: \"format\", transform: \"transform\", maintainAspectRatio: \"maintainAspectRatio\", aspectRatio: \"aspectRatio\", resizeToWidth: \"resizeToWidth\", resizeToHeight: \"resizeToHeight\", cropperMinWidth: \"cropperMinWidth\", cropperMinHeight: \"cropperMinHeight\", cropperMaxHeight: \"cropperMaxHeight\", cropperMaxWidth: \"cropperMaxWidth\", cropperStaticWidth: \"cropperStaticWidth\", cropperStaticHeight: \"cropperStaticHeight\", canvasRotation: \"canvasRotation\", initialStepSize: \"initialStepSize\", roundCropper: \"roundCropper\", onlyScaleDown: \"onlyScaleDown\", imageQuality: \"imageQuality\", autoCrop: \"autoCrop\", backgroundColor: \"backgroundColor\", containWithinAspectRatio: \"containWithinAspectRatio\", hideResizeSquares: \"hideResizeSquares\", cropper: \"cropper\", alignImage: \"alignImage\", disabled: \"disabled\" }, outputs: { imageCropped: \"imageCropped\", startCropImage: \"startCropImage\", imageLoaded: \"imageLoaded\", cropperReady: \"cropperReady\", loadImageFailed: \"loadImageFailed\" }, host: { listeners: { \"window:resize\": \"onResize()\", \"document:mousemove\": \"moveImg($event)\", \"document:touchmove\": \"moveImg($event)\", \"document:mouseup\": \"moveStop()\", \"document:touchend\": \"moveStop()\" }, properties: { \"style.text-align\": \"this.alignImage\", \"class.disabled\": \"this.disabled\" } }, viewQueries: [{ propertyName: \"wrapper\", first: true, predicate: [\"wrapper\"], descendants: true, static: true }, { propertyName: \"sourceImage\", first: true, predicate: [\"sourceImage\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<div [style.background]=\\\"imageVisible && backgroundColor\\\"\\r\\n     #wrapper\\r\\n>\\r\\n    <img\\r\\n      #sourceImage\\r\\n      class=\\\"source-image\\\"\\r\\n      *ngIf=\\\"safeImgDataUrl\\\"\\r\\n      [src]=\\\"safeImgDataUrl\\\"\\r\\n      [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\r\\n      [style.transform]=\\\"safeTransformStyle\\\"\\r\\n      (load)=\\\"imageLoadedInView()\\\"\\r\\n    />\\r\\n    <div\\r\\n        class=\\\"overlay\\\"\\r\\n        [style.width.px]=\\\"maxSize.width\\\"\\r\\n        [style.height.px]=\\\"maxSize.height\\\"\\r\\n        [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\r\\n    ></div>\\r\\n    <div class=\\\"cropper\\\"\\r\\n         *ngIf=\\\"imageVisible\\\"\\r\\n         [class.rounded]=\\\"roundCropper\\\"\\r\\n         [style.top.px]=\\\"cropper.y1\\\"\\r\\n         [style.left.px]=\\\"cropper.x1\\\"\\r\\n         [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\r\\n         [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\r\\n         [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\r\\n         [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\r\\n         (keydown)=\\\"keyboardAccess($event)\\\"\\r\\n         tabindex=\\\"0\\\"\\r\\n    >\\r\\n        <div\\r\\n            (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\r\\n            (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\r\\n            class=\\\"move\\\">\\r\\n        </div>\\r\\n        <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\r\\n            <span class=\\\"resize topleft\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize top\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize topright\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize right\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottomright\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottom\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottomleft\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize left\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar top\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar right\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar bottom\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar left\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\r\\n            </span>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.source-image{max-width:100%;max-height:100%;transform-origin:center}:host .overlay{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}:host .cropper{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){:host .cropper{outline-width:100vh}}:host .cropper:after{position:absolute;content:\\\"\\\";top:0;bottom:0;left:0;right:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}:host .cropper .move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .cropper:focus .move{border-color:#1e90ff;border-width:2px}:host .cropper .resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .cropper .resize .square{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .cropper .resize.topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .cropper .resize.top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.topright{top:-12px;right:-12px;cursor:nesw-resize}:host .cropper .resize.right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .cropper .resize.bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .cropper .resize.bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .cropper .resize.left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .cropper .resize-bar{position:absolute;z-index:1}:host .cropper .resize-bar.top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper .resize-bar.bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper.rounded{outline-color:transparent}:host .cropper.rounded:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){:host .cropper.rounded:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}:host .cropper.rounded .move{border-radius:100%}:host.disabled .cropper .resize,:host.disabled .cropper .resize-bar,:host.disabled .cropper .move{display:none}\\n\"], directives: [{ type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'image-cropper', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div [style.background]=\\\"imageVisible && backgroundColor\\\"\\r\\n     #wrapper\\r\\n>\\r\\n    <img\\r\\n      #sourceImage\\r\\n      class=\\\"source-image\\\"\\r\\n      *ngIf=\\\"safeImgDataUrl\\\"\\r\\n      [src]=\\\"safeImgDataUrl\\\"\\r\\n      [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\r\\n      [style.transform]=\\\"safeTransformStyle\\\"\\r\\n      (load)=\\\"imageLoadedInView()\\\"\\r\\n    />\\r\\n    <div\\r\\n        class=\\\"overlay\\\"\\r\\n        [style.width.px]=\\\"maxSize.width\\\"\\r\\n        [style.height.px]=\\\"maxSize.height\\\"\\r\\n        [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\r\\n    ></div>\\r\\n    <div class=\\\"cropper\\\"\\r\\n         *ngIf=\\\"imageVisible\\\"\\r\\n         [class.rounded]=\\\"roundCropper\\\"\\r\\n         [style.top.px]=\\\"cropper.y1\\\"\\r\\n         [style.left.px]=\\\"cropper.x1\\\"\\r\\n         [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\r\\n         [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\r\\n         [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\r\\n         [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\r\\n         (keydown)=\\\"keyboardAccess($event)\\\"\\r\\n         tabindex=\\\"0\\\"\\r\\n    >\\r\\n        <div\\r\\n            (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\r\\n            (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\r\\n            class=\\\"move\\\">\\r\\n        </div>\\r\\n        <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\r\\n            <span class=\\\"resize topleft\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize top\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize topright\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize right\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottomright\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottom\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottomleft\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize left\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar top\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar right\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar bottom\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar left\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\r\\n            </span>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.source-image{max-width:100%;max-height:100%;transform-origin:center}:host .overlay{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}:host .cropper{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){:host .cropper{outline-width:100vh}}:host .cropper:after{position:absolute;content:\\\"\\\";top:0;bottom:0;left:0;right:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}:host .cropper .move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .cropper:focus .move{border-color:#1e90ff;border-width:2px}:host .cropper .resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .cropper .resize .square{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .cropper .resize.topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .cropper .resize.top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.topright{top:-12px;right:-12px;cursor:nesw-resize}:host .cropper .resize.right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .cropper .resize.bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .cropper .resize.bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .cropper .resize.left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .cropper .resize-bar{position:absolute;z-index:1}:host .cropper .resize-bar.top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper .resize-bar.bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper.rounded{outline-color:transparent}:host .cropper.rounded:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){:host .cropper.rounded:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}:host .cropper.rounded .move{border-radius:100%}:host.disabled .cropper .resize,:host.disabled .cropper .resize-bar,:host.disabled .cropper .move{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: CropService }, { type: CropperPositionService }, { type: LoadImageService }, { type: i4$2.DomSanitizer }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { wrapper: [{\r\n                type: ViewChild,\r\n                args: ['wrapper', { static: true }]\r\n            }], sourceImage: [{\r\n                type: ViewChild,\r\n                args: ['sourceImage', { static: false }]\r\n            }], imageChangedEvent: [{\r\n                type: Input\r\n            }], imageURL: [{\r\n                type: Input\r\n            }], imageBase64: [{\r\n                type: Input\r\n            }], imageFile: [{\r\n                type: Input\r\n            }], format: [{\r\n                type: Input\r\n            }], transform: [{\r\n                type: Input\r\n            }], maintainAspectRatio: [{\r\n                type: Input\r\n            }], aspectRatio: [{\r\n                type: Input\r\n            }], resizeToWidth: [{\r\n                type: Input\r\n            }], resizeToHeight: [{\r\n                type: Input\r\n            }], cropperMinWidth: [{\r\n                type: Input\r\n            }], cropperMinHeight: [{\r\n                type: Input\r\n            }], cropperMaxHeight: [{\r\n                type: Input\r\n            }], cropperMaxWidth: [{\r\n                type: Input\r\n            }], cropperStaticWidth: [{\r\n                type: Input\r\n            }], cropperStaticHeight: [{\r\n                type: Input\r\n            }], canvasRotation: [{\r\n                type: Input\r\n            }], initialStepSize: [{\r\n                type: Input\r\n            }], roundCropper: [{\r\n                type: Input\r\n            }], onlyScaleDown: [{\r\n                type: Input\r\n            }], imageQuality: [{\r\n                type: Input\r\n            }], autoCrop: [{\r\n                type: Input\r\n            }], backgroundColor: [{\r\n                type: Input\r\n            }], containWithinAspectRatio: [{\r\n                type: Input\r\n            }], hideResizeSquares: [{\r\n                type: Input\r\n            }], cropper: [{\r\n                type: Input\r\n            }], alignImage: [{\r\n                type: HostBinding,\r\n                args: ['style.text-align']\r\n            }, {\r\n                type: Input\r\n            }], disabled: [{\r\n                type: HostBinding,\r\n                args: ['class.disabled']\r\n            }, {\r\n                type: Input\r\n            }], imageCropped: [{\r\n                type: Output\r\n            }], startCropImage: [{\r\n                type: Output\r\n            }], imageLoaded: [{\r\n                type: Output\r\n            }], cropperReady: [{\r\n                type: Output\r\n            }], loadImageFailed: [{\r\n                type: Output\r\n            }], onResize: [{\r\n                type: HostListener,\r\n                args: ['window:resize']\r\n            }], moveImg: [{\r\n                type: HostListener,\r\n                args: ['document:mousemove', ['$event']]\r\n            }, {\r\n                type: HostListener,\r\n                args: ['document:touchmove', ['$event']]\r\n            }], moveStop: [{\r\n                type: HostListener,\r\n                args: ['document:mouseup']\r\n            }, {\r\n                type: HostListener,\r\n                args: ['document:touchend']\r\n            }] } });\n\nclass VImageFieldComponent {\r\n    constructor() {\r\n        this.imageChangedEvent = '';\r\n        this.croppedImage = '';\r\n        this.canvasRotation = 0;\r\n        this.rotation = 0;\r\n        this.scale = 1;\r\n        this.showCropper = false;\r\n        this.containWithinAspectRatio = false;\r\n        this.transform = {};\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    fileChangeEvent(event) {\r\n        this.imageChangedEvent = event;\r\n    }\r\n    imageCropped(event) {\r\n        this.group.controls[this.field.name].setValue(event.base64);\r\n        this.group.controls[this.field.name].markAsTouched();\r\n    }\r\n    imageLoaded() {\r\n        this.showCropper = true;\r\n    }\r\n    cropperReady(sourceImageDimensions) {\r\n        // cropper ready\r\n    }\r\n    loadImageFailed() {\r\n        console.error('Fail to load image');\r\n    }\r\n    clearCropper() {\r\n        this.imageChangedEvent = '';\r\n        this.group.controls[this.field.name].setValue(null);\r\n        this.group.controls[this.field.name].markAsUntouched();\r\n        this.showCropper = false;\r\n    }\r\n    onUploadClick() {\r\n        this.fileInput.nativeElement.click();\r\n    }\r\n    rotateLeft() {\r\n        this.canvasRotation--;\r\n        this.flipAfterRotate();\r\n    }\r\n    rotateRight() {\r\n        this.canvasRotation++;\r\n        this.flipAfterRotate();\r\n    }\r\n    flipAfterRotate() {\r\n        const flippedH = this.transform.flipH;\r\n        const flippedV = this.transform.flipV;\r\n        this.transform = {\r\n            ...this.transform,\r\n            flipH: flippedV,\r\n            flipV: flippedH\r\n        };\r\n    }\r\n    flipHorizontal() {\r\n        this.transform = {\r\n            ...this.transform,\r\n            flipH: !this.transform.flipH\r\n        };\r\n    }\r\n    flipVertical() {\r\n        this.transform = {\r\n            ...this.transform,\r\n            flipV: !this.transform.flipV\r\n        };\r\n    }\r\n    resetImage() {\r\n        this.scale = 1;\r\n        this.rotation = 0;\r\n        this.canvasRotation = 0;\r\n        this.transform = {};\r\n    }\r\n    zoomOut() {\r\n        this.scale -= .1;\r\n        this.transform = {\r\n            ...this.transform,\r\n            scale: this.scale\r\n        };\r\n    }\r\n    zoomIn() {\r\n        this.scale += .1;\r\n        this.transform = {\r\n            ...this.transform,\r\n            scale: this.scale\r\n        };\r\n    }\r\n    toggleContainWithinAspectRatio() {\r\n        this.containWithinAspectRatio = !this.containWithinAspectRatio;\r\n    }\r\n    updateRotation() {\r\n        this.transform = {\r\n            ...this.transform,\r\n            rotate: this.rotation\r\n        };\r\n    }\r\n}\r\nVImageFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVImageFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VImageFieldComponent, selector: \"app-image-field\", viewQueries: [{ propertyName: \"fileInput\", first: true, predicate: [\"fileInput\"], descendants: true }], ngImport: i0, template: \"<mat-card class=\\\"image-cropper\\\" [formGroup]=\\\"group\\\">\\r\\n    <mat-card-header>\\r\\n        <mat-card-title>{{field.label}}</mat-card-title>        \\r\\n        <div>\\r\\n            <button \\r\\n                mat-icon-button\\r\\n                color=\\\"accent\\\" \\r\\n                aria-label=\\\"Upload Image\\\"\\r\\n                matTooltip=\\\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\\\"\\r\\n                type=\\\"button\\\"\\r\\n                (click)=\\\"onUploadClick()\\\"\\r\\n            >\\r\\n                <mat-icon>cloud_download</mat-icon>\\r\\n            </button>\\r\\n            <button \\r\\n                mat-icon-button\\r\\n                color=\\\"warn\\\" \\r\\n                type=\\\"button\\\"\\r\\n                aria-label=\\\"Clear Image\\\"\\r\\n                matTooltip=\\\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\\\"\\r\\n                (click)=\\\"clearCropper()\\\"\\r\\n            >\\r\\n                <mat-icon>clear</mat-icon>\\r\\n            </button>\\r\\n        </div>  \\r\\n    </mat-card-header>\\r\\n    <mat-divider></mat-divider>\\r\\n    <div class=\\\"dashboard-container\\\">\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Zoom +\\\" (click)=\\\"zoomIn()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0423\\u0432\\u0435\\u043B\\u0438\\u0447\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon>add_circle_outline</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Zoom -\\\" (click)=\\\"zoomOut()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0423\\u043C\\u0435\\u043D\\u044C\\u0448\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon>remove_circle_outline</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Rotate left\\\" (click)=\\\"rotateLeft()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u043B\\u0435\\u0432\\u043E\\\">\\r\\n            <mat-icon>rotate_left</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Rotate right\\\" (click)=\\\"rotateRight()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u043F\\u0440\\u0430\\u0432\\u043E\\\">\\r\\n            <mat-icon>rotate_right</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Flip horizontal\\\" (click)=\\\"flipHorizontal()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041E\\u0442\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u0433\\u043E\\u0440\\u0438\\u0437\\u043E\\u043D\\u0442\\u0430\\u043B\\u044C\\u043D\\u043E\\\">\\r\\n            <mat-icon>border_vertical</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Flip vertical\\\" (click)=\\\"flipVertical()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041E\\u0442\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u0432\\u0435\\u0440\\u0442\\u0438\\u043A\\u0430\\u043B\\u044C\\u043D\\u043E\\\">\\r\\n            <mat-icon>border_horizontal</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Fill\\\" (click)=\\\"toggleContainWithinAspectRatio()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0417\\u0430\\u043C\\u043E\\u0441\\u0442\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon *ngIf=\\\"!containWithinAspectRatio\\\">zoom_out_map</mat-icon>\\r\\n            <mat-icon *ngIf=\\\"containWithinAspectRatio\\\">fullscreen_exit</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Reset\\\" (click)=\\\"resetImage()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u043F\\u0440\\u0435\\u043E\\u0431\\u0440\\u0430\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\\\">\\r\\n            <mat-icon>cancel_presentation</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <mat-divider></mat-divider>\\r\\n    <mat-card-content>        \\r\\n        <input type=\\\"file\\\" #fileInput (change)=\\\"fileChangeEvent($event)\\\" style=\\\"display:none;\\\" />\\r\\n        <image-cropper\\r\\n            [imageChangedEvent]=\\\"imageChangedEvent\\\"\\r\\n            [maintainAspectRatio]=\\\"true\\\"\\r\\n            [containWithinAspectRatio]=\\\"containWithinAspectRatio\\\"\\r\\n            [aspectRatio] = \\\"field.imageAspectRatio\\\"\\r\\n            [resizeToWidth]=\\\"field.resizeToWidth\\\"\\r\\n            [cropperMinWidth] = \\\"128\\\"\\r\\n            [cropperMinHeight] = \\\"225\\\"\\r\\n            [onlyScaleDown]=\\\"true\\\"\\r\\n            [roundCropper]=\\\"false\\\"\\r\\n            [canvasRotation]=\\\"canvasRotation\\\"\\r\\n            [transform]=\\\"transform\\\"\\r\\n            [alignImage]=\\\"'center'\\\"\\r\\n            [style.display]=\\\"showCropper ? null : 'none'\\\"\\r\\n            format=\\\"png\\\"\\r\\n            (imageCropped)=\\\"imageCropped($event)\\\"\\r\\n            (imageLoaded)=\\\"imageLoaded()\\\"\\r\\n            (cropperReady)=\\\"cropperReady($event)\\\"\\r\\n            (loadImageFailed)=\\\"loadImageFailed()\\\"\\r\\n        ></image-cropper>\\r\\n    </mat-card-content>\\r\\n</mat-card>\\r\\n\", styles: [\".image-cropper{min-height:300px}.image-cropper mat-card-header{display:flex;justify-content:space-between;margin-bottom:5px}.image-cropper mat-card-header button{margin-right:10px}.image-cropper .dashboard-container{display:flex;justify-content:center}.image-cropper mat-card-content{margin-top:5px}\\n\"], components: [{ type: i1$4.MatCard, selector: \"mat-card\", exportAs: [\"matCard\"] }, { type: i1$4.MatCardHeader, selector: \"mat-card-header\" }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i1$3.MatDivider, selector: \"mat-divider\", inputs: [\"vertical\", \"inset\"] }, { type: ImageCropperComponent, selector: \"image-cropper\", inputs: [\"imageChangedEvent\", \"imageURL\", \"imageBase64\", \"imageFile\", \"format\", \"transform\", \"maintainAspectRatio\", \"aspectRatio\", \"resizeToWidth\", \"resizeToHeight\", \"cropperMinWidth\", \"cropperMinHeight\", \"cropperMaxHeight\", \"cropperMaxWidth\", \"cropperStaticWidth\", \"cropperStaticHeight\", \"canvasRotation\", \"initialStepSize\", \"roundCropper\", \"onlyScaleDown\", \"imageQuality\", \"autoCrop\", \"backgroundColor\", \"containWithinAspectRatio\", \"hideResizeSquares\", \"cropper\", \"alignImage\", \"disabled\"], outputs: [\"imageCropped\", \"startCropImage\", \"imageLoaded\", \"cropperReady\", \"loadImageFailed\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$4.MatCardTitle, selector: \"mat-card-title, [mat-card-title], [matCardTitle]\" }, { type: i5$1.MatTooltip, selector: \"[matTooltip]\", exportAs: [\"matTooltip\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$4.MatCardContent, selector: \"mat-card-content, [mat-card-content], [matCardContent]\" }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-image-field', template: \"<mat-card class=\\\"image-cropper\\\" [formGroup]=\\\"group\\\">\\r\\n    <mat-card-header>\\r\\n        <mat-card-title>{{field.label}}</mat-card-title>        \\r\\n        <div>\\r\\n            <button \\r\\n                mat-icon-button\\r\\n                color=\\\"accent\\\" \\r\\n                aria-label=\\\"Upload Image\\\"\\r\\n                matTooltip=\\\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\\\"\\r\\n                type=\\\"button\\\"\\r\\n                (click)=\\\"onUploadClick()\\\"\\r\\n            >\\r\\n                <mat-icon>cloud_download</mat-icon>\\r\\n            </button>\\r\\n            <button \\r\\n                mat-icon-button\\r\\n                color=\\\"warn\\\" \\r\\n                type=\\\"button\\\"\\r\\n                aria-label=\\\"Clear Image\\\"\\r\\n                matTooltip=\\\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\\\"\\r\\n                (click)=\\\"clearCropper()\\\"\\r\\n            >\\r\\n                <mat-icon>clear</mat-icon>\\r\\n            </button>\\r\\n        </div>  \\r\\n    </mat-card-header>\\r\\n    <mat-divider></mat-divider>\\r\\n    <div class=\\\"dashboard-container\\\">\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Zoom +\\\" (click)=\\\"zoomIn()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0423\\u0432\\u0435\\u043B\\u0438\\u0447\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon>add_circle_outline</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Zoom -\\\" (click)=\\\"zoomOut()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0423\\u043C\\u0435\\u043D\\u044C\\u0448\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon>remove_circle_outline</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Rotate left\\\" (click)=\\\"rotateLeft()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u043B\\u0435\\u0432\\u043E\\\">\\r\\n            <mat-icon>rotate_left</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Rotate right\\\" (click)=\\\"rotateRight()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u043F\\u0440\\u0430\\u0432\\u043E\\\">\\r\\n            <mat-icon>rotate_right</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Flip horizontal\\\" (click)=\\\"flipHorizontal()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041E\\u0442\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u0433\\u043E\\u0440\\u0438\\u0437\\u043E\\u043D\\u0442\\u0430\\u043B\\u044C\\u043D\\u043E\\\">\\r\\n            <mat-icon>border_vertical</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Flip vertical\\\" (click)=\\\"flipVertical()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041E\\u0442\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u0432\\u0435\\u0440\\u0442\\u0438\\u043A\\u0430\\u043B\\u044C\\u043D\\u043E\\\">\\r\\n            <mat-icon>border_horizontal</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Fill\\\" (click)=\\\"toggleContainWithinAspectRatio()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0417\\u0430\\u043C\\u043E\\u0441\\u0442\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon *ngIf=\\\"!containWithinAspectRatio\\\">zoom_out_map</mat-icon>\\r\\n            <mat-icon *ngIf=\\\"containWithinAspectRatio\\\">fullscreen_exit</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Reset\\\" (click)=\\\"resetImage()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u043F\\u0440\\u0435\\u043E\\u0431\\u0440\\u0430\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\\\">\\r\\n            <mat-icon>cancel_presentation</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <mat-divider></mat-divider>\\r\\n    <mat-card-content>        \\r\\n        <input type=\\\"file\\\" #fileInput (change)=\\\"fileChangeEvent($event)\\\" style=\\\"display:none;\\\" />\\r\\n        <image-cropper\\r\\n            [imageChangedEvent]=\\\"imageChangedEvent\\\"\\r\\n            [maintainAspectRatio]=\\\"true\\\"\\r\\n            [containWithinAspectRatio]=\\\"containWithinAspectRatio\\\"\\r\\n            [aspectRatio] = \\\"field.imageAspectRatio\\\"\\r\\n            [resizeToWidth]=\\\"field.resizeToWidth\\\"\\r\\n            [cropperMinWidth] = \\\"128\\\"\\r\\n            [cropperMinHeight] = \\\"225\\\"\\r\\n            [onlyScaleDown]=\\\"true\\\"\\r\\n            [roundCropper]=\\\"false\\\"\\r\\n            [canvasRotation]=\\\"canvasRotation\\\"\\r\\n            [transform]=\\\"transform\\\"\\r\\n            [alignImage]=\\\"'center'\\\"\\r\\n            [style.display]=\\\"showCropper ? null : 'none'\\\"\\r\\n            format=\\\"png\\\"\\r\\n            (imageCropped)=\\\"imageCropped($event)\\\"\\r\\n            (imageLoaded)=\\\"imageLoaded()\\\"\\r\\n            (cropperReady)=\\\"cropperReady($event)\\\"\\r\\n            (loadImageFailed)=\\\"loadImageFailed()\\\"\\r\\n        ></image-cropper>\\r\\n    </mat-card-content>\\r\\n</mat-card>\\r\\n\", styles: [\".image-cropper{min-height:300px}.image-cropper mat-card-header{display:flex;justify-content:space-between;margin-bottom:5px}.image-cropper mat-card-header button{margin-right:10px}.image-cropper .dashboard-container{display:flex;justify-content:center}.image-cropper mat-card-content{margin-top:5px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { fileInput: [{\r\n                type: ViewChild,\r\n                args: ['fileInput', { static: false }]\r\n            }] } });\n\nclass VImageComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVImageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVImageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VImageComponent, selector: \"app-image\", ngImport: i0, template: \"<div class=\\\"image-wrapper\\\">\\r\\n    <img [src]=\\\"field.url\\\" alt=\\\"\\\">\\r\\n</div>\\r\\n\\r\\n\", styles: [\".image-wrapper{display:flex;justify-content:center}.image-wrapper img{border-radius:10px}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-image', template: \"<div class=\\\"image-wrapper\\\">\\r\\n    <img [src]=\\\"field.url\\\" alt=\\\"\\\">\\r\\n</div>\\r\\n\\r\\n\", styles: [\".image-wrapper{display:flex;justify-content:center}.image-wrapper img{border-radius:10px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass TrimDirective {\r\n    constructor(ngControl) {\r\n        this.ngControl = ngControl;\r\n    }\r\n    get ctrl() {\r\n        return this.ngControl.control;\r\n    }\r\n    onBlur() {\r\n        this.ctrl.value && this.ctrl.setValue(this.ctrl.value.trim());\r\n    }\r\n}\r\nTrimDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimDirective, deps: [{ token: i4.NgControl }], target: i0.ɵɵFactoryTarget.Directive });\r\nTrimDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.3\", type: TrimDirective, selector: \"[trim]\", host: { listeners: { \"blur\": \"onBlur()\" } }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[trim]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i4.NgControl }]; }, propDecorators: { onBlur: [{\r\n                type: HostListener,\r\n                args: ['blur']\r\n            }] } });\n\nclass VInputFieldComponent {\r\n    constructor() { }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    clearField() {\r\n        this.control.setValue('');\r\n    }\r\n    actionClicked(event) {\r\n        this.field.actionHandler(event);\r\n    }\r\n}\r\nVInputFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVInputFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VInputFieldComponent, selector: \"app-input-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        [type]=\\\"field.type\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.placeholder\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n        trim\\r\\n    />\\r\\n\\r\\n    <mat-icon *ngIf=\\\"field.suffix && !field.actionButton\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"field.actionButton\\\" matSuffix mat-icon-button (click)=\\\"actionClicked($event)\\\">\\r\\n        <mat-icon>{{field.suffix}}</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: TrimDirective, selector: \"[trim]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-input-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        [type]=\\\"field.type\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.placeholder\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n        trim\\r\\n    />\\r\\n\\r\\n    <mat-icon *ngIf=\\\"field.suffix && !field.actionButton\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"field.actionButton\\\" matSuffix mat-icon-button (click)=\\\"actionClicked($event)\\\">\\r\\n        <mat-icon>{{field.suffix}}</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VLabelComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVLabelComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVLabelComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VLabelComponent, selector: \"app-v-label\", ngImport: i0, template: \"<span *ngIf=\\\"!field.hidden\\\">{{field.text}}</span>\\r\\n\", styles: [\"\"], directives: [{ type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-label', template: \"<span *ngIf=\\\"!field.hidden\\\">{{field.text}}</span>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VListComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VListComponent, selector: \"app-v-list\", ngImport: i0, template: \"<ng-container>\\r\\n  <ng-container>\\r\\n    <mat-selection-list [multiple]=\\\"field.multiple\\\">\\r\\n      <mat-list-option *ngFor=\\\"let option of field.options\\\" [value]=\\\"option.value\\\">\\r\\n        <mat-icon mat-list-icon *ngIf=\\\"option.data?.icon\\\">{{option.data?.icon}}</mat-icon>\\r\\n        <div mat-line>{{option.label}}</div>\\r\\n        <div mat-line *ngIf=\\\"option.data?.info\\\"> {{option.data?.info}} </div>\\r\\n        <mat-icon\\r\\n          mat-list-icon\\r\\n          (click)=\\\"field.editHandler(option.value)\\\"\\r\\n          *ngIf=\\\"field.editHandler\\\"\\r\\n          matTooltip=\\\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\\"\\r\\n          >\\r\\n          edit_note\\r\\n        </mat-icon>\\r\\n        <mat-icon\\r\\n          mat-list-icon\\r\\n          (click)=\\\"field.deleteHandler(option.value)\\\"\\r\\n          *ngIf=\\\"field.deleteHandler\\\"\\r\\n          matTooltip=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\"\\r\\n          >\\r\\n          delete\\r\\n        </mat-icon>\\r\\n      </mat-list-option>\\r\\n    </mat-selection-list>\\r\\n  </ng-container>\\r\\n</ng-container>\\r\\n\", styles: [\"\"], components: [{ type: i1$5.MatSelectionList, selector: \"mat-selection-list\", inputs: [\"disableRipple\", \"tabIndex\", \"color\", \"compareWith\", \"disabled\", \"multiple\"], outputs: [\"selectionChange\"], exportAs: [\"matSelectionList\"] }, { type: i1$5.MatListOption, selector: \"mat-list-option\", inputs: [\"disableRipple\", \"checkboxPosition\", \"color\", \"value\", \"disabled\", \"selected\"], outputs: [\"selectedChange\"], exportAs: [\"matListOption\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$5.MatListIconCssMatStyler, selector: \"[mat-list-icon], [matListIcon]\" }, { type: i4$1.MatLine, selector: \"[mat-line], [matLine]\" }, { type: i5$1.MatTooltip, selector: \"[matTooltip]\", exportAs: [\"matTooltip\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-list', template: \"<ng-container>\\r\\n  <ng-container>\\r\\n    <mat-selection-list [multiple]=\\\"field.multiple\\\">\\r\\n      <mat-list-option *ngFor=\\\"let option of field.options\\\" [value]=\\\"option.value\\\">\\r\\n        <mat-icon mat-list-icon *ngIf=\\\"option.data?.icon\\\">{{option.data?.icon}}</mat-icon>\\r\\n        <div mat-line>{{option.label}}</div>\\r\\n        <div mat-line *ngIf=\\\"option.data?.info\\\"> {{option.data?.info}} </div>\\r\\n        <mat-icon\\r\\n          mat-list-icon\\r\\n          (click)=\\\"field.editHandler(option.value)\\\"\\r\\n          *ngIf=\\\"field.editHandler\\\"\\r\\n          matTooltip=\\\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\\"\\r\\n          >\\r\\n          edit_note\\r\\n        </mat-icon>\\r\\n        <mat-icon\\r\\n          mat-list-icon\\r\\n          (click)=\\\"field.deleteHandler(option.value)\\\"\\r\\n          *ngIf=\\\"field.deleteHandler\\\"\\r\\n          matTooltip=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\"\\r\\n          >\\r\\n          delete\\r\\n        </mat-icon>\\r\\n      </mat-list-option>\\r\\n    </mat-selection-list>\\r\\n  </ng-container>\\r\\n</ng-container>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass MaskDirective {\r\n    constructor(el, ngControl) {\r\n        this.el = el;\r\n        this.ngControl = ngControl;\r\n    }\r\n    ngOnInit() {\r\n        this.maskChar = this.mask ? this.getMaskChar() : null;\r\n    }\r\n    get ctrl() {\r\n        return this.ngControl.control;\r\n    }\r\n    onKeyDown(event) {\r\n        const key = event.key;\r\n        return key.length > 1 || /\\d/.test(key);\r\n    }\r\n    onKeyUp(event) {\r\n        const keyCode = this.getCode(event);\r\n        if ([37, 39].indexOf(keyCode) !== -1)\r\n            return;\r\n        this.applyMask();\r\n    }\r\n    applyMask() {\r\n        if (this.ctrl.value && this.mask) {\r\n            const value = this.ctrl.value.replace(/\\D/g, '');\r\n            let newValue = this.mask, cursorPos = this.getCursorPosition();\r\n            for (let i = 0; i < value.length; i++) {\r\n                const idx = newValue.indexOf(this.maskChar);\r\n                newValue = `${newValue.substring(0, idx)}${value[i]}${newValue.substring(idx + 1, newValue.length)}`;\r\n            }\r\n            let idx = newValue.indexOf(this.maskChar);\r\n            if (idx !== -1) {\r\n                newValue = newValue.substring(0, idx);\r\n            }\r\n            if (!/\\d/.test(newValue[cursorPos]) || cursorPos === 1) {\r\n                cursorPos++;\r\n            }\r\n            this.ctrl.setValue(newValue, { emitEvent: false });\r\n            this.setCursorPosition(cursorPos);\r\n        }\r\n    }\r\n    getMaskChar() {\r\n        const chars = {};\r\n        let maskChar, max = 0;\r\n        for (let i = 0; i < this.mask.length; i++) {\r\n            if (Object.keys(chars).indexOf(this.mask[i]) === -1) {\r\n                chars[this.mask[i]] = 1;\r\n            }\r\n            else {\r\n                chars[this.mask[i]]++;\r\n            }\r\n            if (chars[this.mask[i]] > max) {\r\n                max = chars[this.mask[i]];\r\n                maskChar = this.mask[i];\r\n            }\r\n        }\r\n        return maskChar;\r\n    }\r\n    getCursorPosition() {\r\n        return this.el.nativeElement.selectionStart;\r\n    }\r\n    setCursorPosition(start, end = start) {\r\n        this.el.nativeElement.setSelectionRange(start, end);\r\n    }\r\n    getCode(event) {\r\n        return event.keyCode || event.charCode;\r\n    }\r\n}\r\nMaskDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskDirective, deps: [{ token: i0.ElementRef }, { token: i4.NgControl }], target: i0.ɵɵFactoryTarget.Directive });\r\nMaskDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.3\", type: MaskDirective, selector: \"input[mask]\", inputs: { mask: \"mask\" }, host: { listeners: { \"keydown\": \"onKeyDown($event)\", \"keyup\": \"onKeyUp($event)\" } }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: 'input[mask]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i4.NgControl }]; }, propDecorators: { mask: [{\r\n                type: Input\r\n            }], onKeyDown: [{\r\n                type: HostListener,\r\n                args: ['keydown', ['$event']]\r\n            }], onKeyUp: [{\r\n                type: HostListener,\r\n                args: ['keyup', ['$event']]\r\n            }] } });\n\nclass VMaskedFieldComponent {\r\n    constructor() { }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    clearField() {\r\n        this.control.setValue('');\r\n    }\r\n}\r\nVMaskedFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVMaskedFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VMaskedFieldComponent, selector: \"app-masked-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\" [class]=\\\"{hidden:field.hidden}\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        type=\\\"text\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.mask\\\"\\r\\n        [maxlength]=\\\"field.mask?.length\\\"\\r\\n        [mask]=\\\"field.mask\\\"\\r\\n        matInput\\r\\n    />\\r\\n    <mat-icon *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}.hidden{display:none}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: MaskDirective, selector: \"input[mask]\", inputs: [\"mask\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i4.MaxLengthValidator, selector: \"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]\", inputs: [\"maxlength\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-masked-field', template: \"<mat-form-field [formGroup]=\\\"group\\\" [class]=\\\"{hidden:field.hidden}\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        type=\\\"text\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.mask\\\"\\r\\n        [maxlength]=\\\"field.mask?.length\\\"\\r\\n        [mask]=\\\"field.mask\\\"\\r\\n        matInput\\r\\n    />\\r\\n    <mat-icon *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}.hidden{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VNumberFieldComponent {\r\n    constructor() { }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    clearField() {\r\n        this.control.setValue('');\r\n    }\r\n}\r\nVNumberFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVNumberFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VNumberFieldComponent, selector: \"app-number-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input\\r\\n        type=\\\"number\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [min]=\\\"field.min\\\"\\r\\n        [max]=\\\"field.max\\\"\\r\\n        [step]=\\\"field.step\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n    />\\r\\n    <span *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</span>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i4.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { type: i4.MinValidator, selector: \"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]\", inputs: [\"min\"] }, { type: i4.MaxValidator, selector: \"input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]\", inputs: [\"max\"] }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-number-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input\\r\\n        type=\\\"number\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [min]=\\\"field.min\\\"\\r\\n        [max]=\\\"field.max\\\"\\r\\n        [step]=\\\"field.step\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n    />\\r\\n    <span *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</span>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VRadioFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVRadioFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVRadioFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VRadioFieldComponent, selector: \"app-radio-field\", ngImport: i0, template: \"<section class=\\\"radio-section\\\" [formGroup]=\\\"group\\\">\\r\\n    <label *ngIf=\\\"field.label\\\">{{field.label}}:</label>\\r\\n    <mat-radio-group aria-label=\\\"field.label\\\" [formControlName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let option of field.options\\\">\\r\\n            <mat-radio-button [value]=\\\"option.value\\\">{{option.label}}</mat-radio-button>\\r\\n        </ng-container>        \\r\\n    </mat-radio-group>\\r\\n</section>\\r\\n\\r\\n\", styles: [\".radio-section{display:flex;align-content:center;align-items:center;margin:15px 0}.radio-section label{margin:0 10px 0 0}.mat-radio-button~.mat-radio-button{margin-left:16px}\\n\"], components: [{ type: i1$6.MatRadioButton, selector: \"mat-radio-button\", inputs: [\"disableRipple\", \"tabIndex\"], exportAs: [\"matRadioButton\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$6.MatRadioGroup, selector: \"mat-radio-group\", exportAs: [\"matRadioGroup\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-radio-field', template: \"<section class=\\\"radio-section\\\" [formGroup]=\\\"group\\\">\\r\\n    <label *ngIf=\\\"field.label\\\">{{field.label}}:</label>\\r\\n    <mat-radio-group aria-label=\\\"field.label\\\" [formControlName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let option of field.options\\\">\\r\\n            <mat-radio-button [value]=\\\"option.value\\\">{{option.label}}</mat-radio-button>\\r\\n        </ng-container>        \\r\\n    </mat-radio-group>\\r\\n</section>\\r\\n\\r\\n\", styles: [\".radio-section{display:flex;align-content:center;align-items:center;margin:15px 0}.radio-section label{margin:0 10px 0 0}.mat-radio-button~.mat-radio-button{margin-left:16px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VSelectFieldComponent {\r\n    constructor() {\r\n        this._selectSource = new BehaviorSubject([]);\r\n        this.options = this._selectSource.asObservable();\r\n    }\r\n    ngOnInit() {\r\n        if (this.field.options instanceof Observable) {\r\n            this.sub = this.field.options.subscribe(res => {\r\n                this._selectSource.next(res);\r\n            });\r\n        }\r\n        else {\r\n            this._selectSource.next(this.field.options);\r\n        }\r\n    }\r\n    get value() {\r\n        return this.group.get(this.field.name).value || '';\r\n    }\r\n    get option() {\r\n        return this._selectSource.value.find(option => option.value === this.value);\r\n    }\r\n    get label() {\r\n        return this.option ? this.option.label : '';\r\n    }\r\n    get hint() {\r\n        return this.value && this.option ? this.option.data?.hint || '' : '';\r\n    }\r\n    get color() {\r\n        return this.value && this.option ? this.option.data?.color || '' : '';\r\n    }\r\n    get icon() {\r\n        return this.value && this.option ? this.option.data?.icon || '' : '';\r\n    }\r\n    ngOnDestroy() {\r\n        this.sub && this.sub.unsubscribe();\r\n    }\r\n}\r\nVSelectFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVSelectFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VSelectFieldComponent, selector: \"app-select-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n  <mat-label>{{field.label}}</mat-label>\\r\\n  <span *ngIf=\\\"icon\\\" matPrefix [style]=\\\"{'color': color}\\\"><mat-icon>{{icon}}</mat-icon>&nbsp;&nbsp;</span>\\r\\n  <mat-select\\r\\n      [formControlName]=\\\"field.name\\\"\\r\\n      [multiple]=\\\"field.multiple\\\"\\r\\n  >\\r\\n    <mat-select-trigger *ngIf=\\\"field.icons\\\">\\r\\n      <mat-icon>{{value}}</mat-icon>&nbsp;&nbsp;&nbsp;{{label}}\\r\\n    </mat-select-trigger>\\r\\n    \\r\\n    <mat-option\\r\\n      *ngFor=\\\"let option of options | async\\\"\\r\\n      [value]=\\\"option.value\\\"\\r\\n      [disabled]=\\\"option.data?.disabled\\\">\\r\\n      <mat-icon *ngIf=\\\"field.icons\\\">{{option.value}}</mat-icon>\\r\\n      {{option.label}}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n  <mat-hint *ngIf=\\\"hint\\\">{{hint}}</mat-hint>\\r\\n  <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n    <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n        {{validation.message}}\\r\\n    </ng-container>\\r\\n</mat-error>\\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i4$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i3.MatSelectTrigger, selector: \"mat-select-trigger\" }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-select-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n  <mat-label>{{field.label}}</mat-label>\\r\\n  <span *ngIf=\\\"icon\\\" matPrefix [style]=\\\"{'color': color}\\\"><mat-icon>{{icon}}</mat-icon>&nbsp;&nbsp;</span>\\r\\n  <mat-select\\r\\n      [formControlName]=\\\"field.name\\\"\\r\\n      [multiple]=\\\"field.multiple\\\"\\r\\n  >\\r\\n    <mat-select-trigger *ngIf=\\\"field.icons\\\">\\r\\n      <mat-icon>{{value}}</mat-icon>&nbsp;&nbsp;&nbsp;{{label}}\\r\\n    </mat-select-trigger>\\r\\n    \\r\\n    <mat-option\\r\\n      *ngFor=\\\"let option of options | async\\\"\\r\\n      [value]=\\\"option.value\\\"\\r\\n      [disabled]=\\\"option.data?.disabled\\\">\\r\\n      <mat-icon *ngIf=\\\"field.icons\\\">{{option.value}}</mat-icon>\\r\\n      {{option.label}}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n  <mat-hint *ngIf=\\\"hint\\\">{{hint}}</mat-hint>\\r\\n  <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n    <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n        {{validation.message}}\\r\\n    </ng-container>\\r\\n</mat-error>\\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VSlideToggleFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVSlideToggleFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVSlideToggleFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VSlideToggleFieldComponent, selector: \"app-slide-toggle-field\", ngImport: i0, template: \"<section  class=\\\"slider-toggle-section\\\" [formGroup]=\\\"group\\\">\\r\\n    <mat-slide-toggle\\r\\n          [color]=\\\"field.color ? field.color : 'accent'\\\"\\r\\n          [formControlName]=\\\"field.name\\\"\\r\\n    >\\r\\n        {{field.label}}\\r\\n    </mat-slide-toggle>\\r\\n</section>\\r\\n\", styles: [\".slider-toggle-section{display:flex;align-content:center;align-items:center;margin:15px 0}\\n\"], components: [{ type: i1$7.MatSlideToggle, selector: \"mat-slide-toggle\", inputs: [\"disabled\", \"disableRipple\", \"color\", \"tabIndex\", \"name\", \"id\", \"labelPosition\", \"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"required\", \"checked\"], outputs: [\"change\", \"toggleChange\"], exportAs: [\"matSlideToggle\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-slide-toggle-field', template: \"<section  class=\\\"slider-toggle-section\\\" [formGroup]=\\\"group\\\">\\r\\n    <mat-slide-toggle\\r\\n          [color]=\\\"field.color ? field.color : 'accent'\\\"\\r\\n          [formControlName]=\\\"field.name\\\"\\r\\n    >\\r\\n        {{field.label}}\\r\\n    </mat-slide-toggle>\\r\\n</section>\\r\\n\", styles: [\".slider-toggle-section{display:flex;align-content:center;align-items:center;margin:15px 0}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VSliderFieldComponent {\r\n    constructor() { }\r\n    getSliderTickInterval() {\r\n        if (this.field.showTicks) {\r\n            return this.field.autoTicks ? 'auto' : this.field.tickInterval;\r\n        }\r\n        return 0;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVSliderFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVSliderFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VSliderFieldComponent, selector: \"app-slider-field\", ngImport: i0, template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <div class=\\\"label-wrapper\\\">\\r\\n      <label class=\\\"start-label\\\">{{field.label}}</label>\\r\\n      <label class=\\\"end-label\\\">{{group.get(field.name).value}}</label>\\r\\n    </div>\\r\\n    <mat-slider\\r\\n        [invert]=\\\"field.invert\\\"\\r\\n        [min]=\\\"field.min\\\"\\r\\n        [max]=\\\"field.max\\\"\\r\\n        [step]=\\\"field.step\\\"\\r\\n        [thumbLabel]=\\\"field.thumbLabel\\\"\\r\\n        [tickInterval]=\\\"getSliderTickInterval()\\\"\\r\\n        [vertical]=\\\"field.vertical\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [value]=\\\"field.value\\\"\\r\\n    >\\r\\n    </mat-slider>\\r\\n</ng-container>\\r\\n\", styles: [\"mat-slider{width:100%}\\n\"], components: [{ type: i1$8.MatSlider, selector: \"mat-slider\", inputs: [\"disabled\", \"color\", \"tabIndex\", \"invert\", \"max\", \"min\", \"step\", \"thumbLabel\", \"tickInterval\", \"value\", \"displayWith\", \"valueText\", \"vertical\"], outputs: [\"change\", \"input\", \"valueChange\"], exportAs: [\"matSlider\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-slider-field', template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <div class=\\\"label-wrapper\\\">\\r\\n      <label class=\\\"start-label\\\">{{field.label}}</label>\\r\\n      <label class=\\\"end-label\\\">{{group.get(field.name).value}}</label>\\r\\n    </div>\\r\\n    <mat-slider\\r\\n        [invert]=\\\"field.invert\\\"\\r\\n        [min]=\\\"field.min\\\"\\r\\n        [max]=\\\"field.max\\\"\\r\\n        [step]=\\\"field.step\\\"\\r\\n        [thumbLabel]=\\\"field.thumbLabel\\\"\\r\\n        [tickInterval]=\\\"getSliderTickInterval()\\\"\\r\\n        [vertical]=\\\"field.vertical\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [value]=\\\"field.value\\\"\\r\\n    >\\r\\n    </mat-slider>\\r\\n</ng-container>\\r\\n\", styles: [\"mat-slider{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VTextFieldComponent {\r\n    constructor(_ngZone) {\r\n        this._ngZone = _ngZone;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    triggerResize() {\r\n        this._ngZone.onStable.pipe(take(1))\r\n            .subscribe(() => this.autosize.resizeToFitContent(true));\r\n    }\r\n}\r\nVTextFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldComponent, deps: [{ token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\r\nVTextFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VTextFieldComponent, selector: \"app-text-field\", viewQueries: [{ propertyName: \"autosize\", first: true, predicate: [\"autosize\"], descendants: true }], ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <textarea \\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        cdkTextareaAutosize\\r\\n        #autosize=\\\"cdkTextareaAutosize\\\"\\r\\n        [cdkAutosizeMinRows]=\\\"field.rows\\\"\\r\\n        [cdkAutosizeMaxRows]=\\\"field.maxRows\\\"\\r\\n        matInput\\r\\n        trim\\r\\n    ></textarea>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error> \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i3$1.CdkTextareaAutosize, selector: \"textarea[cdkTextareaAutosize]\", inputs: [\"cdkAutosizeMinRows\", \"cdkAutosizeMaxRows\", \"cdkTextareaAutosize\", \"placeholder\"], exportAs: [\"cdkTextareaAutosize\"] }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: TrimDirective, selector: \"[trim]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-text-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <textarea \\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        cdkTextareaAutosize\\r\\n        #autosize=\\\"cdkTextareaAutosize\\\"\\r\\n        [cdkAutosizeMinRows]=\\\"field.rows\\\"\\r\\n        [cdkAutosizeMaxRows]=\\\"field.maxRows\\\"\\r\\n        matInput\\r\\n        trim\\r\\n    ></textarea>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error> \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.NgZone }]; }, propDecorators: { autosize: [{\r\n                type: ViewChild,\r\n                args: ['autosize']\r\n            }] } });\n\nconst componentMapper = {\r\n    vinputfield: VInputFieldComponent,\r\n    vbox: VBoxComponent,\r\n    vbutton: VButtonComponent,\r\n    vselectfield: VSelectFieldComponent,\r\n    vtextfield: VTextFieldComponent,\r\n    vautocompletefield: VAutocompleteFieldComponent,\r\n    vcheckboxfield: VCheckboxFieldComponent,\r\n    vdatepickerfield: VDatepickerFieldComponent,\r\n    vimage: VImageComponent,\r\n    vmaskedfield: VMaskedFieldComponent,\r\n    vnumberfield: VNumberFieldComponent,\r\n    vradiofield: VRadioFieldComponent,\r\n    vslidetogglefield: VSlideToggleFieldComponent,\r\n    vsliderfield: VSliderFieldComponent,\r\n    vaccordion: VAccordionComponent,\r\n    vlabel: VLabelComponent,\r\n    vchips: VChipsComponent,\r\n    vdragdroplist: VDragDropListComponent,\r\n    vcolorfield: VColorFieldComponent,\r\n    veditorfield: VEditorFieldComponent,\r\n    vfilefield: VFileFieldComponent,\r\n    vdivider: VDividerComponent,\r\n    vlist: VListComponent,\r\n    vimagefield: VImageFieldComponent,\r\n    vchipsfield: VChipsFieldComponent\r\n};\r\nclass VFieldDirective {\r\n    constructor(_resolver, _container) {\r\n        this._resolver = _resolver;\r\n        this._container = _container;\r\n    }\r\n    ngOnInit() {\r\n        const factory = this._resolver.resolveComponentFactory(componentMapper[this.field.getName()]);\r\n        this.componentRef = this._container.createComponent(factory);\r\n        this._applyStyles();\r\n        this.componentRef.instance.field = this.field;\r\n        this.componentRef.instance.group = this.group;\r\n    }\r\n    _applyStyles() {\r\n        let element = this.componentRef.location.nativeElement;\r\n        if (this.field.styles) {\r\n            Object.keys(this.field.styles).map(k => {\r\n                element.style[this._getStyle(k)] = this.field.styles[k].toString();\r\n            });\r\n        }\r\n        if (this.field.cls) {\r\n            this.field.cls.split(' ').map(cls => {\r\n                if (cls && cls.trim() !== '') {\r\n                    element.classList.add(cls);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _getStyle(key) {\r\n        switch (key) {\r\n            case 'marginLeft':\r\n                return 'margin-left';\r\n            case 'marginRight':\r\n                return 'margin-right';\r\n            case 'marginTop':\r\n                return 'margin-top';\r\n            case 'marginBottom':\r\n                return 'margin-bottom';\r\n            case 'bgColor':\r\n                return 'background-color';\r\n            default:\r\n                return key;\r\n        }\r\n    }\r\n}\r\nVFieldDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldDirective, deps: [{ token: i0.ComponentFactoryResolver }, { token: i0.ViewContainerRef }], target: i0.ɵɵFactoryTarget.Directive });\r\nVFieldDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VFieldDirective, selector: \"[appVField]\", inputs: { field: \"field\", group: \"group\" }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[appVField]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i0.ViewContainerRef }]; }, propDecorators: { field: [{\r\n                type: Input\r\n            }], group: [{\r\n                type: Input\r\n            }] } });\n\nclass VFactoryComponent {\r\n    constructor(_factoryService) {\r\n        this._factoryService = _factoryService;\r\n        this.formConfig = [];\r\n        this.submit = new EventEmitter();\r\n        this.formConfig$ = this._factoryService.configEvent;\r\n    }\r\n    get value() {\r\n        return this.form.value;\r\n    }\r\n    ngOnInit() {\r\n        this._factoryService.updateConfig(this.formConfig, this.form);\r\n    }\r\n    onSubmit(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (this.form.valid) {\r\n            this.submit.emit(this.form);\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this._factoryService.clearConfig();\r\n    }\r\n}\r\nVFactoryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryComponent, deps: [{ token: VFactoryService }], target: i0.ɵɵFactoryTarget.Component });\r\nVFactoryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VFactoryComponent, selector: \"v-v-factory\", inputs: { formConfig: \"formConfig\", form: \"form\" }, outputs: { submit: \"submit\" }, ngImport: i0, template: \"<form \\r\\n    autocomplete=\\\"off\\\"\\r\\n    [formGroup]=\\\"form\\\"\\r\\n    (submit)=\\\"onSubmit($event)\\\"\\r\\n>\\r\\n    <ng-container *ngFor=\\\"let item of formConfig$ | async\\\">    \\r\\n            \\r\\n        <ng-container [ngSwitch]=\\\"item.getName()\\\">        \\r\\n            <ng-container *ngSwitchCase=\\\"'vcontent'\\\">\\r\\n                <ng-content></ng-content>           \\r\\n            </ng-container>\\r\\n            \\r\\n            <ng-container *ngSwitchDefault\\r\\n                appVField \\r\\n                [field]=\\\"item\\\" \\r\\n                [group]=\\\"form\\\"            \\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>   \\r\\n    </ng-container>\\r\\n</form>\\r\\n\", styles: [\"::ng-deep .column{display:flex;flex-direction:column;justify-content:space-between}::ng-deep .row{display:flex;justify-content:space-between}::ng-deep .hidden{display:none}\\n\"], directives: [{ type: i4.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i5.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { type: i5.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { type: i5.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }, { type: VFieldDirective, selector: \"[appVField]\", inputs: [\"field\", \"group\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'v-v-factory', template: \"<form \\r\\n    autocomplete=\\\"off\\\"\\r\\n    [formGroup]=\\\"form\\\"\\r\\n    (submit)=\\\"onSubmit($event)\\\"\\r\\n>\\r\\n    <ng-container *ngFor=\\\"let item of formConfig$ | async\\\">    \\r\\n            \\r\\n        <ng-container [ngSwitch]=\\\"item.getName()\\\">        \\r\\n            <ng-container *ngSwitchCase=\\\"'vcontent'\\\">\\r\\n                <ng-content></ng-content>           \\r\\n            </ng-container>\\r\\n            \\r\\n            <ng-container *ngSwitchDefault\\r\\n                appVField \\r\\n                [field]=\\\"item\\\" \\r\\n                [group]=\\\"form\\\"            \\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>   \\r\\n    </ng-container>\\r\\n</form>\\r\\n\", styles: [\"::ng-deep .column{display:flex;flex-direction:column;justify-content:space-between}::ng-deep .row{display:flex;justify-content:space-between}::ng-deep .hidden{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: VFactoryService }]; }, propDecorators: { formConfig: [{\r\n                type: Input\r\n            }], form: [{\r\n                type: Input\r\n            }], submit: [{\r\n                type: Output\r\n            }] } });\n\nclass VFieldModule {\r\n}\r\nVFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldModule, declarations: [VFieldDirective], exports: [VFieldDirective] });\r\nVFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VFieldDirective],\r\n                    exports: [VFieldDirective]\r\n                }]\r\n        }] });\n\nclass VBoxModule {\r\n}\r\nVBoxModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVBoxModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxModule, declarations: [VBoxComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule], exports: [VBoxComponent] });\r\nVBoxModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            FormsModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VBoxComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        FormsModule\r\n                    ],\r\n                    exports: [VBoxComponent]\r\n                }]\r\n        }] });\n\nclass VButtonModule {\r\n}\r\nVButtonModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVButtonModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonModule, declarations: [VButtonComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatButtonModule,\r\n        MatTooltipModule,\r\n        MatIconModule] });\r\nVButtonModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatButtonModule,\r\n            MatTooltipModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VButtonComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass TrimModule {\r\n}\r\nTrimModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nTrimModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimModule, declarations: [TrimDirective], exports: [TrimDirective] });\r\nTrimModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [TrimDirective],\r\n                    exports: [TrimDirective]\r\n                }]\r\n        }] });\n\nclass VInputFieldModule {\r\n}\r\nVInputFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVInputFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldModule, declarations: [VInputFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        TrimModule,\r\n        MatButtonModule] });\r\nVInputFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            MatIconModule,\r\n            TrimModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VInputFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        MatIconModule,\r\n                        TrimModule,\r\n                        MatButtonModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VSelectFieldModule {\r\n}\r\nVSelectFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVSelectFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldModule, declarations: [VSelectFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatSelectModule,\r\n        MatIconModule] });\r\nVSelectFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatSelectModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VSelectFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatSelectModule,\r\n                        MatIconModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VTextFieldModule {\r\n}\r\nVTextFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVTextFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldModule, declarations: [VTextFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        TextFieldModule,\r\n        TrimModule] });\r\nVTextFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            TextFieldModule,\r\n            TrimModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VTextFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        TextFieldModule,\r\n                        TrimModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VAutocompleteFieldModule {\r\n}\r\nVAutocompleteFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVAutocompleteFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldModule, declarations: [VAutocompleteFieldComponent], imports: [CommonModule,\r\n        MatAutocompleteModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule] });\r\nVAutocompleteFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldModule, imports: [[\r\n            CommonModule,\r\n            MatAutocompleteModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VAutocompleteFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatAutocompleteModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VCheckboxFieldModule {\r\n}\r\nVCheckboxFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVCheckboxFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldModule, declarations: [VCheckboxFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatCheckboxModule] });\r\nVCheckboxFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatCheckboxModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VCheckboxFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatCheckboxModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VDatepickerFieldModule {\r\n}\r\nVDatepickerFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVDatepickerFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldModule, declarations: [VDatepickerFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatNativeDateModule,\r\n        MatDatepickerModule,\r\n        MatInputModule] });\r\nVDatepickerFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldModule, providers: [MatNativeDateModule], imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatNativeDateModule,\r\n            MatDatepickerModule,\r\n            MatInputModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VDatepickerFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatNativeDateModule,\r\n                        MatDatepickerModule,\r\n                        MatInputModule\r\n                    ],\r\n                    providers: [MatNativeDateModule]\r\n                }]\r\n        }] });\n\nclass VImageModule {\r\n}\r\nVImageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVImageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageModule, declarations: [VImageComponent], imports: [CommonModule], exports: [VImageComponent] });\r\nVImageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VImageComponent],\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [VImageComponent]\r\n                }]\r\n        }] });\n\nclass MaskModule {\r\n}\r\nMaskModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nMaskModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskModule, declarations: [MaskDirective], exports: [MaskDirective] });\r\nMaskModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [MaskDirective],\r\n                    exports: [MaskDirective]\r\n                }]\r\n        }] });\n\nclass VMaskedFieldModule {\r\n}\r\nVMaskedFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVMaskedFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldModule, declarations: [VMaskedFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        MaskModule,\r\n        MatButtonModule] });\r\nVMaskedFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            MatIconModule,\r\n            MaskModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VMaskedFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        MatIconModule,\r\n                        MaskModule,\r\n                        MatButtonModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VNumberFieldModule {\r\n}\r\nVNumberFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVNumberFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldModule, declarations: [VNumberFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        MatButtonModule] });\r\nVNumberFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            MatIconModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VNumberFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        MatIconModule,\r\n                        MatButtonModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VRadioFieldModule {\r\n}\r\nVRadioFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVRadioFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldModule, declarations: [VRadioFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatRadioModule] });\r\nVRadioFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatRadioModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VRadioFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatRadioModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VSlideToggleFieldModule {\r\n}\r\nVSlideToggleFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVSlideToggleFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldModule, declarations: [VSlideToggleFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatSlideToggleModule] });\r\nVSlideToggleFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatSlideToggleModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VSlideToggleFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatSlideToggleModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VSliderFieldModule {\r\n}\r\nVSliderFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVSliderFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldModule, declarations: [VSliderFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatSliderModule] });\r\nVSliderFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatSliderModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VSliderFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatSliderModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VAccordionModule {\r\n}\r\nVAccordionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVAccordionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionModule, declarations: [VAccordionComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        MatExpansionModule,\r\n        MatIconModule,\r\n        MatButtonModule,\r\n        MatTooltipModule], exports: [VAccordionComponent] });\r\nVAccordionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            FormsModule,\r\n            MatExpansionModule,\r\n            MatIconModule,\r\n            MatButtonModule,\r\n            MatTooltipModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VAccordionComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        FormsModule,\r\n                        MatExpansionModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule\r\n                    ],\r\n                    exports: [VAccordionComponent]\r\n                }]\r\n        }] });\n\nclass VLabelModule {\r\n}\r\nVLabelModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVLabelModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelModule, declarations: [VLabelComponent], imports: [CommonModule,\r\n        MatTooltipModule,\r\n        MatIconModule], exports: [VLabelComponent] });\r\nVLabelModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelModule, imports: [[\r\n            CommonModule,\r\n            MatTooltipModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VLabelComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule\r\n                    ],\r\n                    exports: [VLabelComponent]\r\n                }]\r\n        }] });\n\nclass VChipsModule {\r\n}\r\nVChipsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVChipsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsModule, declarations: [VChipsComponent], imports: [CommonModule,\r\n        MatChipsModule,\r\n        MatIconModule], exports: [VChipsComponent] });\r\nVChipsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsModule, imports: [[\r\n            CommonModule,\r\n            MatChipsModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VChipsComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatChipsModule,\r\n                        MatIconModule\r\n                    ],\r\n                    exports: [VChipsComponent]\r\n                }]\r\n        }] });\n\nclass VDragDropListModule {\r\n}\r\nVDragDropListModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVDragDropListModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListModule, declarations: [VDragDropListComponent], imports: [CommonModule,\r\n        DragDropModule,\r\n        ReactiveFormsModule,\r\n        MatCardModule,\r\n        MatDividerModule,\r\n        RouterModule,\r\n        MatIconModule,\r\n        MatButtonModule], exports: [VDragDropListComponent] });\r\nVDragDropListModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListModule, imports: [[\r\n            CommonModule,\r\n            DragDropModule,\r\n            ReactiveFormsModule,\r\n            MatCardModule,\r\n            MatDividerModule,\r\n            RouterModule,\r\n            MatIconModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VDragDropListComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        DragDropModule,\r\n                        ReactiveFormsModule,\r\n                        MatCardModule,\r\n                        MatDividerModule,\r\n                        RouterModule,\r\n                        MatIconModule,\r\n                        MatButtonModule\r\n                    ],\r\n                    exports: [VDragDropListComponent]\r\n                }]\r\n        }] });\n\nclass VColorFieldModule {\r\n}\r\nVColorFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVColorFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldModule, declarations: [VColorFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule], exports: [VColorFieldComponent] });\r\nVColorFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VColorFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        MatIconModule\r\n                    ],\r\n                    exports: [VColorFieldComponent]\r\n                }]\r\n        }] });\n\nclass ToolbarBtnModule {\r\n}\r\nToolbarBtnModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nToolbarBtnModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnModule, declarations: [ToolbarBtnComponent], imports: [CommonModule,\r\n        MatButtonModule], exports: [ToolbarBtnComponent] });\r\nToolbarBtnModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnModule, imports: [[\r\n            CommonModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ToolbarBtnComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatButtonModule\r\n                    ],\r\n                    exports: [ToolbarBtnComponent]\r\n                }]\r\n        }] });\n\nclass ToolbarSelectModule {\r\n}\r\nToolbarSelectModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nToolbarSelectModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectModule, declarations: [ToolbarSelectComponent], imports: [CommonModule,\r\n        MatButtonModule], exports: [ToolbarSelectComponent] });\r\nToolbarSelectModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectModule, imports: [[\r\n            CommonModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ToolbarSelectComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatButtonModule\r\n                    ],\r\n                    exports: [ToolbarSelectComponent]\r\n                }]\r\n        }] });\n\nclass ToolbarColorModule {\r\n}\r\nToolbarColorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nToolbarColorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorModule, declarations: [ToolbarColorComponent], imports: [CommonModule], exports: [ToolbarColorComponent] });\r\nToolbarColorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ToolbarColorComponent],\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [ToolbarColorComponent]\r\n                }]\r\n        }] });\n\nclass ToolbarModule {\r\n}\r\nToolbarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nToolbarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarModule, declarations: [ToolbarComponent], imports: [CommonModule,\r\n        ToolbarBtnModule,\r\n        ToolbarSelectModule,\r\n        ToolbarColorModule], exports: [ToolbarComponent] });\r\nToolbarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarModule, imports: [[\r\n            CommonModule,\r\n            ToolbarBtnModule,\r\n            ToolbarSelectModule,\r\n            ToolbarColorModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ToolbarComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ToolbarBtnModule,\r\n                        ToolbarSelectModule,\r\n                        ToolbarColorModule\r\n                    ],\r\n                    exports: [ToolbarComponent]\r\n                }]\r\n        }] });\n\nclass ContenteditableModule {\r\n}\r\nContenteditableModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nContenteditableModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableModule, declarations: [ContenteditableValueAccessor], exports: [ContenteditableValueAccessor] });\r\nContenteditableModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ContenteditableValueAccessor],\r\n                    exports: [ContenteditableValueAccessor]\r\n                }]\r\n        }] });\n\nclass VEditorFieldModule {\r\n}\r\nVEditorFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVEditorFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldModule, declarations: [VEditorFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatFormFieldModule,\r\n        MatInputModule,\r\n        MatButtonModule,\r\n        MatTooltipModule,\r\n        MatIconModule,\r\n        ToolbarModule,\r\n        ContenteditableModule] });\r\nVEditorFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldModule, providers: [VEditorService], imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatFormFieldModule,\r\n            MatInputModule,\r\n            MatButtonModule,\r\n            MatTooltipModule,\r\n            MatIconModule,\r\n            ToolbarModule,\r\n            ContenteditableModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VEditorFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule,\r\n                        ToolbarModule,\r\n                        ContenteditableModule\r\n                    ],\r\n                    providers: [VEditorService]\r\n                }]\r\n        }] });\n\nclass VFileFieldModule {\r\n}\r\nVFileFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVFileFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldModule, declarations: [VFileFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule] });\r\nVFileFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VFileFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VDividerModule {\r\n}\r\nVDividerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVDividerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerModule, declarations: [VDividerComponent], imports: [CommonModule,\r\n        MatDividerModule], exports: [VDividerComponent] });\r\nVDividerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerModule, imports: [[\r\n            CommonModule,\r\n            MatDividerModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VDividerComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatDividerModule\r\n                    ],\r\n                    exports: [VDividerComponent]\r\n                }]\r\n        }] });\n\nclass VListModule {\r\n}\r\nVListModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVListModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListModule, declarations: [VListComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatTooltipModule,\r\n        MatIconModule,\r\n        MatListModule], exports: [VListComponent] });\r\nVListModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatTooltipModule,\r\n            MatIconModule,\r\n            MatListModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VListComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule,\r\n                        MatListModule\r\n                    ],\r\n                    exports: [VListComponent]\r\n                }]\r\n        }] });\n\n/*\r\nOriginal library: ngx-image-cropper\r\nOriginal module author: Martijn Willekens\r\nOriginal repository: https://github.com/Mawi137/ngx-image-cropper.git\r\nOriginal homepage: https://github.com/Mawi137/ngx-image-cropper\r\n*/\r\nclass ImageCropperModule {\r\n}\r\nImageCropperModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nImageCropperModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperModule, declarations: [ImageCropperComponent], imports: [CommonModule], exports: [ImageCropperComponent] });\r\nImageCropperModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    declarations: [\r\n                        ImageCropperComponent\r\n                    ],\r\n                    exports: [\r\n                        ImageCropperComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VImageFieldModule {\r\n}\r\nVImageFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVImageFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldModule, declarations: [VImageFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        ImageCropperModule,\r\n        MatCardModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatDividerModule,\r\n        MatTooltipModule] });\r\nVImageFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            ImageCropperModule,\r\n            MatCardModule,\r\n            MatButtonModule,\r\n            MatIconModule,\r\n            MatDividerModule,\r\n            MatTooltipModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VImageFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        ImageCropperModule,\r\n                        MatCardModule,\r\n                        MatButtonModule,\r\n                        MatIconModule,\r\n                        MatDividerModule,\r\n                        MatTooltipModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VChipsFieldModule {\r\n}\r\nVChipsFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVChipsFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldModule, declarations: [VChipsFieldComponent], imports: [CommonModule,\r\n        MatChipsModule,\r\n        MatIconModule,\r\n        ReactiveFormsModule,\r\n        MatAutocompleteModule,\r\n        MatInputModule], exports: [VChipsFieldComponent] });\r\nVChipsFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldModule, imports: [[\r\n            CommonModule,\r\n            MatChipsModule,\r\n            MatIconModule,\r\n            ReactiveFormsModule,\r\n            MatAutocompleteModule,\r\n            MatInputModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [\r\n                        VChipsFieldComponent\r\n                    ],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatChipsModule,\r\n                        MatIconModule,\r\n                        ReactiveFormsModule,\r\n                        MatAutocompleteModule,\r\n                        MatInputModule\r\n                    ],\r\n                    exports: [\r\n                        VChipsFieldComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VComponentsModule {\r\n}\r\nVComponentsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VComponentsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVComponentsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VComponentsModule, imports: [VBoxModule,\r\n        VButtonModule,\r\n        VInputFieldModule,\r\n        VSelectFieldModule,\r\n        VTextFieldModule,\r\n        VAutocompleteFieldModule,\r\n        VCheckboxFieldModule,\r\n        VDatepickerFieldModule,\r\n        VImageModule,\r\n        VMaskedFieldModule,\r\n        VNumberFieldModule,\r\n        VRadioFieldModule,\r\n        VSlideToggleFieldModule,\r\n        VSliderFieldModule,\r\n        VAccordionModule,\r\n        VLabelModule,\r\n        VChipsModule,\r\n        VDragDropListModule,\r\n        VColorFieldModule,\r\n        VEditorFieldModule,\r\n        VFileFieldModule,\r\n        VDividerModule,\r\n        VListModule,\r\n        VImageFieldModule,\r\n        VChipsFieldModule], exports: [VBoxModule,\r\n        VButtonModule,\r\n        VInputFieldModule,\r\n        VSelectFieldModule,\r\n        VTextFieldModule,\r\n        VAutocompleteFieldModule,\r\n        VCheckboxFieldModule,\r\n        VDatepickerFieldModule,\r\n        VImageModule,\r\n        VMaskedFieldModule,\r\n        VNumberFieldModule,\r\n        VRadioFieldModule,\r\n        VSlideToggleFieldModule,\r\n        VSliderFieldModule,\r\n        VAccordionModule,\r\n        VLabelModule,\r\n        VChipsModule,\r\n        VDragDropListModule,\r\n        VColorFieldModule,\r\n        VEditorFieldModule,\r\n        VFileFieldModule,\r\n        VDividerModule,\r\n        VListModule,\r\n        VImageFieldModule,\r\n        VChipsFieldModule] });\r\nVComponentsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VComponentsModule, imports: [[\r\n            VBoxModule,\r\n            VButtonModule,\r\n            VInputFieldModule,\r\n            VSelectFieldModule,\r\n            VTextFieldModule,\r\n            VAutocompleteFieldModule,\r\n            VCheckboxFieldModule,\r\n            VDatepickerFieldModule,\r\n            VImageModule,\r\n            VMaskedFieldModule,\r\n            VNumberFieldModule,\r\n            VRadioFieldModule,\r\n            VSlideToggleFieldModule,\r\n            VSliderFieldModule,\r\n            VAccordionModule,\r\n            VLabelModule,\r\n            VChipsModule,\r\n            VDragDropListModule,\r\n            VColorFieldModule,\r\n            VEditorFieldModule,\r\n            VFileFieldModule,\r\n            VDividerModule,\r\n            VListModule,\r\n            VImageFieldModule,\r\n            VChipsFieldModule\r\n        ], VBoxModule,\r\n        VButtonModule,\r\n        VInputFieldModule,\r\n        VSelectFieldModule,\r\n        VTextFieldModule,\r\n        VAutocompleteFieldModule,\r\n        VCheckboxFieldModule,\r\n        VDatepickerFieldModule,\r\n        VImageModule,\r\n        VMaskedFieldModule,\r\n        VNumberFieldModule,\r\n        VRadioFieldModule,\r\n        VSlideToggleFieldModule,\r\n        VSliderFieldModule,\r\n        VAccordionModule,\r\n        VLabelModule,\r\n        VChipsModule,\r\n        VDragDropListModule,\r\n        VColorFieldModule,\r\n        VEditorFieldModule,\r\n        VFileFieldModule,\r\n        VDividerModule,\r\n        VListModule,\r\n        VImageFieldModule,\r\n        VChipsFieldModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VComponentsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        VBoxModule,\r\n                        VButtonModule,\r\n                        VInputFieldModule,\r\n                        VSelectFieldModule,\r\n                        VTextFieldModule,\r\n                        VAutocompleteFieldModule,\r\n                        VCheckboxFieldModule,\r\n                        VDatepickerFieldModule,\r\n                        VImageModule,\r\n                        VMaskedFieldModule,\r\n                        VNumberFieldModule,\r\n                        VRadioFieldModule,\r\n                        VSlideToggleFieldModule,\r\n                        VSliderFieldModule,\r\n                        VAccordionModule,\r\n                        VLabelModule,\r\n                        VChipsModule,\r\n                        VDragDropListModule,\r\n                        VColorFieldModule,\r\n                        VEditorFieldModule,\r\n                        VFileFieldModule,\r\n                        VDividerModule,\r\n                        VListModule,\r\n                        VImageFieldModule,\r\n                        VChipsFieldModule\r\n                    ],\r\n                    exports: [\r\n                        VBoxModule,\r\n                        VButtonModule,\r\n                        VInputFieldModule,\r\n                        VSelectFieldModule,\r\n                        VTextFieldModule,\r\n                        VAutocompleteFieldModule,\r\n                        VCheckboxFieldModule,\r\n                        VDatepickerFieldModule,\r\n                        VImageModule,\r\n                        VMaskedFieldModule,\r\n                        VNumberFieldModule,\r\n                        VRadioFieldModule,\r\n                        VSlideToggleFieldModule,\r\n                        VSliderFieldModule,\r\n                        VAccordionModule,\r\n                        VLabelModule,\r\n                        VChipsModule,\r\n                        VDragDropListModule,\r\n                        VColorFieldModule,\r\n                        VEditorFieldModule,\r\n                        VFileFieldModule,\r\n                        VDividerModule,\r\n                        VListModule,\r\n                        VImageFieldModule,\r\n                        VChipsFieldModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VFactoryModule {\r\n}\r\nVFactoryModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVFactoryModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryModule, declarations: [VFactoryComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        VFieldModule,\r\n        VComponentsModule], exports: [VFactoryComponent] });\r\nVFactoryModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryModule, providers: [VFactoryService], imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            FormsModule,\r\n            VFieldModule,\r\n            VComponentsModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VFactoryComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        FormsModule,\r\n                        VFieldModule,\r\n                        VComponentsModule\r\n                    ],\r\n                    providers: [VFactoryService],\r\n                    exports: [VFactoryComponent]\r\n                }]\r\n        }] });\n\n/*\r\n * Public API Surface of v-factory\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { VAccordion, VAutocompleteField, VBox, VButton, VCheckboxField, VChips, VChipsField, VColorField, VContent, VDatepickerField, VDivider, VDragDropList, VEditorField, VFactoryComponent, VFactoryModule, VFactoryService, VField, VFileField, VImage, VImageField, VInputField, VItem, VLabel, VList, VMaskedField, VNumberField, VRadioField, VSelectField, VSlideToggleField, VSliderField, VTextField };\n//# sourceMappingURL=farawayslv-v-factory.mjs.map\n","map":{"version":3,"file":"farawayslv-v-factory.mjs","sources":["../../../projects/v-factory/src/lib/models/v-item.model.ts","../../../projects/v-factory/src/lib/utils/file-ext.validator.ts","../../../projects/v-factory/src/lib/utils/file-size.validator.ts","../../../projects/v-factory/src/lib/models/v-field.model.ts","../../../projects/v-factory/src/lib/models/v-box.model.ts","../../../projects/v-factory/src/lib/models/v-button.model.ts","../../../projects/v-factory/src/lib/models/v-input-field.model.ts","../../../projects/v-factory/src/lib/models/v-select-field.model.ts","../../../projects/v-factory/src/lib/models/v-text-field.model.ts","../../../projects/v-factory/src/lib/models/v-autocomplete-field.model.ts","../../../projects/v-factory/src/lib/models/v-checkbox-field.model.ts","../../../projects/v-factory/src/lib/models/v-datepicker-field.model.ts","../../../projects/v-factory/src/lib/models/v-masked-field.model.ts","../../../projects/v-factory/src/lib/models/v-number-field.model.ts","../../../projects/v-factory/src/lib/models/v-radio-field.model.ts","../../../projects/v-factory/src/lib/models/v-slide-toggle-field.model.ts","../../../projects/v-factory/src/lib/models/v-slider-field.model.ts","../../../projects/v-factory/src/lib/models/v-image.model.ts","../../../projects/v-factory/src/lib/models/v-accordion.model.ts","../../../projects/v-factory/src/lib/models/v-label.model.ts","../../../projects/v-factory/src/lib/models/v-chips.model.ts","../../../projects/v-factory/src/lib/models/v-drag-drop-list.model.ts","../../../projects/v-factory/src/lib/models/v-color-field.model.ts","../../../projects/v-factory/src/lib/models/v-editor-field.model.ts","../../../projects/v-factory/src/lib/models/v-file-field.model.ts","../../../projects/v-factory/src/lib/models/v-divider.model.ts","../../../projects/v-factory/src/lib/models/v-list.model.ts","../../../projects/v-factory/src/lib/models/v-content.model.ts","../../../projects/v-factory/src/lib/models/v-image-field.model.ts","../../../projects/v-factory/src/lib/models/v-chips-field.model.ts","../../../projects/v-factory/src/lib/services/v-factory.service.ts","../../../projects/v-factory/src/lib/components/v-accordion/v-accordion.component.ts","../../../projects/v-factory/src/lib/components/v-accordion/v-accordion.component.html","../../../projects/v-factory/src/lib/components/v-autocomplete-field/v-autocomplete-field.component.ts","../../../projects/v-factory/src/lib/components/v-autocomplete-field/v-autocomplete-field.component.html","../../../projects/v-factory/src/lib/components/v-box/v-box.component.ts","../../../projects/v-factory/src/lib/components/v-box/v-box.component.html","../../../projects/v-factory/src/lib/components/v-button/v-button.component.ts","../../../projects/v-factory/src/lib/components/v-button/v-button.component.html","../../../projects/v-factory/src/lib/components/v-checkbox-field/v-checkbox-field.component.ts","../../../projects/v-factory/src/lib/components/v-checkbox-field/v-checkbox-field.component.html","../../../projects/v-factory/src/lib/components/v-chips-field/v-chips-field.component.ts","../../../projects/v-factory/src/lib/components/v-chips-field/v-chips-field.component.html","../../../projects/v-factory/src/lib/components/v-chips/v-chips.component.ts","../../../projects/v-factory/src/lib/components/v-chips/v-chips.component.html","../../../projects/v-factory/src/lib/components/v-color-field/v-color-field.component.ts","../../../projects/v-factory/src/lib/components/v-color-field/v-color-field.component.html","../../../projects/v-factory/src/lib/components/v-datepicker-field/v-datepicker-field.component.ts","../../../projects/v-factory/src/lib/components/v-datepicker-field/v-datepicker-field.component.html","../../../projects/v-factory/src/lib/components/v-divider/v-divider.component.ts","../../../projects/v-factory/src/lib/components/v-divider/v-divider.component.html","../../../projects/v-factory/src/lib/components/v-drag-drop-list/v-drag-drop-list.component.ts","../../../projects/v-factory/src/lib/components/v-drag-drop-list/v-drag-drop-list.component.html","../../../projects/v-factory/src/lib/components/v-editor-field/v-editor.service.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-btn/toolbar-btn.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-btn/toolbar-btn.component.html","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-select/toolbar-select.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-select/toolbar-select.component.html","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-color/toolbar-color.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-color/toolbar-color.component.html","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar.component.html","../../../projects/v-factory/src/lib/directives/contenteditable/contenteditable.directive.ts","../../../projects/v-factory/src/lib/components/v-editor-field/v-editor-field.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/v-editor-field.component.html","../../../projects/v-factory/src/lib/components/v-file-field/v-file-field.component.ts","../../../projects/v-factory/src/lib/components/v-file-field/v-file-field.component.html","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/interfaces/move-start.interface.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/interfaces/cropper.settings.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/utils/keyboard.utils.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/utils/resize.utils.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/services/crop.service.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/services/cropper-position.service.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/utils/exif.utils.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/services/load-image.service.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/component/image-cropper.component.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/component/image-cropper.component.html","../../../projects/v-factory/src/lib/components/v-image-field/v-image-field.component.ts","../../../projects/v-factory/src/lib/components/v-image-field/v-image-field.component.html","../../../projects/v-factory/src/lib/components/v-image/v-image.component.ts","../../../projects/v-factory/src/lib/components/v-image/v-image.component.html","../../../projects/v-factory/src/lib/directives/trim/trim.directive.ts","../../../projects/v-factory/src/lib/components/v-input-field/v-input-field.component.ts","../../../projects/v-factory/src/lib/components/v-input-field/v-input-field.component.html","../../../projects/v-factory/src/lib/components/v-label/v-label.component.ts","../../../projects/v-factory/src/lib/components/v-label/v-label.component.html","../../../projects/v-factory/src/lib/components/v-list/v-list.component.ts","../../../projects/v-factory/src/lib/components/v-list/v-list.component.html","../../../projects/v-factory/src/lib/directives/mask/mask.directive.ts","../../../projects/v-factory/src/lib/components/v-masked-field/v-masked-field.component.ts","../../../projects/v-factory/src/lib/components/v-masked-field/v-masked-field.component.html","../../../projects/v-factory/src/lib/components/v-number-field/v-number-field.component.ts","../../../projects/v-factory/src/lib/components/v-number-field/v-number-field.component.html","../../../projects/v-factory/src/lib/components/v-radio-field/v-radio-field.component.ts","../../../projects/v-factory/src/lib/components/v-radio-field/v-radio-field.component.html","../../../projects/v-factory/src/lib/components/v-select-field/v-select-field.component.ts","../../../projects/v-factory/src/lib/components/v-select-field/v-select-field.component.html","../../../projects/v-factory/src/lib/components/v-slide-toggle-field/v-slide-toggle-field.component.ts","../../../projects/v-factory/src/lib/components/v-slide-toggle-field/v-slide-toggle-field.component.html","../../../projects/v-factory/src/lib/components/v-slider-field/v-slider-field.component.ts","../../../projects/v-factory/src/lib/components/v-slider-field/v-slider-field.component.html","../../../projects/v-factory/src/lib/components/v-text-field/v-text-field.component.ts","../../../projects/v-factory/src/lib/components/v-text-field/v-text-field.component.html","../../../projects/v-factory/src/lib/directives/v-field/v-field.directive.ts","../../../projects/v-factory/src/lib/v-factory.component.ts","../../../projects/v-factory/src/lib/v-factory.component.html","../../../projects/v-factory/src/lib/directives/v-field/v-field.module.ts","../../../projects/v-factory/src/lib/components/v-box/v-box.module.ts","../../../projects/v-factory/src/lib/components/v-button/v-button.module.ts","../../../projects/v-factory/src/lib/directives/trim/trim.module.ts","../../../projects/v-factory/src/lib/components/v-input-field/v-input-field.module.ts","../../../projects/v-factory/src/lib/components/v-select-field/v-select-field.module.ts","../../../projects/v-factory/src/lib/components/v-text-field/v-text-field.module.ts","../../../projects/v-factory/src/lib/components/v-autocomplete-field/v-autocomplete-field.module.ts","../../../projects/v-factory/src/lib/components/v-checkbox-field/v-checkbox-field.module.ts","../../../projects/v-factory/src/lib/components/v-datepicker-field/v-datepicker-field.module.ts","../../../projects/v-factory/src/lib/components/v-image/v-image.module.ts","../../../projects/v-factory/src/lib/directives/mask/mask.module.ts","../../../projects/v-factory/src/lib/components/v-masked-field/v-masked-field.module.ts","../../../projects/v-factory/src/lib/components/v-number-field/v-number-field.module.ts","../../../projects/v-factory/src/lib/components/v-radio-field/v-radio-field.module.ts","../../../projects/v-factory/src/lib/components/v-slide-toggle-field/v-slide-toggle-field.module.ts","../../../projects/v-factory/src/lib/components/v-slider-field/v-slider-field.module.ts","../../../projects/v-factory/src/lib/components/v-accordion/v-accordion.module.ts","../../../projects/v-factory/src/lib/components/v-label/v-label.module.ts","../../../projects/v-factory/src/lib/components/v-chips/v-chips.module.ts","../../../projects/v-factory/src/lib/components/v-drag-drop-list/v-drag-drop-list.module.ts","../../../projects/v-factory/src/lib/components/v-color-field/v-color-field.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-btn/toolbar-btn.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-select/toolbar-select.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-color/toolbar-color.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar.module.ts","../../../projects/v-factory/src/lib/directives/contenteditable/contenteditable.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/v-editor-field.module.ts","../../../projects/v-factory/src/lib/components/v-file-field/v-file-field.module.ts","../../../projects/v-factory/src/lib/components/v-divider/v-divider.module.ts","../../../projects/v-factory/src/lib/components/v-list/v-list.module.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/image-cropper.module.ts","../../../projects/v-factory/src/lib/components/v-image-field/v-image-field.module.ts","../../../projects/v-factory/src/lib/components/v-chips-field/v-chips-field.module.ts","../../../projects/v-factory/src/lib/components/v-component.module.ts","../../../projects/v-factory/src/lib/v-factory.module.ts","../../../projects/v-factory/src/public-api.ts","../../../projects/v-factory/src/farawayslv-v-factory.ts"],"sourcesContent":["import { Style, FactoryValidator } from '../interfaces';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nexport class VItem {\r\n    protected _vtype: string;\r\n\r\n    itemId?: string | number | Symbol;\r\n    styles?: Style;\r\n    cls?:string;\r\n    validators?: FactoryValidator[];\r\n    label?: string;\r\n    hidden?: boolean;\r\n\r\n    constructor(opts: {\r\n        itemId?: string | number | Symbol,\r\n        styles?: Style,\r\n        cls?:string,\r\n        validators?: FactoryValidator[],\r\n        label?: string,\r\n        hidden?: boolean,\r\n    }) {\r\n        this._vtype = 'vitem';\r\n        this.itemId = opts['itemId'] || null;\r\n        this.styles = opts['styles'] || null;\r\n        this.validators = opts['validators'] || [];\r\n        this.label = opts['label'] || null;\r\n        if(opts['cls']) {\r\n            this.cls = opts['cls'] ? this.cls ? `${this.cls} ${opts['cls']}` : opts['cls'] : '';\r\n        }\r\n\r\n        if(opts['hidden']) {\r\n            this.cls += ' hidden';\r\n        }\r\n    }\r\n\r\n    getName(): string {\r\n        return this._vtype;\r\n    }\r\n\r\n    getConfig(key: string): any {\r\n        return this[key];\r\n    }\r\n\r\n    setConfig(key: string, value: any): void {\r\n        this[key] = value;\r\n    }\r\n\r\n    createControl(group: FormGroup): void {}\r\n\r\n    removeControl(group: FormGroup): void {}\r\n}\r\n","import { FormControl } from '@angular/forms';\r\n\r\nexport const validateFileExt = (control: FormControl, extentions: string[]) => {\r\n  if(control.value) {\r\n    const ext = control.value?.name?.split('.').pop();\r\n    return extentions.indexOf(ext) === -1 ? { fileExt: true } : null;\r\n  }\r\n  return null;\r\n}\r\n","import { FormControl } from '@angular/forms';\r\n\r\nexport const validateFileSize = (control: FormControl, size: number) => {\r\n  if(control.value) {\r\n    return control.value.size > size ? { fileSize: true } : null;\r\n  }\r\n  return null;\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style, FactoryValidator, ValidatorMessage } from '../interfaces';\r\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\r\nimport { validateFileExt } from \"../utils/file-ext.validator\";\r\nimport { validateFileSize } from \"../utils/file-size.validator\";\r\n\r\nexport class VField<T> extends VItem {\r\n\r\n    private validatorMessages: ValidatorMessage[] = [];\r\n\r\n    name: string;\r\n    label?: string;\r\n    value?: T;\r\n    disabled?: boolean;\r\n    readonly?: boolean;\r\n    clearButton?: boolean;\r\n    actionButton?: boolean;\r\n    actionHandler?: Function;\r\n    validators?: FactoryValidator[];\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        value?: T,\r\n        disabled?: boolean,\r\n        readonly?: boolean,\r\n        clearButton?: boolean,\r\n        actionHandler?: Function,\r\n        actionButton?: boolean,\r\n        validators?: FactoryValidator[],\r\n        styles?: Style,\r\n        cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vfield';\r\n        this.name = opts['name'] || '';\r\n        this.label = opts['label'] || null;\r\n        this.value = opts['value'] || null;\r\n        this.disabled = opts['disabled'] || false;\r\n        this.readonly = opts['readonly'] || false;\r\n        this.clearButton = opts['clearButton'] || false;\r\n        this.actionButton = opts['actionButton'] || false;\r\n        this.validators = opts['validators'] || [];\r\n        this.actionHandler = opts['actionHandler'] || function(){};\r\n    }\r\n\r\n    createControl(group: FormGroup): void {\r\n        if(!group.get(this.name)) {\r\n            const control = new FormControl(\r\n                this.value,\r\n                this._bindValidations()\r\n              );\r\n            if(this.disabled) {\r\n              control.disable();\r\n            }\r\n            group.addControl(this.name, control);\r\n        }\r\n    }\r\n\r\n    private _bindValidations(): Validators | null {\r\n        if (this.validators.length > 0) {\r\n            const validations = [];\r\n            this.validators.map(item => {\r\n                const validatorCfg = this._getValidatorConfig(item);\r\n                const { name, validator, message } = validatorCfg;\r\n                validations.push(validator);\r\n                this.validatorMessages.push({ name, message });\r\n            })\r\n\r\n            return Validators.compose(validations);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private _getValidatorConfig(item: FactoryValidator): { name: string, validator: any, message: string } {\r\n        const vMap = new Map(Object.entries(item));\r\n        const result = { name: null, validator: null, message: '' };\r\n\r\n        vMap.forEach((v: any, k: string) => {\r\n            switch (k) {\r\n                case 'message':\r\n                    result.message = v;\r\n                    break;\r\n                case 'validator':\r\n                    result.validator = v;\r\n                    break;\r\n                default:\r\n                    result.name = k;\r\n                    if(!result.validator) {\r\n                        result.validator = this._getValidatorByName(k,v);\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n\r\n    getValMessage() {\r\n        return this.validatorMessages;\r\n    }\r\n\r\n    removeControl(group: FormGroup): void {\r\n        group.removeControl(this.name);\r\n    }\r\n\r\n    private _getValidatorByName(name: string, value?: number | string | string[]): any {\r\n        switch (name) {\r\n            case 'required':\r\n                return Validators.required;\r\n            case 'email':\r\n                return Validators.email;\r\n            case 'minlength':\r\n                return Validators.minLength(value? +value : 3)\r\n            case 'maxlength':\r\n                return Validators.maxLength(value? +value : 100)\r\n            case 'min':\r\n                return Validators.min(value? +value : 1)\r\n            case 'max':\r\n                return Validators.max(value? +value : 100)\r\n            case 'pattern':\r\n                return Validators.pattern(value? new RegExp(`${value}`) : '');\r\n            case 'fileExt':\r\n                return (control: FormControl) => validateFileExt(control, value as string[]);\r\n            case 'fileSize':\r\n                return (control: FormControl) => validateFileSize(control, +value);\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\nimport { FormGroup, FormArray, ValidatorFn, AbstractControlOptions } from '@angular/forms';\r\n\r\nexport class VBox extends VItem {\r\n    name?: string;\r\n    items: VItem[];\r\n    formMode?: 'array' | 'group';\r\n    layout?: 'row' | 'column' | '';\r\n    groupValidators?: ValidatorFn | AbstractControlOptions | ValidatorFn[];\r\n\r\n  constructor(opts: {\r\n      items: any[],\r\n      name?: string,\r\n      label?: string;\r\n      layout?: 'row' | 'column',\r\n      formMode?: 'array' | 'group',\r\n      itemId?: string | number | Symbol,\r\n      styles?: Style,\r\n      cls?:string,\r\n      hidden?: boolean,\r\n      groupValidators?: ValidatorFn | AbstractControlOptions | ValidatorFn[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vbox';\r\n        this.items = opts['items'] || [];\r\n        this.layout = opts['layout'] || '';\r\n        this.formMode = opts['formMode'] || 'array';\r\n        this.name = opts['name'] || null;\r\n        this.groupValidators = opts['groupValidators'] || null;\r\n        if(this.layout !== '') {\r\n            this.cls = this.cls ? `${this.cls} ${this.layout}` : this.layout;\r\n        }\r\n    }\r\n\r\n    createControl(group: FormGroup): void {\r\n        if(this.name) {\r\n            const control = group.get(this.name);\r\n            if(control) {\r\n                group.removeControl(this.name);\r\n            }\r\n            \r\n            if(this.formMode === 'group') {\r\n              const fg = new FormGroup({});\r\n              group.addControl(this.name, fg);\r\n              this.items.forEach(item => {\r\n                  item.createControl(fg);\r\n              });\r\n            } else {\r\n              const fa = new FormArray([], this.groupValidators);\r\n              group.addControl(this.name, fa);\r\n              this.items.forEach(item => {\r\n                  const fg = new FormGroup({});\r\n                  fa.push(fg);\r\n                  item.createControl(fg);\r\n              });\r\n            }\r\n        } else {\r\n            this.items.forEach(item => item.createControl(group));\r\n        }\r\n    }\r\n\r\n    removeItems(group: FormGroup): void {\r\n        this.items.forEach(item => item.removeControl(group));\r\n        this.items = [];\r\n    }\r\n\r\n    findByKey(key: string, value: string, items = this.items): VItem {\r\n        let result;\r\n        for (let i = 0; i < items.length; i++) {\r\n            if(items[i].getConfig(key) === value) {\r\n                result = items[i];\r\n                break;\r\n            } else if (items[i]['items']) {\r\n                this.findByKey(key, value, items[i]['items']);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\nimport { ThemePalette } from '@angular/material/core';\r\n\r\nexport class VButton extends VItem {\r\n    text?: string;\r\n    icon?: string;\r\n    handler?: Function;\r\n    type?: 'button' | 'submit' | 'reset';\r\n    styleType?: 'raised' | 'stroked' | 'flat' | 'icon' | 'fab' | 'mini-fab';\r\n    color?: ThemePalette;\r\n    disabled?: boolean;    \r\n\r\n  constructor(opts: {\r\n      text?: string,\r\n      icon?: string,\r\n      itemId?: string,\r\n      handler?: Function,\r\n      type?: 'button' | 'submit' | 'reset',\r\n      disabled?: boolean,\r\n      styleType?: 'raised' | 'stroked' | 'flat' | 'icon' | 'fab' | 'mini-fab',\r\n      color?: ThemePalette,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vbutton'; \r\n        this.text = opts['text'] || '';\r\n        this.icon = opts['icon'] || null;\r\n        this.handler = opts['handler'] || function(){};\r\n        this.type = opts['type'] || 'button';\r\n        this.styleType = opts['styleType'] || 'raised';\r\n        this.color = opts['color'] || 'accent';\r\n        this.disabled = opts['disabled'] || false;\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VInputField extends VField<string> {\r\n    type?: string;\r\n    prefix?: string;\r\n    suffix?: string;\r\n    hint?: string;\r\n    unique?: boolean;\r\n    readonly?: boolean;\r\n    placeholder?: string;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        type?: string,\r\n        label?: string,\r\n        value?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        unique?: boolean,\r\n        readonly?: boolean,\r\n        placeholder?: string,\r\n        prefix?: string,\r\n        suffix?: string,\r\n        hint?: string,\r\n        clearButton?: boolean,\r\n        actionButton?: boolean,\r\n        actionHandler?: Function,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vinputfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.unique = opts['unique'] || false;\r\n        this.readonly = opts['readonly'] || false;\r\n        this.placeholder = opts['placeholder'] || '';\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Option, FactoryValidator, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport class VSelectField extends VField<string | number> {\r\n    options: Option[] | Observable<Option[]>;\r\n    multiple?: boolean;\r\n    icons?: boolean;\r\n    hint?: string;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        options: Option[] | Observable<Option[]>,\r\n        label?: string,\r\n        value?: string | number,\r\n        multiple?: boolean,\r\n        disabled?: boolean,\r\n        hint?: string,\r\n        validators?: FactoryValidator[],\r\n        icons?: boolean,\r\n        styles?: Style,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vselectfield';\r\n        this.options = opts['options'] || [];\r\n        this.multiple = opts['multiple'] || false;\r\n        this.icons = opts['icons'] || false;\r\n        this.hint = opts['hint'] || null;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VTextField extends VField<string> {\r\n    rows?: number;\r\n    maxRows?: number;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        rows?: number,\r\n        maxRows?: number,\r\n        label?: string,\r\n        value?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        placeholder?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vtextfield';\r\n        this.rows = opts['rows'] ? opts['rows'] : 5;\r\n        this.maxRows = opts['maxRows'] && opts['maxRows'] > this.rows  ? opts['maxRows'] : this.rows;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Option, FactoryValidator, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport class VAutocompleteField extends VField<string | number> {\r\n    options: Option[] | Observable<Option[]>;\r\n    placeholder?: string;\r\n    filter?: Function;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        options: Option[] | Observable<Option[]>,\r\n        label?: string,\r\n        value?: string | number,\r\n        placeholder?: string,\r\n        validators?: FactoryValidator[],\r\n        filter?: Function,\r\n        styles?: Style,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vautocompletefield';\r\n        this.options = opts['options'] || [];\r\n        this.placeholder = opts['placeholder'] || '';\r\n        this.filter = opts['filter'] || ((x:any) => true);\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style } from '../interfaces';\r\n\r\nexport class VCheckboxField extends VField<boolean> {\r\n    labelPosition?: 'before' | 'after';\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        value?: true | false,\r\n        disabled?: boolean,      \r\n        styles?: Style,\r\n        cls?: string,\r\n        labelPosition?: 'before' | 'after'\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vcheckboxfield';\r\n        this.labelPosition = opts['labelPosition'] || 'after';\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\nimport { ThemePalette } from '@angular/material/core';\r\n\r\nexport class VDatepickerField extends VField<Date> {\r\n    color?: ThemePalette;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        value?: Date,\r\n        disabled?: boolean,\r\n        hidden?: boolean,\r\n        color?: ThemePalette,       \r\n        styles?: Style,\r\n        cls?: string,\r\n        placeholder?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vdatepickerfield';\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VMaskedField extends VField<string> {\r\n    mask: string;\r\n    type?: 'text';\r\n    prefix?: string;\r\n    suffix?: string;\r\n    hint?: string;\r\n    unique?: boolean;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        mask: string,\r\n        type?: 'text',\r\n        label?: string,\r\n        value?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        unique?: boolean,        \r\n        prefix?: string,\r\n        suffix?: string,\r\n        hint?: string,\r\n        clearButton?: boolean,\r\n        validators?: FactoryValidator[],\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vmaskedfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.unique = opts['unique'] || false;\r\n        this.mask = opts['mask'] || null;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VNumberField extends VField<number> {\r\n    type: 'number';\r\n    prefix?: string;\r\n    suffix?: string;\r\n    hint?: string;\r\n    min?: number;\r\n    max?: number;\r\n    step?: number;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        value?: number,\r\n        disabled?: boolean,\r\n        readonly?: boolean,\r\n        hidden?: boolean,\r\n        min?: number,\r\n        max?: number,\r\n        step?: number,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        validators?: FactoryValidator[],\r\n        prefix?: string,\r\n        suffix?: string,\r\n        hint?: string,\r\n        clearButton?: boolean\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vnumberfield';\r\n        this.type = 'number';\r\n        this.min = opts['min'] || 0;\r\n        this.max = opts['max'] || 99999;\r\n        this.step = opts['step'] || 1;\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n    }\r\n}\r\n","import { Option } from '../interfaces'\r\nimport { VField } from \"./v-field.model\";\r\n\r\nexport class VRadioField extends VField<string | number> {\r\n    options: Option[];\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        options: Option[],\r\n        value?: string | number,\r\n        label?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vradiofield';\r\n        this.options = opts['options'] || [];\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { ThemePalette } from '@angular/material/core';\r\n\r\nexport class VSlideToggleField extends VField<number> {\r\n    color?: ThemePalette;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        disabled?: boolean,\r\n        color?: ThemePalette\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vslidetogglefield';\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\r\n","import { Style } from \"../interfaces\";\r\nimport { VField } from \"./v-field.model\";\r\n\r\nexport class VSliderField extends VField<number> {\r\n    showTicks?: boolean;\r\n    autoTicks?: boolean;\r\n    tickInterval?: number | 'auto';\r\n    invert?: boolean;\r\n    min?: number;\r\n    max?: number;\r\n    step?: number;\r\n    thumbLabel?: boolean;\r\n    vertical?: boolean;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        disabled?: boolean,\r\n        label?: string,\r\n        value?: number,\r\n        showTicks?: boolean,\r\n        autoTicks?: boolean,\r\n        tickInterval?: number | 'auto',\r\n        invert?: boolean,\r\n        min?: number,\r\n        max?: number,\r\n        step?: number,\r\n        thumbLabel?: boolean,\r\n        vertical?: boolean,\r\n        styles?: Style,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vsliderfield';\r\n        this.showTicks = opts['showTicks'] || false;\r\n        this.autoTicks = opts['autoTicks'] || false;\r\n        this.tickInterval = opts['tickInterval'] || 'auto';\r\n        this.invert = opts['invert'] || false;\r\n        this.min = opts['min'] || 0;\r\n        this.max = opts['max'] || 100;\r\n        this.step = opts['step'] || 1;\r\n        this.thumbLabel = opts['thumbLabel'] || false;\r\n        this.vertical = opts['vertical'] || false;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\n\r\nexport class VImage extends VItem {\r\n  url?: string;\r\n  sourceField?: string;\r\n\r\n  constructor(opts: {\r\n      sourceField?: string,\r\n      url?: string,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vimage';\r\n        this.url = opts['url'] || '';\r\n        this.sourceField = opts['sourceField'] || '';\r\n    }\r\n}","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\nimport { FormGroup, FormArray } from '@angular/forms';\r\n\r\nexport class VAccordion extends VItem {\r\n    name: string;\r\n    items: VItem[];\r\n    initStep?: number;\r\n    getItemTitle?: Function;\r\n    nextHandler?: Function;\r\n    prevHandler?: Function;\r\n    removeHandler?: Function;\r\n    isDefaultHandler = false;\r\n\r\n  private _step = 0;\r\n\r\n  constructor(opts: {\r\n      items: any[],\r\n      name: string,\r\n      label?: string;\r\n      initStep?: number,\r\n      itemId?: string | number | Symbol,\r\n      getItemTitle?: Function,\r\n      nextHandler?: Function,\r\n      prevHandler?: Function,\r\n      removeHandler?: Function,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vaccordion';\r\n        this.name = opts['name'];\r\n        this.items = opts['items'] || [];\r\n\r\n        if(opts['initStep']) {\r\n            this.setStep(+opts['initStep']);\r\n        }\r\n\r\n        if(opts['getItemTitle']) {\r\n          this.getItemTitle = opts['getItemTitle']\r\n      } else {\r\n          this.getItemTitle = (idx: number) => `Step ${idx+1}`;\r\n      }\r\n\r\n        if(opts['nextHandler']) {\r\n            this.nextHandler = opts['nextHandler']\r\n        } else {\r\n            this.isDefaultHandler = true;\r\n            this.nextHandler = () => { this.nextStep(); }\r\n        }\r\n\r\n        if(opts['prevHandler']) {\r\n            this.prevHandler = opts['prevHandler']\r\n        } else {\r\n            this.isDefaultHandler = true;\r\n            this.prevHandler = () => { this.prevStep(); }\r\n        }\r\n\r\n        this.removeHandler = opts['removeHandler'] || null;\r\n    }\r\n\r\n    createControl(group: FormGroup): void {\r\n        const fa = new FormArray([]);\r\n        group.addControl(this.name, fa);\r\n        this.items.forEach(item => {\r\n            const fg = new FormGroup({});\r\n            fa.push(fg);\r\n            item.createControl(fg);\r\n        });\r\n    }\r\n\r\n    removeItems(group: FormGroup): void {\r\n        this.items.forEach(item => item.removeControl(group));\r\n        this.items = [];\r\n    }\r\n\r\n    findByKey(key: string, value: string, items = this.items): VItem {\r\n        let result;\r\n        for (let i = 0; i < items.length; i++) {\r\n            if(items[i].getConfig(key) === value) {\r\n                result = items[i];\r\n                break;\r\n            } else if (items[i]['items']) {\r\n                this.findByKey(key, value, items[i]['items']);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    getStep():number {\r\n        return this._step;\r\n    }\r\n\r\n    setStep(step: number): void {\r\n        this._step = step;\r\n    }\r\n\r\n    nextStep(): void {\r\n        this._step++;\r\n    }\r\n\r\n    prevStep(): void {\r\n        this._step--;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\nimport { ThemePalette } from '@angular/material/core';\r\n\r\nexport class VLabel extends VItem {\r\n    text?: string;\r\n    icon?: string;\r\n    color?: ThemePalette;\r\n\r\n  constructor(opts: {\r\n      text?: string,\r\n      icon?: string,\r\n      itemId?: string,\r\n      hidden?: boolean,\r\n      color?: ThemePalette,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vlabel';\r\n        this.text = opts['text'] || '';\r\n        this.icon = opts['icon'] || null;\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\r\n","import { Option, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\nimport { VItem } from \".\";\r\n\r\nexport class VChips extends VItem {\r\n    options: Option[] | Observable<Option[]>;\r\n    color?: string;\r\n\r\n    constructor(opts: {\r\n        options: Option[] | Observable<Option[]>,\r\n        label?: string,\r\n        styles?: Style,\r\n        color?: string,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vchips';\r\n        this.options = opts['options'] || [];\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}","import { VItem } from \"./v-item.model\";\r\nimport { Option, Style } from '../interfaces';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\n\r\nexport class VDragDropList extends VItem {\r\n  name: string;\r\n  options: Option[];\r\n  hidden?: boolean;\r\n  handler?: Function;\r\n  removeHandler?: Function;\r\n  showPreview?: boolean;\r\n  showAvatar?: boolean;\r\n  removable?: boolean;\r\n\r\n  constructor(opts: {\r\n      name: string,\r\n      options: any[],\r\n      label?: string,\r\n      hidden?: boolean,\r\n      showPreview?: boolean,\r\n      showAvatar?: boolean,\r\n      removable?: boolean,\r\n      handler?: Function,\r\n      removeHandler?: Function,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vdragdroplist';\r\n        this.options = opts['options'] || [];\r\n        this.name = opts['name'] || '';\r\n        this.hidden = opts['hidden'] || false;\r\n        this.showPreview = opts['showPreview'] || false;\r\n        this.showAvatar = opts['showAvatar'] || false;\r\n        this.removable = opts['removable'] || false;\r\n        this.handler = opts['handler'] || function(){};\r\n        this.removeHandler = opts['removeHandler'] || function(){};\r\n    }\r\n\r\n    createControl(group: FormGroup) {\r\n        group.addControl(this.name, new FormControl(null));\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VColorField extends VField<string> {\r\n    type?: string;\r\n    prefix?: string;\r\n    suffix?: string;\r\n    hint?: string;\r\n    readonly?: boolean;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        type?: string,\r\n        label?: string,\r\n        value?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        readonly?: boolean,\r\n        prefix?: string,\r\n        suffix?: string,\r\n        hint?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vcolorfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.readonly = opts['readonly'] || false;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { FactoryValidator } from '../interfaces';\r\n\r\nexport class VEditorField extends VField<string> {\r\n    placeholder?: string;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        value?: string,\r\n        label?: string,\r\n        placeholder?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'veditorfield';\r\n        this.placeholder = opts['placeholder'] ? opts['placeholder'] : 'Введите здесь текст ...'\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VFileField extends VField<any> {\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,\r\n        styles?: Style,\r\n        cls?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vfilefield';\r\n        this.readonly = opts['readonly'] || false;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\n\r\nexport class VDivider extends VItem {\r\n\r\n  constructor(opts: {\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vdivider';\r\n    }\r\n}\r\n","import { Option, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\nimport { VItem } from \"./v-item.model\";\r\n\r\nexport class VList extends VItem {\r\n    options: Option[] | Observable<Option[]>;\r\n    multiple?: boolean;\r\n    editHandler?: Function;\r\n    deleteHandler?: Function;\r\n\r\n    constructor(opts: {\r\n        options: Option[] | Observable<Option[]>,\r\n        label?: string,\r\n        value?: string | number,\r\n        multiple?: boolean,\r\n        editHandler?: Function,\r\n        deleteHandler?: Function,\r\n        styles?: Style,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vlist';\r\n        this.options = opts['options'] || [];\r\n        this.multiple = opts['multiple'] || false;\r\n        this.editHandler = opts['editHandler'] || null;\r\n        this.deleteHandler = opts['deleteHandler'] || null;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\n\r\nexport class VContent extends VItem {\r\n  constructor(opts: {}) {\r\n        super({});\r\n        this._vtype = 'vcontent';\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\n\r\nexport class VImageField extends VField<string> {\r\n    imageAspectRatio?: number;\r\n    resizeToWidth?: number;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        imageAspectRatio?: number,\r\n        resizeToWidth?: number,\r\n        value?: string,\r\n        label?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vimagefield';\r\n        this.imageAspectRatio = opts['imageAspectRatio'] ? opts['imageAspectRatio'] : 4/3;\r\n        this.resizeToWidth = opts['resizeToWidth'] ? opts['resizeToWidth'] : 256;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Option, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport class VChipsField extends VField<Option[]> {\r\n    options: Option[] | Observable<Option[]>;\r\n    placeholder?: string;\r\n    color?: string;\r\n    removable?: boolean;\r\n    selectable?: boolean;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        placeholder?: string,\r\n        options: Option[] | Observable<Option[]>,\r\n        value?: Option[],\r\n        label?: string,\r\n        styles?: Style,\r\n        color?: string,\r\n        removable?: boolean,\r\n        selectable?: boolean,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vchipsfield';\r\n        this.options = opts['options'] || [];\r\n        this.value = opts['value'] || [];\r\n        this.placeholder = opts['placeholder'] || '';\r\n        this.color = opts['color'] || 'accent';\r\n        this.removable = opts['removable'] || false;\r\n        this.selectable = opts['selectable'] || false;\r\n        this.name = opts['name'] || '';\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport {\r\n    VAccordion,\r\n    VAutocompleteField,\r\n    VBox,\r\n    VButton,\r\n    VCheckboxField,\r\n    VChips,\r\n    VChipsField,\r\n    VColorField,\r\n    VContent,\r\n    VDatepickerField,\r\n    VDivider,\r\n    VDragDropList,\r\n    VEditorField,\r\n    VFileField,\r\n    VImage,\r\n    VImageField,\r\n    VInputField,\r\n    VItem,\r\n    VLabel,\r\n    VList,\r\n    VMaskedField,\r\n    VNumberField,\r\n    VRadioField,\r\n    VSelectField,\r\n    VSliderField,\r\n    VSlideToggleField,\r\n    VTextField\r\n} from '../models';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VFactoryService {\r\n\r\n  private _configSubject = new BehaviorSubject<VItem[]>([]);\r\n  configEvent = this._configSubject.asObservable();\r\n\r\n  constructor() {}\r\n\r\n  fromJSON(jsonCfg: any[] = []): VItem[] {\r\n    return jsonCfg.map(item => {\r\n        return this._createVItem(item);\r\n    });\r\n  }\r\n\r\n  private _createVItem(item: any): VItem {\r\n    switch (item.vtype) {\r\n        case 'vinputfield':\r\n            return new VInputField({...item});\r\n        case 'vbox':\r\n            item.items = item.items.map(child => {\r\n                return this._createVItem(child);\r\n            });\r\n            return new VBox({...item});\r\n        case 'vbutton':\r\n            return new VButton({...item});\r\n        case 'vselectfield':\r\n            return new VSelectField({...item});\r\n        case 'vtextfield':\r\n            return new VTextField({...item});\r\n        case 'vautocompletefield':\r\n            return new VAutocompleteField({...item});\r\n        case 'vcheckboxfield':\r\n            return new VCheckboxField({...item});\r\n        case 'vdatepickerfield':\r\n            return new VDatepickerField({...item});\r\n        case 'vimage':\r\n            return new VImage({...item});\r\n        case 'vmaskedfield':\r\n            return new VMaskedField({...item});\r\n        case 'vnumberfield':\r\n            return new VNumberField({...item});\r\n        case 'vradiofield':\r\n            return new VRadioField({...item});\r\n        case 'vslidetogglefield':\r\n            return new VSlideToggleField({...item});\r\n        case 'vsliderfield':\r\n            return new VSliderField({...item});\r\n        case 'vaccordion':\r\n            item.items = item.items.map(child => {\r\n                return this._createVItem(child);\r\n            });\r\n            return new VAccordion({...item});\r\n        case 'vlabel':\r\n            return new VLabel({...item});\r\n        case 'vchipsfield':\r\n            return new VChipsField({...item});\r\n        case 'vchips':\r\n            return new VChips({...item});\r\n        case 'vdragdroplist':\r\n            return new VDragDropList({...item});\r\n        case 'vcolorfield':\r\n            return new VColorField({...item});\r\n        case 'vfilefield':\r\n          return new VFileField({...item});\r\n        case 'veditorfield':\r\n          return new VEditorField({...item});\r\n        case 'vlist':\r\n          return new VList({...item});\r\n        case 'vcontent':\r\n            return new VContent({...item});\r\n        case 'vimagefield':\r\n            return new VImageField({...item});\r\n        case 'vdivider':\r\n            return new VDivider({...item});\r\n        default:\r\n            return null;\r\n    }\r\n  }\r\n\r\n  updateConfig(formCfg: VItem[], form: FormGroup): void {\r\n      this._configSubject.next(formCfg);\r\n      this._createControls(form);\r\n  }\r\n\r\n  private _createControls(group: FormGroup) {\r\n    this._configSubject.value.forEach(item => {\r\n      item.createControl(group);      \r\n    });\r\n  }\r\n\r\n  clearConfig(): void {\r\n    this._configSubject.next([]);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormArray, FormGroup } from '@angular/forms';\r\nimport { VAccordion } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-accordion',\r\n  templateUrl: './v-accordion.component.html',\r\n  styleUrls: ['./v-accordion.component.scss']\r\n})\r\nexport class VAccordionComponent implements OnInit {\r\n\r\n  @Input() field: VAccordion;\r\n  @Input() group: FormGroup;\r\n\r\n  get formArray() {\r\n    return this.group.get(this.field.name) as FormArray;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n}\r\n","<mat-accordion [formGroup]=\"group\">\r\n    <ng-container [formArrayName]=\"field.name\">\r\n        <ng-container *ngFor=\"let item of field.items; let i = index;\" [formGroupName]=\"i\">\r\n            <mat-expansion-panel [expanded]=\"field.getStep() === i\" (opened)=\"field.setStep(i)\" hideToggle>\r\n                <mat-expansion-panel-header>\r\n                    <mat-panel-title>\r\n                       <b> {{field.getItemTitle(i)}} </b>\r\n                    </mat-panel-title>\r\n                    <mat-panel-description>\r\n                    <!--  some title infos -->\r\n                    </mat-panel-description>\r\n                </mat-expansion-panel-header>\r\n\r\n                    <ng-container\r\n                        appVField\r\n                        [field]=\"item\"\r\n                        [group]=\"formArray.controls[i]\"\r\n                        >\r\n                    </ng-container>\r\n\r\n                <mat-action-row>\r\n                    <span *ngIf=\"i === 0\"></span>\r\n                    <button type=\"button\" *ngIf=\"i !== 0\" mat-stroked-button color=\"accent\" (click)=\"field.prevHandler(i)\">\r\n                        <mat-icon>arrow_back_ios</mat-icon>                        \r\n                    </button>\r\n                    <button *ngIf=\"field.removeHandler\" type=\"button\" mat-stroked-button color=\"warn\" (click)=\"field.removeHandler(i)\">\r\n                        <mat-icon>clear</mat-icon>                        \r\n                    </button>\r\n                    <button type=\"button\" *ngIf=\"i !== field.items.length - 1\" mat-stroked-button color=\"accent\" (click)=\"field.nextHandler(i)\">                        \r\n                        <mat-icon>arrow_forward_ios</mat-icon>\r\n                    </button>\r\n                    <span *ngIf=\"i === field.items.length - 1 && field.isDefaultHandler\"></span>\r\n                    <button type=\"button\" *ngIf=\"i === field.items.length - 1 && !field.isDefaultHandler\" mat-stroked-button color=\"primary\" (click)=\"field.nextHandler(i)\">                        \r\n                        <mat-icon>add</mat-icon>\r\n                    </button>\r\n                </mat-action-row>\r\n            </mat-expansion-panel>\r\n        </ng-container>\r\n    </ng-container>\r\n</mat-accordion>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { VAutocompleteField } from '../../models';\r\nimport { isObservable, BehaviorSubject } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { Option } from '../../interfaces';\r\nimport { MatAutocompleteTrigger } from '@angular/material/autocomplete';\r\n\r\n@Component({\r\n  selector: 'app-autocomplete-field',\r\n  templateUrl: './v-autocomplete-field.component.html',\r\n  styleUrls: ['./v-autocomplete-field.component.scss']\r\n})\r\nexport class VAutocompleteFieldComponent implements OnInit {\r\n  @ViewChild(MatAutocompleteTrigger, {read: MatAutocompleteTrigger}) trigger: MatAutocompleteTrigger;\r\n\r\n  field: VAutocompleteField;\r\n  group: FormGroup;\r\n  data: any = [];\r\n\r\n  private _optionSubject = new BehaviorSubject<Option[]>([]);\r\n  filteredOptions = this._optionSubject.asObservable();\r\n\r\n  constructor() { }\r\n\r\n  get control(): FormControl {\r\n    return this.group.get(this.field.name) as FormControl;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if(isObservable(this.field.options)) {\r\n      this.field.options\r\n      .subscribe(res => {\r\n        this.data = res;\r\n        this._optionSubject.next(this.data);\r\n      });\r\n    } else {\r\n      this.data = this.field.options;\r\n      this._optionSubject.next(this.data);\r\n    }\r\n    \r\n    this.control.valueChanges\r\n    .pipe(\r\n      startWith(''),\r\n      map(value => (typeof value === 'string' ? value : value.label)),\r\n      map(value => this._filter(value))\r\n    )\r\n    .subscribe(res => {\r\n      this._optionSubject.next(res);\r\n    });\r\n  }\r\n\r\n  private _filter(value: string): Option[] {    \r\n    const filterValue = value.toLowerCase();\r\n    return this.data\r\n      .filter(option => option.label.toLowerCase().includes(filterValue) ||\r\n        option.label.replace(' ', '').toLowerCase().includes(filterValue) || \r\n        option.label.toLowerCase().includes(filterValue.replace(' ', '')))\r\n      .filter(this.field.filter)\r\n      .sort((a,b) => {\r\n        const aIdx = a.label?.toLowerCase().indexOf(filterValue),\r\n        bIdx = b.label?.toLowerCase().indexOf(filterValue);\r\n        return aIdx > bIdx ? 1 : -1;\r\n    });\r\n  }\r\n\r\n  displayFn(option: Option): string {\r\n    return option && option.label ? option.label : '';\r\n  }\r\n\r\n  trackByFn(index, item) {\r\n    if(!item) return null;\r\n    return index;\r\n  }\r\n\r\n  onFocus(): void {\r\n    if(!this.control.value || this.control.value === '') {\r\n      this.trigger._onChange(''); \r\n      this.trigger.openPanel();\r\n    }\r\n  }\r\n}","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <input type=\"text\"\r\n        [formControlName]=\"field.name\"\r\n        [placeholder]=\"field.placeholder\"\r\n        matInput \r\n        [matAutocomplete]=\"auto\"\r\n        (click)=\"onFocus()\"        \r\n      >\r\n    <mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\" [displayWith]=\"displayFn\">\r\n      <mat-option *ngFor=\"let option of filteredOptions | async; trackBy: trackByFn\" [value]=\"option\">\r\n        {{option.label}}\r\n      </mat-option>\r\n    </mat-autocomplete>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>\r\n</mat-form-field>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormGroup, FormArray } from '@angular/forms';\r\nimport { VBox } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-box',\r\n  templateUrl: './v-box.component.html',\r\n  styleUrls: ['./v-box.component.scss']\r\n})\r\nexport class VBoxComponent implements OnInit {\r\n\r\n  @Input() field: VBox;\r\n  @Input() group: FormGroup;\r\n\r\n  boxFormArray: FormArray;\r\n  isFormArray = false;\r\n\r\n  get formArray() {\r\n    return this.group.get(this.field.name) as FormArray;\r\n  }\r\n\r\n  constructor() {    \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.field.items = this.field.items.filter(item => item.getName() !== 'vcontent');\r\n  }\r\n}\r\n","<ng-container *ngIf=\"!!this.field.name && this.field.formMode === 'array'\"  [formGroup]=\"group\">\r\n    <label class=\"box-label\" *ngIf=\"field.label\">{{field.label}}</label>\r\n    <ng-container [formArrayName]=\"field.name\">\r\n        <ng-container *ngFor=\"let item of field.items; let i = index;\" [formGroupName]=\"i\">            \r\n            <ng-container\r\n                appVField\r\n                [field]=\"item\"\r\n                [group]=\"formArray.controls[i]\"\r\n                >\r\n            </ng-container>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>\r\n\r\n<ng-container *ngIf=\"!!this.field.name && this.field.formMode === 'group'\"  [formGroup]=\"group\">\r\n    <label class=\"box-label\" *ngIf=\"field.label\">{{field.label}}</label>\r\n    <ng-container [formGroupName]=\"field.name\">\r\n        <ng-container *ngFor=\"let item of field.items\">            \r\n            <ng-container\r\n                appVField\r\n                [field]=\"item\"\r\n                [group]=\"group.get(field.name)\"\r\n                >\r\n            </ng-container>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>\r\n\r\n<ng-container *ngIf=\"!this.field.name\"  [formGroup]=\"group\">\r\n    <label class=\"box-label\" *ngIf=\"field.label\">{{field.label}}</label>\r\n    <ng-container *ngFor=\"let item of field.items\">  \r\n        <ng-container\r\n            appVField\r\n            [field]=\"item\"\r\n            [group]=\"group\"\r\n            >\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>\r\n\r\n\r\n     \r\n    \r\n\r\n    \r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VButton } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-button',\r\n  templateUrl: './v-button.component.html',\r\n  styleUrls: ['./v-button.component.scss']\r\n})\r\nexport class VButtonComponent implements OnInit {\r\n\r\n  field: VButton;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n}\r\n","<ng-container [formGroup]=\"group\">\r\n    <ng-container [ngSwitch]=\"field.styleType\">        \r\n        <button *ngSwitchCase=\"'raised'\" \r\n            mat-raised-button \r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n            {{ field.text }}\r\n        </button>        \r\n        \r\n        <button *ngSwitchCase=\"'stroked'\" \r\n            mat-stroked-button \r\n            [color]=\"field.color\" \r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n            {{ field.text }}\r\n        </button>\r\n\r\n        <button *ngSwitchCase=\"'flat'\" \r\n            mat-flat-button \r\n            [color]=\"field.color\" \r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n            {{ field.text }}\r\n        </button>\r\n\r\n        <button *ngSwitchCase=\"'icon'\" \r\n            mat-icon-button \r\n            [matTooltip]=\"field.text\"\r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n        </button>\r\n\r\n        <button *ngSwitchCase=\"'fab'\" \r\n            mat-fab \r\n            [matTooltip]=\"field.text\"\r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n        </button>\r\n\r\n        <button *ngSwitchCase=\"'mini-fab'\" \r\n            mat-mini-fab \r\n            [matTooltip]=\"field.text\"\r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n        </button>\r\n\r\n        <button *ngSwitchDefault \r\n            mat-button \r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n            {{ field.text }}\r\n        </button>\r\n    </ng-container>\r\n</ng-container>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VCheckboxField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-checkbox-field',\r\n  templateUrl: './v-checkbox-field.component.html',\r\n  styleUrls: ['./v-checkbox-field.component.scss']\r\n})\r\nexport class VCheckboxFieldComponent implements OnInit {\r\n\r\n  field: VCheckboxField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<ng-container [formGroup]=\"group\">\r\n    <mat-checkbox\r\n        [formControlName]=\"field.name\"\r\n        [labelPosition]=\"field.labelPosition\"\r\n    >\r\n        {{field.label}}\r\n    </mat-checkbox>\r\n</ng-container>\r\n\r\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MatAutocompleteSelectedEvent, MatAutocompleteTrigger } from '@angular/material/autocomplete';\nimport { map, startWith } from 'rxjs/operators';\nimport { VChipsField } from '../../models/v-chips-field.model';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { Option } from '../../interfaces';\nimport { COMMA, ENTER } from '@angular/cdk/keycodes';\n\n@Component({\n  selector: 'v-v-chips-field',\n  templateUrl: './v-chips-field.component.html',\n  styleUrls: ['./v-chips-field.component.scss']\n})\nexport class VChipsFieldComponent implements OnInit {\n  @ViewChild(MatAutocompleteTrigger, {read: MatAutocompleteTrigger}) trigger: MatAutocompleteTrigger;\n  @ViewChild('chipsInput') chipsInput: ElementRef<HTMLInputElement>;\n\n  field: VChipsField;\n  group: FormGroup;\n  filterControl = new FormControl('');\n  separatorKeysCodes: number[] = [ENTER, COMMA];\n\n  data: Option[] = [];\n  idxs:any[] = [];\n\n  get control(): FormControl {\n    return this.group.get(this.field.name) as FormControl;\n  }\n\n  private _optionSubject = new BehaviorSubject<Option[]>([]); \n  options = this._optionSubject.asObservable();\n\n  private _chipsSubject = new BehaviorSubject<Option[]>([]); \n  chips = this._chipsSubject.asObservable();\n\n  constructor() {}\n\n  ngOnInit(): void {\n    if(this.field.options instanceof Observable) {\n      this.field.options\n      .pipe(\n        map(x => this._transformOptions(x))\n      )\n      .subscribe(options => {\n        this.data = options;\n        this._optionSubject.next(this.data);\n        this._chipsSubject.next(this.field.value);  \n      });\n    } else {\n      this.data = this._transformOptions(this.field.options);\n      this._optionSubject.next(this.data);\n      this._chipsSubject.next(this.field.value);\n    }\n\n    this.filterControl.valueChanges\n    .pipe(\n      startWith(''),\n      map(value => (typeof value === 'string' ? value : value.label)),\n      map(value => this._filter(value))\n    )\n    .subscribe(res => {\n      this._optionSubject.next(res);\n    });\n\n    this.chips\n    .subscribe(value => {\n      this._filterOptions();\n      this.control.setValue(value);\n    });   \n  }\n\n  remove(item: Option): void {\n    const chips = this._chipsSubject.value;    \n    const index = chips.findIndex(x => x.value === item.value);\n\n    if (index !== -1) {\n      chips.splice(index, 1);\n    }\n    this._chipsSubject.next(chips);\n  }\n\n  selected(event: MatAutocompleteSelectedEvent): void {\n    const value = event.option.value;\n    const chips = this._chipsSubject.value;\n    chips.push(value);\n    this._chipsSubject.next(chips);    \n    this.chipsInput?.nativeElement.blur();\n  }\n\n  private _filter(value: string): Option[] {    \n    const filterValue = value.toLowerCase();\n    const idxs = this._chipsSubject.value.map(x => x.value);\n    return this.data\n      .filter(option => option.label.toLowerCase().includes(filterValue) ||\n        option.label.replace(' ', '').toLowerCase().includes(filterValue) || \n        option.label.toLowerCase().includes(filterValue.replace(' ', '')))\n      .filter(option => idxs.indexOf(option.value) === -1)\n      .sort((a,b) => {\n        const aIdx = a.label?.toLowerCase().indexOf(filterValue),\n        bIdx = b.label?.toLowerCase().indexOf(filterValue);\n        return aIdx > bIdx ? 1 : -1;\n    });\n  }\n\n  displayFn(option: Option): string {\n    return option && option.label ? option.label : '';\n  }\n\n  trackByFn(index: any, item: any) {\n    if(!item) return null;\n    return index;\n  }\n\n  onFocus(): void {\n    if(!this.filterControl.value || this.filterControl.value === '') {\n      this.trigger?._onChange(''); \n      this.trigger?.openPanel();\n    }\n  }\n\n  private _filterOptions(): void {\n    const idxs = this._chipsSubject.value.map(x => x.value);\n    const options = this.data\n      .filter(x => idxs.indexOf(x.value) === -1);\n    this._optionSubject.next(options);\n  }\n\n  private _transformOptions(options: Option[]): Option[] {\n    return options.map(o => {\n      return {\n        ...o,\n        data: {\n          ...o.data,\n          color: o.data?.color ?? 'accent',\n          selected: o.data?.selected ?? false\n        }\n      }\n    });\n  }\n}\n","<mat-form-field  [formGroup]=\"group\">\n    <mat-label *ngIf=\"field.label\">{{ field.label }}</mat-label>\n    <mat-chip-list #chipList>\n      <mat-chip\n        *ngFor=\"let item of chips | async\"\n        [color]=\"item.data?.color\"\n        [selected]=\"item.data?.selected\"\n        (removed)=\"remove(item)\"\n        >\n        {{ item.label }}\n        <button matChipRemove>\n          <mat-icon>cancel</mat-icon>\n        </button>\n      </mat-chip>\n      <input\n        [placeholder]=\"field.placeholder\"\n        #chipsInput\n        [formControl]=\"filterControl\"\n        [matAutocomplete]=\"auto\"\n        [matChipInputFor]=\"chipList\"\n        [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\n        (click)=\"onFocus()\"\n    >\n    </mat-chip-list>\n    <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"selected($event)\" [displayWith]=\"displayFn\">\n      <mat-option *ngFor=\"let option of options | async\" [value]=\"option\">\n        {{option.label}}\n      </mat-option>\n    </mat-autocomplete>\n</mat-form-field>\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VChips } from '../../models';\r\nimport { Option } from '../../interfaces';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-v-chips',\r\n  templateUrl: './v-chips.component.html',\r\n  styleUrls: ['./v-chips.component.scss']\r\n})\r\nexport class VChipsComponent implements OnInit {\r\n\r\n  field: VChips;\r\n  group: FormGroup;\r\n\r\n  private _optionSubject = new BehaviorSubject<Option[]>([]); \r\n  options = this._optionSubject.asObservable();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    if(this.field.options instanceof Observable) {\r\n      this.field.options\r\n      .pipe(\r\n        map(x => this._transformOptions(x))\r\n      )\r\n      .subscribe(options => {\r\n        this._optionSubject.next(options);\r\n      });\r\n    } else {\r\n      this._optionSubject.next(this._transformOptions(this.field.options));\r\n    }\r\n  }\r\n\r\n  private _transformOptions(options: Option[]): Option[] {\r\n    return options.map(o => {\r\n      return {\r\n        ...o,\r\n        data: {\r\n          ...o.data,\r\n          color: o.data?.color ?? 'accent',\r\n          selected: o.data?.selected ?? false\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","<mat-chip-list>\r\n  <mat-chip *ngFor=\"let option of options | async\" \r\n    [color]=\"option.data?.color\"\r\n    [selected]=\"option.data?.selected\"\r\n  >\r\n    {{option.label}}\r\n  </mat-chip>\r\n</mat-chip-list>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VColorField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-color-field',\r\n  templateUrl: './v-color-field.component.html',\r\n  styleUrls: ['./v-color-field.component.scss']\r\n})\r\nexport class VColorFieldComponent implements OnInit {\r\n\r\n  field: VColorField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <span *ngIf=\"field.prefix\" matPrefix>{{field.prefix}} &nbsp;</span>\r\n    <input \r\n        type=\"color\"\r\n        [formControlName]=\"field.name\"\r\n        [readonly]=\"field.readonly\"\r\n        matInput\r\n    />\r\n\r\n    <mat-icon *ngIf=\"field.suffix\" matSuffix>{{field.suffix}}</mat-icon>\r\n    <mat-hint *ngIf=\"field.hint\">{{field.hint}}</mat-hint>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>   \r\n</mat-form-field>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VDatepickerField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-datepicker-field',\r\n  templateUrl: './v-datepicker-field.component.html',\r\n  styleUrls: ['./v-datepicker-field.component.scss']\r\n})\r\nexport class VDatepickerFieldComponent implements OnInit {\r\n\r\n  field: VDatepickerField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<mat-form-field color=\"field.color\" appearance=\"fill\"  [formGroup]=\"group\">\r\n    <mat-label>{{field.label}}</mat-label>\r\n    <input \r\n        matInput \r\n        [formControlName]=\"field.name\"\r\n        [matDatepicker]=\"picker1\"\r\n    >\r\n    <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n    <mat-datepicker #picker1></mat-datepicker>\r\n</mat-form-field>","import { Component, OnInit } from '@angular/core';\r\nimport { VDivider } from './../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-divider',\r\n  templateUrl: './v-divider.component.html',\r\n  styleUrls: ['./v-divider.component.scss']\r\n})\r\nexport class VDividerComponent implements OnInit {\r\n\r\n  field: VDivider;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<mat-divider></mat-divider>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { VDragDropList } from '../../models';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Option } from '../../interfaces';\r\n\r\n@Component({\r\n  selector: 'app-drag-drop-list',\r\n  templateUrl: './v-drag-drop-list.component.html',\r\n  styleUrls: ['./v-drag-drop-list.component.scss']\r\n})\r\nexport class VDragDropListComponent implements OnInit {\r\n\r\n  field: VDragDropList;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  drop(event: CdkDragDrop<Option[]>) {\r\n    moveItemInArray(this.field.options, event.previousIndex, event.currentIndex);\r\n    this.group.controls[this.field.name].markAsTouched();\r\n  }\r\n}\r\n","<mat-card [formGroup]=\"group\">\r\n    <ng-container  *ngIf=\"field.label\">\r\n        <mat-card-header>\r\n            <mat-card-title>{{field.label}}</mat-card-title>    \r\n        </mat-card-header>\r\n        <mat-divider></mat-divider>\r\n    </ng-container>\r\n    \r\n    <input type=\"hidden\" [formControlName]=\"field.name\" />\r\n    \r\n    <mat-card-content>        \r\n        <div cdkDropList class=\"list-wrapper\" (cdkDropListDropped)=\"drop($event)\">\r\n            <div class=\"list-box\" *ngFor=\"let option of field.options\" cdkDrag (dblclick)=\"field.handler(option)\">            \r\n                <mat-icon *ngIf=\"option.icon\">{{option.icon}}</mat-icon>\r\n\r\n                <ng-container *ngIf=\"field.showAvatar && option.data?.image\">\r\n                    <img class=\"avatar-img\" [src]=\"option.data.image\" [alt]=\"option.label\">\r\n                </ng-container>\r\n\r\n                <strong *ngIf=\"option.label\">{{option.label}}</strong>\r\n\r\n                <span *ngIf=\"option.data?.info\">{{option.data?.info}}</span>\r\n                <span *ngIf=\"!option.data?.info\"></span>\r\n\r\n                <span style=\"flex: 1\"></span>\r\n\r\n                <ng-container *ngIf=\"field.removable\">\r\n                    <button\r\n                        mat-icon-button \r\n                        matTooltip=\"Удалить\"\r\n                        color=\"warn\"\r\n                        type=\"button\"\r\n                        (click)=\"field.removeHandler(option)\"\r\n                        >\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n                <span *ngIf=\"!field.removable\"></span>\r\n\r\n                <ng-container *ngIf=\"field.showPreview && option.data?.image\">\r\n                    <img *cdkDragPreview [src]=\"option.data.image\" [alt]=\"option.label\">\r\n                </ng-container>            \r\n            </div>\r\n        </div>\r\n    </mat-card-content>    \r\n</mat-card>\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { EditorAction } from './editor-action.interface';\r\n\r\n@Injectable()\r\nexport class VEditorService {\r\n\r\n  btnAction = new Subject();\r\n\r\n  constructor() {}\r\n\r\n  execCommand(action: EditorAction): void {\r\n    this.btnAction.next(action);\r\n  }\r\n  \r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { EditorAction } from '../../editor-action.interface';\r\n\r\n@Component({\r\n  selector: 'app-toolbar-btn',\r\n  templateUrl: './toolbar-btn.component.html',\r\n  styleUrls: ['./toolbar-btn.component.scss']\r\n})\r\nexport class ToolbarBtnComponent {\r\n\r\n  isActive: boolean = false;\r\n\r\n  @Input() action: string;\r\n  @Input() icon: string;\r\n\r\n  @Output() exec: EventEmitter<EditorAction> = new EventEmitter<EditorAction>();\r\n\r\n  execCmd(): void {\r\n    this.exec.emit({ action: this.action });\r\n    this.isActive = !this.isActive;\r\n  }\r\n\r\n}\r\n","<button     \r\n    (click)=\"execCmd()\"\r\n    type=\"button\">\r\n    <span class=\"material-icons\">{{icon}}</span>\r\n</button>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { EditorAction } from '../../editor-action.interface';\r\n\r\n@Component({\r\n  selector: 'app-toolbar-select',\r\n  templateUrl: './toolbar-select.component.html',\r\n  styleUrls: ['./toolbar-select.component.scss']\r\n})\r\nexport class ToolbarSelectComponent implements OnInit {\r\n\r\n  @Input() action: string;\r\n  @Input() args: { value: string, label: string }[];\r\n\r\n  @Output() exec: EventEmitter<EditorAction> = new EventEmitter<EditorAction>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onSelect(arg: string): void {\r\n    this.exec.emit({ action: this.action,  arg })\r\n  }\r\n\r\n}\r\n","<select matNativeControl (change)=\"onSelect($event.target.value)\">  \r\n  <option *ngFor=\"let arg of args\" [value]=\"arg.value\">{{ arg.label }}</option>\r\n</select>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { EditorAction } from '../../editor-action.interface';\r\n\r\n@Component({\r\n  selector: 'app-toolbar-color',\r\n  templateUrl: './toolbar-color.component.html',\r\n  styleUrls: ['./toolbar-color.component.scss']\r\n})\r\nexport class ToolbarColorComponent implements OnInit {\r\n\r\n  @Input() action: string;\r\n  @Input() icon: string;\r\n  @Input() value: string;\r\n\r\n  @Output() exec: EventEmitter<EditorAction> = new EventEmitter<EditorAction>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onPick(color: string): void {\r\n    this.exec.emit({ action: this.action, arg: color });\r\n  }\r\n\r\n}\r\n","<div class=\"color-wrapper\">\r\n    <span class=\"material-icons\">{{icon}}</span>\r\n    <input type=\"color\" #colorinput matNativeControl [value]=\"value\" (change)=\"onPick($event.target.value)\"/>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { EditorAction } from '../editor-action.interface';\r\nimport { VEditorService } from '../v-editor.service';\r\n\r\n@Component({\r\n  selector: 'app-toolbar',\r\n  templateUrl: './toolbar.component.html',\r\n  styleUrls: ['./toolbar.component.scss']\r\n})\r\nexport class ToolbarComponent implements OnInit {\r\n  \r\n\r\n  formatBlockArgs = [\r\n      {value: '', label: 'Heading'},\r\n      {value: 'H1', label: 'Heading 1'},\r\n      {value: 'H2', label: 'Heading 2'}, \r\n      {value: 'H3', label: 'Heading 3'}, \r\n      {value: 'H4', label: 'Heading 4'}, \r\n      {value: 'H5', label: 'Heading 5'}, \r\n      {value: 'H6', label: 'Heading 6'}\r\n    ];\r\n\r\n  fontNameArgs = [\r\n    {value: '', label: 'Font Type'},\r\n    {value: 'Arial', label: 'Arial'},\r\n    {value: 'Comic Sans CS', label: 'Comic Sans CS'},\r\n    {value: 'Courier', label: 'Courier'},\r\n    {value: 'Georgia', label: 'Georgia'},\r\n    {value: 'Tahoma', label: 'Tahoma'},\r\n    {value: 'Times New Roman', label: 'Times New Roman'},\r\n    {value: 'Verdana', label: 'Verdana'}\r\n   ];\r\n\r\n  fontSizeArgs = [\r\n      {value: '', label: 'Font Size'},\r\n      {value: '1', label: '1'},\r\n      {value: '2', label: '2'},\r\n      {value: '3', label: '3'},\r\n      {value: '4', label: '4'},\r\n      {value: '5', label: '5'},\r\n      {value: '6', label: '6'},\r\n      {value: '7', label: '7'}\r\n    ];\r\n\r\n  constructor(\r\n    private _editorService: VEditorService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  execCmd(action: EditorAction): void {\r\n    this._editorService.execCommand(action);\r\n  }\r\n}\r\n","<div class=\"toolbar-container\">\r\n    <div class=\"toolbar-row\">\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"undo\" action=\"undo\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"redo\" action=\"redo\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"format_bold\" action=\"bold\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_italic\" action=\"italic\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_underlined\" action=\"underline\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"strikethrough_s\" action=\"strikeThrough\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"format_align_left\" action=\"justifyLeft\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_align_center\" action=\"justifyCenter\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_align_right\" action=\"justifyRigth\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_align_justify\" action=\"justifyFull\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"content_cut\" action=\"cut\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"content_copy\" action=\"copy\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"format_indent_increase\" action=\"indent\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_indent_decrease\" action=\"outdent\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"subscript\" action=\"subscript\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"superscript\" action=\"superscript\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"format_list_bulleted\" action=\"insertUnorderedList\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_list_numbered\" action=\"insertOrderedList\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-select action=\"formatBlock\" [args]=\"formatBlockArgs\" (exec)=\"execCmd($event)\"></app-toolbar-select>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-select action=\"fontName\" [args]=\"fontNameArgs\" (exec)=\"execCmd($event)\"></app-toolbar-select>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-select action=\"fontSize\" [args]=\"fontSizeArgs\" (exec)=\"execCmd($event)\"></app-toolbar-select>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"horizontal_rule\" action=\"insertHorizontalRule\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"insert_photo\" action=\"insertImage\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"videocam\" action=\"insertVideo\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"link\" action=\"createLink\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"link_off\" action=\"unlink\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-color icon=\"format_color_text\" action=\"foreColor\" (exec)=\"execCmd($event)\"  value=\"#000000\"></app-toolbar-color>\r\n            <app-toolbar-color icon=\"format_color_fill\" action=\"hiliteColor\" (exec)=\"execCmd($event)\" value=\"#FFFFFF\"></app-toolbar-color>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"code\" action=\"toggleSource\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n    </div>\r\n</div>\r\n","/*\r\nSource: https://github.com/TinkoffCreditSystems/angular-contenteditable-accessor\r\n*/\r\n\r\nimport {\r\n    AfterViewInit,\r\n    Directive,\r\n    ElementRef,\r\n    forwardRef,\r\n    HostListener,\r\n    Inject,\r\n    OnDestroy,\r\n    Renderer2,\r\n} from '@angular/core';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\n\r\n/*\r\n * This is a barebones contenteditable {@link ControlValueAccessor} allowing you to use\r\n * Angular forms with native contenteditable HTML. For security reasons you might want\r\n * to consider sanitizing pasted/dropped content before using it. Also make sure that\r\n * you do not set any dangerous content as control value yourself, because directive\r\n * just outputs control value as-is.\r\n */\r\n@Directive({\r\n    selector:\r\n        '[contenteditable][formControlName], [contenteditable][formControl], [contenteditable][ngModel]',\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => ContenteditableValueAccessor),\r\n            multi: true,\r\n        },\r\n    ],\r\n})\r\nexport class ContenteditableValueAccessor\r\n    implements ControlValueAccessor, AfterViewInit, OnDestroy {\r\n    /*\r\n     * MutationObserver IE11 fallback (as opposed to input event for modern browsers).\r\n     * When mutation removes a tag, i.e. delete is pressed on the last remaining character\r\n     * inside a tag — callback is triggered before the DOM is actually changed, therefore\r\n     * setTimeout is used\r\n     */\r\n    private observer = new MutationObserver(() => {\r\n        setTimeout(() => {\r\n            this.onChange(\r\n                ContenteditableValueAccessor.processValue(\r\n                    this.elementRef.nativeElement.innerHTML,\r\n                ),\r\n            );\r\n        });\r\n    });\r\n\r\n    /*\r\n     * onTouch callback that marks control as touched and allows FormHooks use\r\n     */\r\n    private onTouched = () => {};\r\n\r\n    /*\r\n     * onChange callback that writes value to control and allows FormHooks use\r\n     */\r\n    private onChange: (value: string) => void = () => {};\r\n\r\n    constructor(\r\n        @Inject(ElementRef) private readonly elementRef: ElementRef,\r\n        @Inject(Renderer2) private readonly renderer: Renderer2,\r\n    ) {}\r\n\r\n    /*\r\n     * To support IE11 MutationObserver is used to monitor changes to the content\r\n     */\r\n    ngAfterViewInit() {\r\n        this.observer.observe(this.elementRef.nativeElement, {\r\n            characterData: true,\r\n            childList: true,\r\n            subtree: true,\r\n        });\r\n    }\r\n\r\n    /*\r\n     * Disconnect MutationObserver IE11 fallback on destroy\r\n     */\r\n    ngOnDestroy() {\r\n        this.observer.disconnect();\r\n    }\r\n\r\n    /*\r\n     * Listen to input events to write innerHTML value into control,\r\n     * also disconnect MutationObserver as it is not needed if this\r\n     * event works in current browser\r\n     */\r\n    @HostListener('input')\r\n    onInput() {\r\n        this.observer.disconnect();\r\n        this.onChange(\r\n            ContenteditableValueAccessor.processValue(\r\n                this.elementRef.nativeElement.innerHTML,\r\n            ),\r\n        );\r\n    }\r\n\r\n    /*\r\n     * Listen to blur event to mark control as touched\r\n     */\r\n    @HostListener('blur')\r\n    onBlur() {\r\n        this.onTouched();\r\n    }\r\n\r\n    /*\r\n     * Reacts to external change\r\n     *\r\n     * @see {@link ControlValueAccessor#writeValue}\r\n     */\r\n    writeValue(value: string | null) {\r\n        this.renderer.setProperty(\r\n            this.elementRef.nativeElement,\r\n            'innerHTML',\r\n            ContenteditableValueAccessor.processValue(value),\r\n        );\r\n    }\r\n\r\n    /*\r\n     * Registers onChange callback\r\n     *\r\n     * @see {@link ControlValueAccessor#registerOnChange}\r\n     */\r\n    registerOnChange(onChange: (value: string) => void) {\r\n        this.onChange = onChange;\r\n    }\r\n\r\n    /*\r\n     * Registers onTouch callback\r\n     *\r\n     * @see {@link ControlValueAccessor#registerOnTouched}\r\n     */\r\n    registerOnTouched(onTouched: () => void) {\r\n        this.onTouched = onTouched;\r\n    }\r\n\r\n    /*\r\n     * Sets disabled state by setting contenteditable attribute to true/false\r\n     *\r\n     * @see {@link ControlValueAccessor#setDisabledState}\r\n     */\r\n    setDisabledState(disabled: boolean) {\r\n        this.renderer.setAttribute(\r\n            this.elementRef.nativeElement,\r\n            'contenteditable',\r\n            String(!disabled),\r\n        );\r\n    }\r\n\r\n    /*\r\n     * null and other falsy control values are treated as empty string to\r\n     * prevent IE11 outputting 'null', also single <br> is replaced with empty\r\n     * string when passed to the control\r\n     */\r\n    private static processValue(value: string | null): string {\r\n        const processed = value || '';\r\n\r\n        return processed.trim() === '<br>' ? '' : processed;\r\n    }\r\n}\r\n","import { Component, ElementRef, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { VEditorField } from '../../models';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { VEditorService } from './v-editor.service';\r\nimport { EditorAction } from './editor-action.interface';\r\n\r\n@Component({\r\n  selector: 'app-editor-field',\r\n  templateUrl: './v-editor-field.component.html',\r\n  styleUrls: ['./v-editor-field.component.scss']\r\n})\r\nexport class VEditorFieldComponent implements OnInit {\r\n  @ViewChild('texteditor', { static: true }) texteditor: ElementRef;\r\n\r\n  field: VEditorField;\r\n  group: FormGroup;\r\n\r\n  isShowingSource = false;\r\n\r\n  constructor(\r\n    @Inject(DOCUMENT) private _doc: any,\r\n    private _editorService: VEditorService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this._editorService.btnAction\r\n      .subscribe((action: EditorAction) => {\r\n        switch (action.action) {\r\n          case 'toggleSource':\r\n            if(this.isShowingSource) {\r\n              this.texteditor.nativeElement.innerHTML = this.texteditor.nativeElement.textContent;\r\n            } else {\r\n              this.texteditor.nativeElement.textContent = this.texteditor.nativeElement.innerHTML;\r\n            }\r\n            this.isShowingSource = !this.isShowingSource;\r\n            break;\r\n          case 'insertImage':\r\n          case 'createLink':\r\n            let imgUrl = prompt('Enter URL:', '');\r\n            if(imgUrl) {\r\n              this._doc.execCommand(action.action, false, imgUrl);\r\n            }\r\n            break;\r\n          case 'insertVideo':\r\n            let videoUrl = prompt('Enter URL:', '');\r\n            if(videoUrl) {\r\n              videoUrl = videoUrl.replace(\"watch?v=\", \"embed/\");\r\n              const embed = '<iframe src=\"'+videoUrl+'\" allowfullscreen=\"true\" width=\"480\" frameborder=\"0\" height=\"390\">';\r\n              this._doc.execCommand(\"insertHTML\", false, embed);\r\n            }\r\n            break;\r\n          default:\r\n            this._doc.execCommand(action.action, false, action.arg? action.arg : null);\r\n            break;\r\n        }\r\n      });\r\n  }\r\n}\r\n","<div [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <section>\r\n        <app-toolbar></app-toolbar>\r\n        <div class=\"editor-container\" #texteditor contenteditable [formControlName]=\"field.name\"></div>\r\n    </section>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VFileField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-file-field',\r\n  templateUrl: './v-file-field.component.html',\r\n  styleUrls: ['./v-file-field.component.scss']\r\n})\r\nexport class VFileFieldComponent {\r\n\r\n  field: VFileField;\r\n  group: FormGroup;\r\n\r\n  onFileChange(event) {\r\n    this.group.get(this.field.name).markAllAsTouched();\r\n    if (event.target.files.length > 0) {\r\n      const file = event.target.files[0];\r\n      this.group.get(this.field.name).setValue(file);\r\n    }\r\n  }\r\n}\r\n","<ng-container [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <input type=\"file\" class=\"file-input\" (change)=\"onFileChange($event)\" [disabled]=\"field.disabled\" [hidden]=\"field.readonly\" />\r\n    <ng-container *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n           <span class=\"custom-error\"> {{validation.message}} </span>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>\r\n","export interface MoveStart {\r\n  active: boolean;\r\n  type: MoveTypes | null;\r\n  position: string | null;\r\n  x1: number;\r\n  y1: number;\r\n  x2: number;\r\n  y2: number;\r\n  clientX: number;\r\n  clientY: number;\r\n}\r\n\r\nexport enum MoveTypes {\r\n  Move = 'move',\r\n  Resize = 'resize',\r\n  Pinch = 'pinch'\r\n}\r\n","import { CropperOptions, OutputFormat } from './cropper-options.interface';\r\nimport { ImageTransform } from './image-transform.interface';\r\nimport { SimpleChanges } from '@angular/core';\r\n\r\nexport class CropperSettings {\r\n\r\n  // From options\r\n  format: OutputFormat = 'png';\r\n  maintainAspectRatio = true;\r\n  transform: ImageTransform = {};\r\n  aspectRatio = 1;\r\n  resizeToWidth = 0;\r\n  resizeToHeight = 0;\r\n  cropperMinWidth = 0;\r\n  cropperMinHeight = 0;\r\n  cropperMaxHeight = 0;\r\n  cropperMaxWidth = 0;\r\n  cropperStaticWidth = 0;\r\n  cropperStaticHeight = 0;\r\n  canvasRotation = 0;\r\n  initialStepSize = 3;\r\n  roundCropper = false;\r\n  onlyScaleDown = false;\r\n  imageQuality = 92;\r\n  autoCrop = true;\r\n  backgroundColor: string = undefined;\r\n  containWithinAspectRatio = false;\r\n  hideResizeSquares = false;\r\n  alignImage: 'left' | 'center' = 'center';\r\n\r\n  // Internal\r\n  cropperScaledMinWidth = 20;\r\n  cropperScaledMinHeight = 20;\r\n  cropperScaledMaxWidth = 20;\r\n  cropperScaledMaxHeight = 20;\r\n  stepSize = this.initialStepSize;\r\n\r\n  setOptions(options: Partial<CropperOptions>): void {\r\n    Object.keys(options)\r\n      .filter((k) => k in this)\r\n      .forEach((k) => this[k] = options[k]);\r\n    this.validateOptions();\r\n  }\r\n\r\n  setOptionsFromChanges(changes: SimpleChanges): void {\r\n    Object.keys(changes)\r\n      .filter((k) => k in this)\r\n      .forEach((k) => this[k] = changes[k].currentValue);\r\n    this.validateOptions();\r\n  }\r\n\r\n  private validateOptions(): void {\r\n    if (this.maintainAspectRatio && !this.aspectRatio) {\r\n      throw new Error('`aspectRatio` should > 0 when `maintainAspectRatio` is enabled');\r\n    }\r\n  }\r\n}\r\n","export function getPositionForKey(key: string): string {\r\n  switch (key) {\r\n    case 'ArrowUp':\r\n      return 'top';\r\n    case 'ArrowRight':\r\n      return 'right';\r\n    case 'ArrowDown':\r\n      return 'bottom';\r\n    case 'ArrowLeft':\r\n    default:\r\n      return 'left';\r\n  }\r\n}\r\n\r\nexport function getInvertedPositionForKey(key: string): string {\r\n  switch (key) {\r\n    case 'ArrowUp':\r\n      return 'bottom';\r\n    case 'ArrowRight':\r\n      return 'left';\r\n    case 'ArrowDown':\r\n      return 'top';\r\n    case 'ArrowLeft':\r\n    default:\r\n      return 'right';\r\n  }\r\n}\r\n\r\nexport function getEventForKey(key: string, stepSize: number): any {\r\n  switch (key) {\r\n    case 'ArrowUp':\r\n      return {clientX: 0, clientY: stepSize * -1};\r\n    case 'ArrowRight':\r\n      return {clientX: stepSize, clientY: 0};\r\n    case 'ArrowDown':\r\n      return {clientX: 0, clientY: stepSize};\r\n    case 'ArrowLeft':\r\n    default:\r\n      return {clientX: stepSize * -1, clientY: 0};\r\n  }\r\n}\r\n","/*\r\n * Hermite resize - fast image resize/resample using Hermite filter.\r\n * https://github.com/viliusle/Hermite-resize\r\n */\r\n\r\nexport function resizeCanvas(canvas: HTMLCanvasElement, width: number, height: number) {\r\n  const width_source = canvas.width;\r\n  const height_source = canvas.height;\r\n  width = Math.round(width);\r\n  height = Math.round(height);\r\n\r\n  const ratio_w = width_source / width;\r\n  const ratio_h = height_source / height;\r\n  const ratio_w_half = Math.ceil(ratio_w / 2);\r\n  const ratio_h_half = Math.ceil(ratio_h / 2);\r\n\r\n  const ctx = canvas.getContext('2d');\r\n  if (ctx) {\r\n    const img = ctx.getImageData(0, 0, width_source, height_source);\r\n    const img2 = ctx.createImageData(width, height);\r\n    const data = img.data;\r\n    const data2 = img2.data;\r\n\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const x2 = (i + j * width) * 4;\r\n        const center_y = j * ratio_h;\r\n        let weight = 0;\r\n        let weights = 0;\r\n        let weights_alpha = 0;\r\n        let gx_r = 0;\r\n        let gx_g = 0;\r\n        let gx_b = 0;\r\n        let gx_a = 0;\r\n\r\n        const xx_start = Math.floor(i * ratio_w);\r\n        const yy_start = Math.floor(j * ratio_h);\r\n        let xx_stop = Math.ceil((i + 1) * ratio_w);\r\n        let yy_stop = Math.ceil((j + 1) * ratio_h);\r\n        xx_stop = Math.min(xx_stop, width_source);\r\n        yy_stop = Math.min(yy_stop, height_source);\r\n\r\n        for (let yy = yy_start; yy < yy_stop; yy++) {\r\n          const dy = Math.abs(center_y - yy) / ratio_h_half;\r\n          const center_x = i * ratio_w;\r\n          const w0 = dy * dy; //pre-calc part of w\r\n          for (let xx = xx_start; xx < xx_stop; xx++) {\r\n            const dx = Math.abs(center_x - xx) / ratio_w_half;\r\n            const w = Math.sqrt(w0 + dx * dx);\r\n            if (w >= 1) {\r\n              //pixel too far\r\n              continue;\r\n            }\r\n            //hermite filter\r\n            weight = 2 * w * w * w - 3 * w * w + 1;\r\n            const pos_x = 4 * (xx + yy * width_source);\r\n            //alpha\r\n            gx_a += weight * data[pos_x + 3];\r\n            weights_alpha += weight;\r\n            //colors\r\n            if (data[pos_x + 3] < 255)\r\n              weight = weight * data[pos_x + 3] / 250;\r\n            gx_r += weight * data[pos_x];\r\n            gx_g += weight * data[pos_x + 1];\r\n            gx_b += weight * data[pos_x + 2];\r\n            weights += weight;\r\n          }\r\n        }\r\n        data2[x2] = gx_r / weights;\r\n        data2[x2 + 1] = gx_g / weights;\r\n        data2[x2 + 2] = gx_b / weights;\r\n        data2[x2 + 3] = gx_a / weights_alpha;\r\n      }\r\n    }\r\n\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    //draw\r\n    ctx.putImageData(img2, 0, 0);\r\n  }\r\n}\r\n","import { ElementRef, Injectable } from '@angular/core';\r\nimport { CropperSettings } from '../interfaces/cropper.settings';\r\nimport { CropperPosition, ImageCroppedEvent, LoadedImage } from '../interfaces';\r\nimport { resizeCanvas } from '../utils/resize.utils';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class CropService {\r\n\r\n  crop(sourceImage: ElementRef, loadedImage: LoadedImage, cropper: CropperPosition, settings: CropperSettings): ImageCroppedEvent | null {\r\n    const imagePosition = this.getImagePosition(sourceImage, loadedImage, cropper, settings);\r\n    const width = imagePosition.x2 - imagePosition.x1;\r\n    const height = imagePosition.y2 - imagePosition.y1;\r\n    const cropCanvas = document.createElement('canvas') as HTMLCanvasElement;\r\n    cropCanvas.width = width;\r\n    cropCanvas.height = height;\r\n\r\n    const ctx = cropCanvas.getContext('2d');\r\n    if (!ctx) {\r\n      return;\r\n    }\r\n    if (settings.backgroundColor != null) {\r\n      ctx.fillStyle = settings.backgroundColor;\r\n      ctx.fillRect(0, 0, width, height);\r\n    }\r\n\r\n    const scaleX = (settings.transform.scale || 1) * (settings.transform.flipH ? -1 : 1);\r\n    const scaleY = (settings.transform.scale || 1) * (settings.transform.flipV ? -1 : 1);\r\n\r\n    const transformedImage = loadedImage.transformed;\r\n    ctx.setTransform(scaleX, 0, 0, scaleY, transformedImage.size.width / 2, transformedImage.size.height / 2);\r\n    ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\r\n    ctx.rotate((settings.transform.rotate || 0) * Math.PI / 180);\r\n    ctx.drawImage(transformedImage.image, -transformedImage.size.width / 2, -transformedImage.size.height / 2);\r\n\r\n    const output: ImageCroppedEvent = {\r\n      width, height,\r\n      imagePosition,\r\n      cropperPosition: {...cropper}\r\n    };\r\n    if (settings.containWithinAspectRatio) {\r\n      output.offsetImagePosition = this.getOffsetImagePosition(sourceImage, loadedImage, cropper, settings);\r\n    }\r\n    const resizeRatio = this.getResizeRatio(width, height, settings);\r\n    if (resizeRatio !== 1) {\r\n      output.width = Math.round(width * resizeRatio);\r\n      output.height = settings.maintainAspectRatio\r\n        ? Math.round(output.width / settings.aspectRatio)\r\n        : Math.round(height * resizeRatio);\r\n      resizeCanvas(cropCanvas, output.width, output.height);\r\n    }\r\n    output.base64 = cropCanvas.toDataURL('image/' + settings.format, this.getQuality(settings));\r\n    return output;\r\n  }\r\n\r\n  private getImagePosition(sourceImage: ElementRef, loadedImage: LoadedImage, cropper: CropperPosition, settings: CropperSettings): CropperPosition {\r\n    const sourceImageElement = sourceImage.nativeElement;\r\n    const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\r\n\r\n    const out: CropperPosition = {\r\n      x1: Math.round(cropper.x1 * ratio),\r\n      y1: Math.round(cropper.y1 * ratio),\r\n      x2: Math.round(cropper.x2 * ratio),\r\n      y2: Math.round(cropper.y2 * ratio)\r\n    };\r\n\r\n    if (!settings.containWithinAspectRatio) {\r\n      out.x1 = Math.max(out.x1, 0);\r\n      out.y1 = Math.max(out.y1, 0);\r\n      out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\r\n      out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  private getOffsetImagePosition(sourceImage: ElementRef, loadedImage: LoadedImage, cropper: CropperPosition, settings: CropperSettings): CropperPosition {\r\n    const canvasRotation = settings.canvasRotation + loadedImage.exifTransform.rotate;\r\n    const sourceImageElement = sourceImage.nativeElement;\r\n    const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\r\n    let offsetX: number;\r\n    let offsetY: number;\r\n\r\n    if (canvasRotation % 2) {\r\n      offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.height) / 2;\r\n      offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.width) / 2;\r\n    } else {\r\n      offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.width) / 2;\r\n      offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.height) / 2;\r\n    }\r\n\r\n    const out: CropperPosition = {\r\n      x1: Math.round(cropper.x1 * ratio) - offsetX,\r\n      y1: Math.round(cropper.y1 * ratio) - offsetY,\r\n      x2: Math.round(cropper.x2 * ratio) - offsetX,\r\n      y2: Math.round(cropper.y2 * ratio) - offsetY\r\n    };\r\n\r\n    if (!settings.containWithinAspectRatio) {\r\n      out.x1 = Math.max(out.x1, 0);\r\n      out.y1 = Math.max(out.y1, 0);\r\n      out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\r\n      out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  getResizeRatio(width: number, height: number, settings: CropperSettings): number {\r\n    const ratioWidth = settings.resizeToWidth / width;\r\n    const ratioHeight = settings.resizeToHeight / height;\r\n    const ratios = new Array<number>();\r\n\r\n    if (settings.resizeToWidth > 0) {\r\n      ratios.push(ratioWidth);\r\n    }\r\n    if (settings.resizeToHeight > 0) {\r\n      ratios.push(ratioHeight);\r\n    }\r\n\r\n    const result = ratios.length === 0 ? 1 : Math.min(...ratios);\r\n\r\n    if (result > 1 && !settings.onlyScaleDown) {\r\n      return result;\r\n    }\r\n    return Math.min(result, 1);\r\n  }\r\n\r\n  getQuality(settings: CropperSettings): number {\r\n    return Math.min(1, Math.max(0, settings.imageQuality / 100));\r\n  }\r\n}\r\n","import { ElementRef, Injectable } from '@angular/core';\r\nimport { CropperPosition, Dimensions, MoveStart } from '../interfaces';\r\nimport { CropperSettings } from '../interfaces/cropper.settings';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class CropperPositionService {\r\n\r\n  resetCropperPosition(sourceImage: ElementRef, cropperPosition: CropperPosition, settings: CropperSettings): void {\r\n    if (!sourceImage?.nativeElement) {\r\n      return;\r\n    }\r\n    const sourceImageElement = sourceImage.nativeElement;\r\n    if (settings.cropperStaticHeight && settings.cropperStaticWidth) {\r\n      cropperPosition.x1 = 0;\r\n      cropperPosition.x2 = sourceImageElement.offsetWidth > settings.cropperStaticWidth ?\r\n        settings.cropperStaticWidth : sourceImageElement.offsetWidth;\r\n      cropperPosition.y1 = 0;\r\n      cropperPosition.y2 = sourceImageElement.offsetHeight > settings.cropperStaticHeight ?\r\n        settings.cropperStaticHeight : sourceImageElement.offsetHeight;\r\n    } else {\r\n      const cropperWidth = Math.min(settings.cropperScaledMaxWidth, sourceImageElement.offsetWidth);\r\n      const cropperHeight = Math.min(settings.cropperScaledMaxHeight, sourceImageElement.offsetHeight);\r\n      if (!settings.maintainAspectRatio) {\r\n        cropperPosition.x1 = 0;\r\n        cropperPosition.x2 = cropperWidth;\r\n        cropperPosition.y1 = 0;\r\n        cropperPosition.y2 = cropperHeight;\r\n      } else if (cropperWidth / settings.aspectRatio < cropperHeight) {\r\n        cropperPosition.x1 = 0;\r\n        cropperPosition.x2 = cropperWidth;\r\n        const cropperHeightWithAspectRatio = cropperWidth / settings.aspectRatio;\r\n        cropperPosition.y1 = (sourceImageElement.offsetHeight - cropperHeightWithAspectRatio) / 2;\r\n        cropperPosition.y2 = cropperPosition.y1 + cropperHeightWithAspectRatio;\r\n      } else {\r\n        cropperPosition.y1 = 0;\r\n        cropperPosition.y2 = cropperHeight;\r\n        const cropperWidthWithAspectRatio = cropperHeight * settings.aspectRatio;\r\n        cropperPosition.x1 = (sourceImageElement.offsetWidth - cropperWidthWithAspectRatio) / 2;\r\n        cropperPosition.x2 = cropperPosition.x1 + cropperWidthWithAspectRatio;\r\n      }\r\n    }\r\n  }\r\n\r\n  move(event: any, moveStart: MoveStart, cropperPosition: CropperPosition) {\r\n    const diffX = this.getClientX(event) - moveStart.clientX;\r\n    const diffY = this.getClientY(event) - moveStart.clientY;\r\n\r\n    cropperPosition.x1 = moveStart.x1 + diffX;\r\n    cropperPosition.y1 = moveStart.y1 + diffY;\r\n    cropperPosition.x2 = moveStart.x2 + diffX;\r\n    cropperPosition.y2 = moveStart.y2 + diffY;\r\n  }\r\n\r\n  resize(event: any, moveStart: MoveStart, cropperPosition: CropperPosition, maxSize: Dimensions, settings: CropperSettings): void {\r\n    const moveX = this.getClientX(event) - moveStart.clientX;\r\n    const moveY = this.getClientY(event) - moveStart.clientY;\r\n    switch (moveStart.position) {\r\n      case 'left':\r\n        cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth),\r\n          cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n        break;\r\n      case 'topleft':\r\n        cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth),\r\n          cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n        cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight),\r\n          cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'top':\r\n        cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight),\r\n          cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'topright':\r\n        cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth),\r\n          cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n        cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight),\r\n          cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'right':\r\n        cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth),\r\n          cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n        break;\r\n      case 'bottomright':\r\n        cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth),\r\n          cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n        cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight),\r\n          cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'bottom':\r\n        cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight),\r\n          cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'bottomleft':\r\n        cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth),\r\n          cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n        cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight),\r\n          cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'center':\r\n        const scale = event.scale;\r\n        const newWidth = Math.min(\r\n          Math.max(settings.cropperScaledMinWidth, (Math.abs(moveStart.x2 - moveStart.x1)) * scale),\r\n          settings.cropperScaledMaxWidth);\r\n        const newHeight = Math.min(\r\n          Math.max(settings.cropperScaledMinHeight, (Math.abs(moveStart.y2 - moveStart.y1)) * scale),\r\n          settings.cropperScaledMaxHeight);\r\n        cropperPosition.x1 = moveStart.clientX - newWidth / 2;\r\n        cropperPosition.x2 = moveStart.clientX + newWidth / 2;\r\n        cropperPosition.y1 = moveStart.clientY - newHeight / 2;\r\n        cropperPosition.y2 = moveStart.clientY + newHeight / 2;\r\n        if (cropperPosition.x1 < 0) {\r\n          cropperPosition.x2 -= cropperPosition.x1;\r\n          cropperPosition.x1 = 0;\r\n        } else if (cropperPosition.x2 > maxSize.width) {\r\n          cropperPosition.x1 -= (cropperPosition.x2 - maxSize.width);\r\n          cropperPosition.x2 = maxSize.width;\r\n        }\r\n        if (cropperPosition.y1 < 0) {\r\n          cropperPosition.y2 -= cropperPosition.y1;\r\n          cropperPosition.y1 = 0;\r\n        } else if (cropperPosition.y2 > maxSize.height) {\r\n          cropperPosition.y1 -= (cropperPosition.y2 - maxSize.height);\r\n          cropperPosition.y2 = maxSize.height;\r\n        }\r\n        break;\r\n    }\r\n\r\n    if (settings.maintainAspectRatio) {\r\n      this.checkAspectRatio(moveStart.position, cropperPosition, maxSize, settings);\r\n    }\r\n  }\r\n\r\n  checkAspectRatio(position: string, cropperPosition: CropperPosition, maxSize: Dimensions, settings: CropperSettings): void {\r\n    let overflowX = 0;\r\n    let overflowY = 0;\r\n\r\n    switch (position) {\r\n      case 'top':\r\n        cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n        overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'bottom':\r\n        cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n        overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : (overflowX / settings.aspectRatio);\r\n        }\r\n        break;\r\n      case 'topleft':\r\n        cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        overflowX = Math.max(0 - cropperPosition.x1, 0);\r\n        overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'topright':\r\n        cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'right':\r\n      case 'bottomright':\r\n        cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'left':\r\n      case 'bottomleft':\r\n        cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        overflowX = Math.max(0 - cropperPosition.x1, 0);\r\n        overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'center':\r\n        cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n        cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        const overflowX1 = Math.max(0 - cropperPosition.x1, 0);\r\n        const overflowX2 = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        const overflowY1 = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n        const overflowY2 = Math.max(0 - cropperPosition.y1, 0);\r\n        if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\r\n          cropperPosition.x1 += (overflowY1 * settings.aspectRatio) > overflowX1 ? (overflowY1 * settings.aspectRatio) : overflowX1;\r\n          cropperPosition.x2 -= (overflowY2 * settings.aspectRatio) > overflowX2 ? (overflowY2 * settings.aspectRatio) : overflowX2;\r\n          cropperPosition.y1 += (overflowY2 * settings.aspectRatio) > overflowX2 ? overflowY2 : overflowX2 / settings.aspectRatio;\r\n          cropperPosition.y2 -= (overflowY1 * settings.aspectRatio) > overflowX1 ? overflowY1 : overflowX1 / settings.aspectRatio;\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  getClientX(event: any): number {\r\n    return (event.touches && event.touches[0] ? event.touches[0].clientX : event.clientX) || 0;\r\n  }\r\n\r\n  getClientY(event: any): number {\r\n    return (event.touches && event.touches[0] ? event.touches[0].clientY : event.clientY) || 0;\r\n  }\r\n}\r\n","import { ExifTransform } from '../interfaces/exif-transform.interface';\r\n\r\n// Black 2x1 JPEG, with the following meta information set:\r\n// - EXIF Orientation: 6 (Rotated 90° CCW)\r\n// Source: https://github.com/blueimp/JavaScript-Load-Image\r\nconst testAutoOrientationImageURL =\r\n  'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\r\n  'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\r\n  'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\r\n  'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\r\n  'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\r\n  'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\r\n\r\nexport function supportsAutomaticRotation(): Promise<boolean> {\r\n  return new Promise((resolve) => {\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      // Check if browser supports automatic image orientation:\r\n      const supported = img.width === 1 && img.height === 2;\r\n      resolve(supported);\r\n    };\r\n    img.src = testAutoOrientationImageURL;\r\n  });\r\n}\r\n\r\nexport function getTransformationsFromExifData(exifRotationOrBase64Image: number | string): ExifTransform {\r\n  if (typeof exifRotationOrBase64Image === 'string') {\r\n    exifRotationOrBase64Image = getExifRotation(exifRotationOrBase64Image);\r\n  }\r\n  switch (exifRotationOrBase64Image) {\r\n    case 2:\r\n      return {rotate: 0, flip: true};\r\n    case 3:\r\n      return {rotate: 2, flip: false};\r\n    case 4:\r\n      return {rotate: 2, flip: true};\r\n    case 5:\r\n      return {rotate: 1, flip: true};\r\n    case 6:\r\n      return {rotate: 1, flip: false};\r\n    case 7:\r\n      return {rotate: 3, flip: true};\r\n    case 8:\r\n      return {rotate: 3, flip: false};\r\n    default:\r\n      return {rotate: 0, flip: false};\r\n  }\r\n}\r\n\r\nfunction getExifRotation(imageBase64: string): number {\r\n  const view = new DataView(base64ToArrayBuffer(imageBase64));\r\n  if (view.getUint16(0, false) != 0xFFD8) {\r\n    return -2;\r\n  }\r\n  const length = view.byteLength;\r\n  let offset = 2;\r\n  while (offset < length) {\r\n    if (view.getUint16(offset + 2, false) <= 8) return -1;\r\n    const marker = view.getUint16(offset, false);\r\n    offset += 2;\r\n    if (marker == 0xFFE1) {\r\n      if (view.getUint32(offset += 2, false) != 0x45786966) {\r\n        return -1;\r\n      }\r\n\r\n      const little = view.getUint16(offset += 6, false) == 0x4949;\r\n      offset += view.getUint32(offset + 4, little);\r\n      const tags = view.getUint16(offset, little);\r\n      offset += 2;\r\n      for (let i = 0; i < tags; i++) {\r\n        if (view.getUint16(offset + (i * 12), little) == 0x0112) {\r\n          return view.getUint16(offset + (i * 12) + 8, little);\r\n        }\r\n      }\r\n    } else if ((marker & 0xFF00) != 0xFF00) {\r\n      break;\r\n    } else {\r\n      offset += view.getUint16(offset, false);\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nfunction base64ToArrayBuffer(imageBase64: string) {\r\n  imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\r\n  const binaryString = atob(imageBase64);\r\n  const len = binaryString.length;\r\n  const bytes = new Uint8Array(len);\r\n  for (let i = 0; i < len; i++) {\r\n    bytes[i] = binaryString.charCodeAt(i);\r\n  }\r\n  return bytes.buffer;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Dimensions, LoadedImage } from '../interfaces';\r\nimport { CropperSettings } from '../interfaces/cropper.settings';\r\nimport { ExifTransform } from '../interfaces/exif-transform.interface';\r\nimport { getTransformationsFromExifData, supportsAutomaticRotation } from '../utils/exif.utils';\r\n\r\ninterface LoadImageBase64 {\r\n  originalImage: HTMLImageElement;\r\n  originalBase64: string;\r\n}\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class LoadImageService {\r\n\r\n  private autoRotateSupported: Promise<boolean> = supportsAutomaticRotation();\r\n\r\n  loadImageFile(file: File, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    return new Promise((resolve, reject) => {\r\n      const fileReader = new FileReader();\r\n      fileReader.onload = (event: any) => {\r\n        this.loadImage(event.target.result, file.type, cropperSettings)\r\n          .then(resolve)\r\n          .catch(reject);\r\n      };\r\n      fileReader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  private loadImage(imageBase64: string, imageType: string, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    if (!this.isValidImageType(imageType)) {\r\n      return Promise.reject(new Error('Invalid image type'));\r\n    }\r\n    return this.loadBase64Image(imageBase64, cropperSettings);\r\n  }\r\n\r\n  private isValidImageType(type: string): boolean {\r\n    return /image\\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(type);\r\n  }\r\n\r\n  loadImageFromURL(url: string, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    return new Promise((resolve, reject) => {\r\n      const img = new Image();\r\n      img.onerror = () => reject;\r\n      img.onload = () => {\r\n        const canvas = document.createElement('canvas');\r\n        const context = canvas.getContext('2d');\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n        context.drawImage(img, 0, 0);\r\n        this.loadBase64Image(canvas.toDataURL(), cropperSettings).then(resolve);\r\n      };\r\n      img.crossOrigin = 'anonymous';\r\n      img.src = url;\r\n    });\r\n  }\r\n\r\n  loadBase64Image(imageBase64: string, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    return new Promise<LoadImageBase64>((resolve, reject) => {\r\n      const originalImage = new Image();\r\n      originalImage.onload = () => resolve({\r\n        originalImage,\r\n        originalBase64: imageBase64\r\n      });\r\n      originalImage.onerror = reject;\r\n      originalImage.src = imageBase64;\r\n    }).then((res: LoadImageBase64) => this.transformImageBase64(res, cropperSettings));\r\n  }\r\n\r\n  private async transformImageBase64(res: LoadImageBase64, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    const autoRotate = await this.autoRotateSupported;\r\n    const exifTransform = await getTransformationsFromExifData(autoRotate ? -1 : res.originalBase64);\r\n    if (!res.originalImage || !res.originalImage.complete) {\r\n      return Promise.reject(new Error('No image loaded'));\r\n    }\r\n    const loadedImage = {\r\n      original: {\r\n        base64: res.originalBase64,\r\n        image: res.originalImage,\r\n        size: {\r\n          width: res.originalImage.naturalWidth,\r\n          height: res.originalImage.naturalHeight\r\n        }\r\n      },\r\n      exifTransform\r\n    };\r\n    return this.transformLoadedImage(loadedImage, cropperSettings);\r\n  }\r\n\r\n  async transformLoadedImage(loadedImage: Partial<LoadedImage>, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    const canvasRotation = cropperSettings.canvasRotation + loadedImage.exifTransform.rotate;\r\n    const originalSize = {\r\n      width: loadedImage.original.image.naturalWidth,\r\n      height: loadedImage.original.image.naturalHeight\r\n    };\r\n    if (canvasRotation === 0 && !loadedImage.exifTransform.flip && !cropperSettings.containWithinAspectRatio) {\r\n      return {\r\n        original: {\r\n          base64: loadedImage.original.base64,\r\n          image: loadedImage.original.image,\r\n          size: {...originalSize}\r\n        },\r\n        transformed: {\r\n          base64: loadedImage.original.base64,\r\n          image: loadedImage.original.image,\r\n          size: {...originalSize}\r\n        },\r\n        exifTransform: loadedImage.exifTransform\r\n      };\r\n    }\r\n\r\n    const transformedSize = this.getTransformedSize(originalSize, loadedImage.exifTransform, cropperSettings);\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = transformedSize.width;\r\n    canvas.height = transformedSize.height;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.setTransform(\r\n      loadedImage.exifTransform.flip ? -1 : 1,\r\n      0,\r\n      0,\r\n      1,\r\n      canvas.width / 2,\r\n      canvas.height / 2\r\n    );\r\n    ctx.rotate(Math.PI * (canvasRotation / 2));\r\n    ctx.drawImage(\r\n      loadedImage.original.image,\r\n      -originalSize.width / 2,\r\n      -originalSize.height / 2\r\n    );\r\n    const transformedBase64 = canvas.toDataURL();\r\n    const transformedImage = await this.loadImageFromBase64(transformedBase64);\r\n    return {\r\n      original: {\r\n        base64: loadedImage.original.base64,\r\n        image: loadedImage.original.image,\r\n        size: {...originalSize}\r\n      },\r\n      transformed: {\r\n        base64: transformedBase64,\r\n        image: transformedImage,\r\n        size: {\r\n          width: transformedImage.width,\r\n          height: transformedImage.height\r\n        }\r\n      },\r\n      exifTransform: loadedImage.exifTransform\r\n    };\r\n  }\r\n\r\n  private loadImageFromBase64(imageBase64: string): Promise<HTMLImageElement> {\r\n    return new Promise<HTMLImageElement>(((resolve, reject) => {\r\n      const image = new Image();\r\n      image.onload = () => resolve(image);\r\n      image.onerror = reject;\r\n      image.src = imageBase64;\r\n    }));\r\n  }\r\n\r\n  private getTransformedSize(\r\n    originalSize: { width: number, height: number },\r\n    exifTransform: ExifTransform,\r\n    cropperSettings: CropperSettings\r\n  ): Dimensions {\r\n    const canvasRotation = cropperSettings.canvasRotation + exifTransform.rotate;\r\n    if (cropperSettings.containWithinAspectRatio) {\r\n      if (canvasRotation % 2) {\r\n        const minWidthToContain = originalSize.width * cropperSettings.aspectRatio;\r\n        const minHeightToContain = originalSize.height / cropperSettings.aspectRatio;\r\n        return {\r\n          width: Math.max(originalSize.height, minWidthToContain),\r\n          height: Math.max(originalSize.width, minHeightToContain)\r\n        };\r\n      } else {\r\n        const minWidthToContain = originalSize.height * cropperSettings.aspectRatio;\r\n        const minHeightToContain = originalSize.width / cropperSettings.aspectRatio;\r\n        return {\r\n          width: Math.max(originalSize.width, minWidthToContain),\r\n          height: Math.max(originalSize.height, minHeightToContain)\r\n        };\r\n      }\r\n    }\r\n\r\n    if (canvasRotation % 2) {\r\n      return {\r\n        height: originalSize.width,\r\n        width: originalSize.height\r\n      };\r\n    }\r\n    return {\r\n      width: originalSize.width,\r\n      height: originalSize.height\r\n    };\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  isDevMode,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { DomSanitizer, SafeStyle, SafeUrl } from '@angular/platform-browser';\r\nimport { CropperPosition, Dimensions, ImageCroppedEvent, ImageTransform, LoadedImage, MoveStart } from '../interfaces';\r\nimport { MoveTypes } from '../interfaces/move-start.interface';\r\nimport { HammerStatic } from '../utils/hammer.utils';\r\nimport { CropService } from '../services/crop.service';\r\nimport { CropperSettings } from '../interfaces/cropper.settings';\r\nimport { LoadImageService } from '../services/load-image.service';\r\nimport { OutputFormat } from '../interfaces/cropper-options.interface';\r\nimport { CropperPositionService } from '../services/cropper-position.service';\r\nimport { getEventForKey, getInvertedPositionForKey, getPositionForKey } from '../utils/keyboard.utils';\r\n\r\n@Component({\r\n  selector: 'image-cropper',\r\n  templateUrl: './image-cropper.component.html',\r\n  styleUrls: ['./image-cropper.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ImageCropperComponent implements OnChanges, OnInit {\r\n  private Hammer: HammerStatic = typeof window !== 'undefined'\r\n    ? (window as any).Hammer as HammerStatic\r\n    : null;\r\n  private settings = new CropperSettings();\r\n  private setImageMaxSizeRetries = 0;\r\n  private moveStart: MoveStart;\r\n  private loadedImage: LoadedImage;\r\n\r\n  safeImgDataUrl: SafeUrl | string;\r\n  safeTransformStyle: SafeStyle | string;\r\n  marginLeft: SafeStyle | string = '0px';\r\n  maxSize: Dimensions;\r\n  moveTypes = MoveTypes;\r\n  imageVisible = false;\r\n\r\n  @ViewChild('wrapper', {static: true}) wrapper: ElementRef<HTMLDivElement>;\r\n  @ViewChild('sourceImage', {static: false}) sourceImage: ElementRef<HTMLDivElement>;\r\n\r\n  @Input() imageChangedEvent: any;\r\n  @Input() imageURL: string;\r\n  @Input() imageBase64: string;\r\n  @Input() imageFile: File;\r\n\r\n  @Input() format: OutputFormat = this.settings.format;\r\n  @Input() transform: ImageTransform = {};\r\n  @Input() maintainAspectRatio = this.settings.maintainAspectRatio;\r\n  @Input() aspectRatio = this.settings.aspectRatio;\r\n  @Input() resizeToWidth = this.settings.resizeToWidth;\r\n  @Input() resizeToHeight = this.settings.resizeToHeight;\r\n  @Input() cropperMinWidth = this.settings.cropperMinWidth;\r\n  @Input() cropperMinHeight = this.settings.cropperMinHeight;\r\n  @Input() cropperMaxHeight = this.settings.cropperMaxHeight;\r\n  @Input() cropperMaxWidth = this.settings.cropperMaxWidth;\r\n  @Input() cropperStaticWidth = this.settings.cropperStaticWidth;\r\n  @Input() cropperStaticHeight = this.settings.cropperStaticHeight;\r\n  @Input() canvasRotation = this.settings.canvasRotation;\r\n  @Input() initialStepSize = this.settings.initialStepSize;\r\n  @Input() roundCropper = this.settings.roundCropper;\r\n  @Input() onlyScaleDown = this.settings.onlyScaleDown;\r\n  @Input() imageQuality = this.settings.imageQuality;\r\n  @Input() autoCrop = this.settings.autoCrop;\r\n  @Input() backgroundColor = this.settings.backgroundColor;\r\n  @Input() containWithinAspectRatio = this.settings.containWithinAspectRatio;\r\n  @Input() hideResizeSquares = this.settings.hideResizeSquares;\r\n  @Input() cropper: CropperPosition = {\r\n    x1: -100,\r\n    y1: -100,\r\n    x2: 10000,\r\n    y2: 10000\r\n  };\r\n  @HostBinding('style.text-align')\r\n  @Input() alignImage: 'left' | 'center' = this.settings.alignImage;\r\n  @HostBinding('class.disabled')\r\n  @Input() disabled = false;\r\n\r\n  @Output() imageCropped = new EventEmitter<ImageCroppedEvent>();\r\n  @Output() startCropImage = new EventEmitter<void>();\r\n  @Output() imageLoaded = new EventEmitter<LoadedImage>();\r\n  @Output() cropperReady = new EventEmitter<Dimensions>();\r\n  @Output() loadImageFailed = new EventEmitter<void>();\r\n\r\n  constructor(\r\n    private cropService: CropService,\r\n    private cropperPositionService: CropperPositionService,\r\n    private loadImageService: LoadImageService,\r\n    private sanitizer: DomSanitizer,\r\n    private cd: ChangeDetectorRef\r\n  ) {\r\n    this.reset();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.onChangesUpdateSettings(changes);\r\n    this.onChangesInputImage(changes);\r\n\r\n    if (this.loadedImage && this.loadedImage.original.image.complete\r\n      && (changes.containWithinAspectRatio || changes.canvasRotation)) {\r\n      this.loadImageService\r\n        .transformLoadedImage(this.loadedImage, this.settings)\r\n        .then((res) => this.setLoadedImage(res))\r\n        .catch((err) => this.loadImageError(err));\r\n    }\r\n    if (changes.cropper || changes.maintainAspectRatio || changes.aspectRatio) {\r\n      this.setMaxSize();\r\n      this.setCropperScaledMinSize();\r\n      this.setCropperScaledMaxSize();\r\n      if (this.maintainAspectRatio && (changes.maintainAspectRatio || changes.aspectRatio)) {\r\n        this.resetCropperPosition();\r\n      } else if (changes.cropper) {\r\n        this.checkCropperPosition(false);\r\n        this.doAutoCrop();\r\n      }\r\n      this.cd.markForCheck();\r\n    }\r\n    if (changes.transform) {\r\n      this.transform = this.transform || {};\r\n      this.setCssTransform();\r\n      this.doAutoCrop();\r\n    }\r\n  }\r\n\r\n  private onChangesUpdateSettings(changes: SimpleChanges) {\r\n    this.settings.setOptionsFromChanges(changes);\r\n\r\n    if (this.settings.cropperStaticHeight && this.settings.cropperStaticWidth) {\r\n      this.settings.setOptions({\r\n        hideResizeSquares: true,\r\n        cropperMinWidth: this.settings.cropperStaticWidth,\r\n        cropperMinHeight: this.settings.cropperStaticHeight,\r\n        cropperMaxHeight: this.settings.cropperStaticHeight,\r\n        cropperMaxWidth: this.settings.cropperStaticWidth,\r\n        maintainAspectRatio: false\r\n      });\r\n    }\r\n  }\r\n\r\n  private onChangesInputImage(changes: SimpleChanges): void {\r\n    if (changes.imageChangedEvent || changes.imageURL || changes.imageBase64 || changes.imageFile) {\r\n      this.reset();\r\n    }\r\n    if (changes.imageChangedEvent && this.isValidImageChangedEvent()) {\r\n      this.loadImageFile(this.imageChangedEvent.target.files[0]);\r\n    }\r\n    if (changes.imageURL && this.imageURL) {\r\n      this.loadImageFromURL(this.imageURL);\r\n    }\r\n    if (changes.imageBase64 && this.imageBase64) {\r\n      this.loadBase64Image(this.imageBase64);\r\n    }\r\n    if (changes.imageFile && this.imageFile) {\r\n      this.loadImageFile(this.imageFile);\r\n    }\r\n  }\r\n\r\n  private isValidImageChangedEvent(): boolean {\r\n    return this.imageChangedEvent\r\n      && this.imageChangedEvent.target\r\n      && this.imageChangedEvent.target.files\r\n      && this.imageChangedEvent.target.files.length > 0;\r\n  }\r\n\r\n  private setCssTransform() {\r\n    this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle(\r\n      'scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\r\n      'scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\r\n      'rotate(' + (this.transform.rotate || 0) + 'deg)'\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.settings.stepSize = this.initialStepSize;\r\n    this.activatePinchGesture();\r\n  }\r\n\r\n  private reset(): void {\r\n    this.imageVisible = false;\r\n    this.loadedImage = null;\r\n    this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\r\n      + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\r\n      + 'AAarVyFEAAAAASUVORK5CYII=';\r\n    this.moveStart = {\r\n      active: false,\r\n      type: null,\r\n      position: null,\r\n      x1: 0,\r\n      y1: 0,\r\n      x2: 0,\r\n      y2: 0,\r\n      clientX: 0,\r\n      clientY: 0\r\n    };\r\n    this.maxSize = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    this.cropper.x1 = -100;\r\n    this.cropper.y1 = -100;\r\n    this.cropper.x2 = 10000;\r\n    this.cropper.y2 = 10000;\r\n  }\r\n\r\n  private loadImageFile(file: File): void {\r\n    this.loadImageService\r\n      .loadImageFile(file, this.settings)\r\n      .then((res) => this.setLoadedImage(res))\r\n      .catch((err) => this.loadImageError(err));\r\n  }\r\n\r\n  private loadBase64Image(imageBase64: string): void {\r\n    this.loadImageService\r\n      .loadBase64Image(imageBase64, this.settings)\r\n      .then((res) => this.setLoadedImage(res))\r\n      .catch((err) => this.loadImageError(err));\r\n  }\r\n\r\n  private loadImageFromURL(url: string): void {\r\n    this.loadImageService\r\n      .loadImageFromURL(url, this.settings)\r\n      .then((res) => this.setLoadedImage(res))\r\n      .catch((err) => this.loadImageError(err));\r\n  }\r\n\r\n  private setLoadedImage(loadedImage: LoadedImage): void {\r\n    this.loadedImage = loadedImage;\r\n    this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(loadedImage.transformed.base64);\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  private loadImageError(error: any): void {\r\n    console.error(error);\r\n    this.loadImageFailed.emit();\r\n  }\r\n\r\n  imageLoadedInView(): void {\r\n    if (this.loadedImage != null) {\r\n      this.imageLoaded.emit(this.loadedImage);\r\n      this.setImageMaxSizeRetries = 0;\r\n      setTimeout(() => this.checkImageMaxSizeRecursively());\r\n    }\r\n  }\r\n\r\n  private checkImageMaxSizeRecursively(): void {\r\n    if (this.setImageMaxSizeRetries > 40) {\r\n      this.loadImageFailed.emit();\r\n    } else if (this.sourceImageLoaded()) {\r\n      this.setMaxSize();\r\n      this.setCropperScaledMinSize();\r\n      this.setCropperScaledMaxSize();\r\n      this.resetCropperPosition();\r\n      this.cropperReady.emit({...this.maxSize});\r\n      this.cd.markForCheck();\r\n    } else {\r\n      this.setImageMaxSizeRetries++;\r\n      setTimeout(() => this.checkImageMaxSizeRecursively(), 50);\r\n    }\r\n  }\r\n\r\n  private sourceImageLoaded(): boolean {\r\n    return this.sourceImage && this.sourceImage.nativeElement && this.sourceImage.nativeElement.offsetWidth > 0;\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  onResize(): void {\r\n    if (!this.loadedImage) {\r\n      return;\r\n    }\r\n    this.resizeCropperPosition();\r\n    this.setMaxSize();\r\n    this.setCropperScaledMinSize();\r\n    this.setCropperScaledMaxSize();\r\n  }\r\n\r\n  private activatePinchGesture() {\r\n    if (this.Hammer) {\r\n      const hammer = new this.Hammer(this.wrapper.nativeElement);\r\n      hammer.get('pinch').set({enable: true});\r\n      hammer.on('pinchmove', this.onPinch.bind(this));\r\n      hammer.on('pinchend', this.pinchStop.bind(this));\r\n      hammer.on('pinchstart', this.startPinch.bind(this));\r\n    } else if (isDevMode()) {\r\n      console.warn('[NgxImageCropper] Could not find HammerJS - Pinch Gesture won\\'t work');\r\n    }\r\n  }\r\n\r\n  private resizeCropperPosition(): void {\r\n    const sourceImageElement = this.sourceImage.nativeElement;\r\n    if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\r\n      this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\r\n      this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\r\n      this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\r\n      this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\r\n    }\r\n  }\r\n\r\n  resetCropperPosition(): void {\r\n    this.cropperPositionService.resetCropperPosition(this.sourceImage, this.cropper, this.settings);\r\n    this.doAutoCrop();\r\n    this.imageVisible = true;\r\n  }\r\n\r\n  keyboardAccess(event: any) {\r\n    this.changeKeyboardStepSize(event);\r\n    this.keyboardMoveCropper(event);\r\n  }\r\n\r\n  private changeKeyboardStepSize(event: any): void {\r\n    if (event.key >= '1' && event.key <= '9') {\r\n      this.settings.stepSize = +event.key;\r\n      return;\r\n    }\r\n  }\r\n\r\n  private keyboardMoveCropper(event) {\r\n    const keyboardWhiteList: string[] = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\r\n    if (!(keyboardWhiteList.includes(event.key))) {\r\n      return;\r\n    }\r\n    const moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\r\n    const position = event.altKey ? getInvertedPositionForKey(event.key) : getPositionForKey(event.key);\r\n    const moveEvent = getEventForKey(event.key, this.settings.stepSize);\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.startMove({clientX: 0, clientY: 0}, moveType, position);\r\n    this.moveImg(moveEvent);\r\n    this.moveStop();\r\n  }\r\n\r\n  startMove(event: any, moveType: MoveTypes, position: string | null = null): void {\r\n    if (this.moveStart && this.moveStart.active && this.moveStart.type === MoveTypes.Pinch) {\r\n      return;\r\n    }\r\n    if (event.preventDefault) {\r\n      event.preventDefault();\r\n    }\r\n    this.moveStart = {\r\n      active: true,\r\n      type: moveType,\r\n      position,\r\n      clientX: this.cropperPositionService.getClientX(event),\r\n      clientY: this.cropperPositionService.getClientY(event),\r\n      ...this.cropper\r\n    };\r\n  }\r\n\r\n  startPinch(event: any) {\r\n    if (!this.safeImgDataUrl) {\r\n      return;\r\n    }\r\n    if (event.preventDefault) {\r\n      event.preventDefault();\r\n    }\r\n    this.moveStart = {\r\n      active: true,\r\n      type: MoveTypes.Pinch,\r\n      position: 'center',\r\n      clientX: this.cropper.x1 + (this.cropper.x2 - this.cropper.x1) / 2,\r\n      clientY: this.cropper.y1 + (this.cropper.y2 - this.cropper.y1) / 2,\r\n      ...this.cropper\r\n    };\r\n  }\r\n\r\n  @HostListener('document:mousemove', ['$event'])\r\n  @HostListener('document:touchmove', ['$event'])\r\n  moveImg(event: any): void {\r\n    if (this.moveStart.active) {\r\n      if (event.stopPropagation) {\r\n        event.stopPropagation();\r\n      }\r\n      if (event.preventDefault) {\r\n        event.preventDefault();\r\n      }\r\n      if (this.moveStart.type === MoveTypes.Move) {\r\n        this.cropperPositionService.move(event, this.moveStart, this.cropper);\r\n        this.checkCropperPosition(true);\r\n      } else if (this.moveStart.type === MoveTypes.Resize) {\r\n        if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\r\n          this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\r\n        }\r\n        this.checkCropperPosition(false);\r\n      }\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n\r\n  onPinch(event: any) {\r\n    if (this.moveStart.active) {\r\n      if (event.stopPropagation) {\r\n        event.stopPropagation();\r\n      }\r\n      if (event.preventDefault) {\r\n        event.preventDefault();\r\n      }\r\n      if (this.moveStart.type === MoveTypes.Pinch) {\r\n        this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\r\n        this.checkCropperPosition(false);\r\n      }\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n\r\n  private setMaxSize(): void {\r\n    if (this.sourceImage) {\r\n      const sourceImageElement = this.sourceImage.nativeElement;\r\n      this.maxSize.width = sourceImageElement.offsetWidth;\r\n      this.maxSize.height = sourceImageElement.offsetHeight;\r\n      this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\r\n    }\r\n  }\r\n\r\n  private setCropperScaledMinSize(): void {\r\n    if (this.loadedImage && this.loadedImage.transformed && this.loadedImage.transformed.image) {\r\n      this.setCropperScaledMinWidth();\r\n      this.setCropperScaledMinHeight();\r\n    } else {\r\n      this.settings.cropperScaledMinWidth = 20;\r\n      this.settings.cropperScaledMinHeight = 20;\r\n    }\r\n  }\r\n\r\n  private setCropperScaledMinWidth(): void {\r\n    this.settings.cropperScaledMinWidth = this.cropperMinWidth > 0\r\n      ? Math.max(20, this.cropperMinWidth / this.loadedImage.transformed.image.width * this.maxSize.width)\r\n      : 20;\r\n  }\r\n\r\n  private setCropperScaledMinHeight(): void {\r\n    if (this.maintainAspectRatio) {\r\n      this.settings.cropperScaledMinHeight = Math.max(20, this.settings.cropperScaledMinWidth / this.aspectRatio);\r\n    } else if (this.cropperMinHeight > 0) {\r\n      this.settings.cropperScaledMinHeight = Math.max(\r\n        20,\r\n        this.cropperMinHeight / this.loadedImage.transformed.image.height * this.maxSize.height\r\n      );\r\n    } else {\r\n      this.settings.cropperScaledMinHeight = 20;\r\n    }\r\n  }\r\n\r\n  private setCropperScaledMaxSize(): void {\r\n    if (this.loadedImage && this.loadedImage.transformed && this.loadedImage.transformed.image) {\r\n      const ratio = this.loadedImage.transformed.size.width / this.maxSize.width;\r\n      this.settings.cropperScaledMaxWidth = this.cropperMaxWidth > 20 ? this.cropperMaxWidth / ratio : this.maxSize.width;\r\n      this.settings.cropperScaledMaxHeight = this.cropperMaxHeight > 20 ? this.cropperMaxHeight / ratio : this.maxSize.height;\r\n      if (this.maintainAspectRatio) {\r\n        if (this.settings.cropperScaledMaxWidth > this.settings.cropperScaledMaxHeight * this.aspectRatio) {\r\n          this.settings.cropperScaledMaxWidth = this.settings.cropperScaledMaxHeight * this.aspectRatio;\r\n        } else if (this.settings.cropperScaledMaxWidth < this.settings.cropperScaledMaxHeight * this.aspectRatio) {\r\n          this.settings.cropperScaledMaxHeight = this.settings.cropperScaledMaxWidth / this.aspectRatio;\r\n        }\r\n      }\r\n    } else {\r\n      this.settings.cropperScaledMaxWidth = this.maxSize.width;\r\n      this.settings.cropperScaledMaxHeight = this.maxSize.height;\r\n    }\r\n  }\r\n\r\n  private checkCropperPosition(maintainSize = false): void {\r\n    if (this.cropper.x1 < 0) {\r\n      this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\r\n      this.cropper.x1 = 0;\r\n    }\r\n    if (this.cropper.y1 < 0) {\r\n      this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\r\n      this.cropper.y1 = 0;\r\n    }\r\n    if (this.cropper.x2 > this.maxSize.width) {\r\n      this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\r\n      this.cropper.x2 = this.maxSize.width;\r\n    }\r\n    if (this.cropper.y2 > this.maxSize.height) {\r\n      this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\r\n      this.cropper.y2 = this.maxSize.height;\r\n    }\r\n  }\r\n\r\n  @HostListener('document:mouseup')\r\n  @HostListener('document:touchend')\r\n  moveStop(): void {\r\n    if (this.moveStart.active) {\r\n      this.moveStart.active = false;\r\n      this.doAutoCrop();\r\n    }\r\n  }\r\n\r\n  pinchStop(): void {\r\n    if (this.moveStart.active) {\r\n      this.moveStart.active = false;\r\n      this.doAutoCrop();\r\n    }\r\n  }\r\n\r\n  private doAutoCrop(): void {\r\n    if (this.autoCrop) {\r\n      this.crop();\r\n    }\r\n  }\r\n\r\n  crop(): ImageCroppedEvent | null {\r\n    if (this.sourceImage && this.sourceImage.nativeElement && this.loadedImage.transformed.image != null) {\r\n      this.startCropImage.emit();\r\n      const output = this.cropService.crop(this.sourceImage, this.loadedImage, this.cropper, this.settings);\r\n      if (output != null) {\r\n        this.imageCropped.emit(output);\r\n      }\r\n      return output;\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","<div [style.background]=\"imageVisible && backgroundColor\"\r\n     #wrapper\r\n>\r\n    <img\r\n      #sourceImage\r\n      class=\"source-image\"\r\n      *ngIf=\"safeImgDataUrl\"\r\n      [src]=\"safeImgDataUrl\"\r\n      [style.visibility]=\"imageVisible ? 'visible' : 'hidden'\"\r\n      [style.transform]=\"safeTransformStyle\"\r\n      (load)=\"imageLoadedInView()\"\r\n    />\r\n    <div\r\n        class=\"overlay\"\r\n        [style.width.px]=\"maxSize.width\"\r\n        [style.height.px]=\"maxSize.height\"\r\n        [style.margin-left]=\"alignImage === 'center' ? marginLeft : null\"\r\n    ></div>\r\n    <div class=\"cropper\"\r\n         *ngIf=\"imageVisible\"\r\n         [class.rounded]=\"roundCropper\"\r\n         [style.top.px]=\"cropper.y1\"\r\n         [style.left.px]=\"cropper.x1\"\r\n         [style.width.px]=\"cropper.x2 - cropper.x1\"\r\n         [style.height.px]=\"cropper.y2 - cropper.y1\"\r\n         [style.margin-left]=\"alignImage === 'center' ? marginLeft : null\"\r\n         [style.visibility]=\"imageVisible ? 'visible' : 'hidden'\"\r\n         (keydown)=\"keyboardAccess($event)\"\r\n         tabindex=\"0\"\r\n    >\r\n        <div\r\n            (mousedown)=\"startMove($event, moveTypes.Move)\"\r\n            (touchstart)=\"startMove($event, moveTypes.Move)\"\r\n            class=\"move\">\r\n        </div>\r\n        <ng-container *ngIf=\"!hideResizeSquares\">\r\n            <span class=\"resize topleft\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'topleft')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'topleft')\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize top\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize topright\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'topright')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'topright')\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize right\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize bottomright\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'bottomright')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'bottomright')\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize bottom\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize bottomleft\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'bottomleft')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'bottomleft')\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize left\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize-bar top\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'top')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'top')\">\r\n            </span>\r\n            <span class=\"resize-bar right\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'right')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'right')\">\r\n            </span>\r\n            <span class=\"resize-bar bottom\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'bottom')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'bottom')\">\r\n            </span>\r\n            <span class=\"resize-bar left\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'left')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'left')\">\r\n            </span>\r\n        </ng-container>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VImageField } from '../../models';\r\nimport { Dimensions, ImageCroppedEvent, ImageTransform } from './image-cropper/interfaces';\r\n\r\n@Component({\r\n  selector: 'app-image-field',\r\n  templateUrl: './v-image-field.component.html',\r\n  styleUrls: ['./v-image-field.component.scss']\r\n})\r\nexport class VImageFieldComponent implements OnInit {\r\n    @ViewChild('fileInput', {static: false}) fileInput: ElementRef;\r\n\r\n    field: VImageField;\r\n    group: FormGroup;\r\n    imageChangedEvent: any = '';\r\n    croppedImage: any = '';\r\n    canvasRotation = 0;\r\n    rotation = 0;\r\n    scale = 1;\r\n    showCropper = false;\r\n    containWithinAspectRatio = false;\r\n    transform: ImageTransform = {};\r\n\r\n    file: File;\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    fileChangeEvent(event: any): void {\r\n      this.imageChangedEvent = event;\r\n    }\r\n\r\n    imageCropped(event: ImageCroppedEvent) {\r\n        this.group.controls[this.field.name].setValue(event.base64);\r\n        this.group.controls[this.field.name].markAsTouched();\r\n    }\r\n\r\n    imageLoaded() {\r\n      this.showCropper = true;\r\n    }\r\n\r\n    cropperReady(sourceImageDimensions: Dimensions) {\r\n        // cropper ready\r\n    }\r\n\r\n    loadImageFailed() {\r\n        console.error('Fail to load image');\r\n    }\r\n\r\n    clearCropper() {\r\n      this.imageChangedEvent = '';\r\n      this.group.controls[this.field.name].setValue(null);\r\n      this.group.controls[this.field.name].markAsUntouched();\r\n      this.showCropper = false;\r\n    }\r\n\r\n    onUploadClick() {\r\n      this.fileInput.nativeElement.click();\r\n    }\r\n\r\n    rotateLeft() {\r\n      this.canvasRotation--;\r\n      this.flipAfterRotate();\r\n    }\r\n\r\n    rotateRight() {\r\n        this.canvasRotation++;\r\n        this.flipAfterRotate();\r\n    }\r\n\r\n    private flipAfterRotate() {\r\n        const flippedH = this.transform.flipH;\r\n        const flippedV = this.transform.flipV;\r\n        this.transform = {\r\n            ...this.transform,\r\n            flipH: flippedV,\r\n            flipV: flippedH\r\n        };\r\n    }\r\n\r\n\r\n  flipHorizontal() {\r\n      this.transform = {\r\n          ...this.transform,\r\n          flipH: !this.transform.flipH\r\n      };\r\n  }\r\n\r\n  flipVertical() {\r\n      this.transform = {\r\n          ...this.transform,\r\n          flipV: !this.transform.flipV\r\n      };\r\n  }\r\n\r\n  resetImage() {\r\n      this.scale = 1;\r\n      this.rotation = 0;\r\n      this.canvasRotation = 0;\r\n      this.transform = {};\r\n  }\r\n\r\n  zoomOut() {\r\n      this.scale -= .1;\r\n      this.transform = {\r\n          ...this.transform,\r\n          scale: this.scale\r\n      };\r\n  }\r\n\r\n  zoomIn() {\r\n      this.scale += .1;\r\n      this.transform = {\r\n          ...this.transform,\r\n          scale: this.scale\r\n      };\r\n  }\r\n\r\n  toggleContainWithinAspectRatio() {\r\n      this.containWithinAspectRatio = !this.containWithinAspectRatio;\r\n  }\r\n\r\n  updateRotation() {\r\n      this.transform = {\r\n          ...this.transform,\r\n          rotate: this.rotation\r\n      };\r\n  }\r\n}\r\n","<mat-card class=\"image-cropper\" [formGroup]=\"group\">\r\n    <mat-card-header>\r\n        <mat-card-title>{{field.label}}</mat-card-title>        \r\n        <div>\r\n            <button \r\n                mat-icon-button\r\n                color=\"accent\" \r\n                aria-label=\"Upload Image\"\r\n                matTooltip=\"Загрузить изображение\"\r\n                type=\"button\"\r\n                (click)=\"onUploadClick()\"\r\n            >\r\n                <mat-icon>cloud_download</mat-icon>\r\n            </button>\r\n            <button \r\n                mat-icon-button\r\n                color=\"warn\" \r\n                type=\"button\"\r\n                aria-label=\"Clear Image\"\r\n                matTooltip=\"Очистить\"\r\n                (click)=\"clearCropper()\"\r\n            >\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n        </div>  \r\n    </mat-card-header>\r\n    <mat-divider></mat-divider>\r\n    <div class=\"dashboard-container\">\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Zoom +\" (click)=\"zoomIn()\" [disabled]=\"!showCropper\" matTooltip=\"Увеличить\">\r\n            <mat-icon>add_circle_outline</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Zoom -\" (click)=\"zoomOut()\" [disabled]=\"!showCropper\" matTooltip=\"Уменьшить\">\r\n            <mat-icon>remove_circle_outline</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Rotate left\" (click)=\"rotateLeft()\" [disabled]=\"!showCropper\" matTooltip=\"Повернуть влево\">\r\n            <mat-icon>rotate_left</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Rotate right\" (click)=\"rotateRight()\" [disabled]=\"!showCropper\" matTooltip=\"Повернуть вправо\">\r\n            <mat-icon>rotate_right</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Flip horizontal\" (click)=\"flipHorizontal()\" [disabled]=\"!showCropper\" matTooltip=\"Отразить горизонтально\">\r\n            <mat-icon>border_vertical</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Flip vertical\" (click)=\"flipVertical()\" [disabled]=\"!showCropper\" matTooltip=\"Отразить вертикально\">\r\n            <mat-icon>border_horizontal</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Fill\" (click)=\"toggleContainWithinAspectRatio()\" [disabled]=\"!showCropper\" matTooltip=\"Замостить\">\r\n            <mat-icon *ngIf=\"!containWithinAspectRatio\">zoom_out_map</mat-icon>\r\n            <mat-icon *ngIf=\"containWithinAspectRatio\">fullscreen_exit</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Reset\" (click)=\"resetImage()\" [disabled]=\"!showCropper\" matTooltip=\"Сбросить преобразования\">\r\n            <mat-icon>cancel_presentation</mat-icon>\r\n        </button>\r\n    </div>\r\n    <mat-divider></mat-divider>\r\n    <mat-card-content>        \r\n        <input type=\"file\" #fileInput (change)=\"fileChangeEvent($event)\" style=\"display:none;\" />\r\n        <image-cropper\r\n            [imageChangedEvent]=\"imageChangedEvent\"\r\n            [maintainAspectRatio]=\"true\"\r\n            [containWithinAspectRatio]=\"containWithinAspectRatio\"\r\n            [aspectRatio] = \"field.imageAspectRatio\"\r\n            [resizeToWidth]=\"field.resizeToWidth\"\r\n            [cropperMinWidth] = \"128\"\r\n            [cropperMinHeight] = \"225\"\r\n            [onlyScaleDown]=\"true\"\r\n            [roundCropper]=\"false\"\r\n            [canvasRotation]=\"canvasRotation\"\r\n            [transform]=\"transform\"\r\n            [alignImage]=\"'center'\"\r\n            [style.display]=\"showCropper ? null : 'none'\"\r\n            format=\"png\"\r\n            (imageCropped)=\"imageCropped($event)\"\r\n            (imageLoaded)=\"imageLoaded()\"\r\n            (cropperReady)=\"cropperReady($event)\"\r\n            (loadImageFailed)=\"loadImageFailed()\"\r\n        ></image-cropper>\r\n    </mat-card-content>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { VImage } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-image',\r\n  templateUrl: './v-image.component.html',\r\n  styleUrls: ['./v-image.component.scss']\r\n})\r\nexport class VImageComponent implements OnInit {\r\n\r\n  field: VImage;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {    \r\n  }\r\n}\r\n","<div class=\"image-wrapper\">\r\n    <img [src]=\"field.url\" alt=\"\">\r\n</div>\r\n\r\n","import { Directive, HostListener } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\n\r\n\r\n@Directive({\r\n  selector: '[trim]'\r\n})\r\nexport class TrimDirective  {\r\n\r\n    constructor(private ngControl: NgControl){}\r\n\r\n    get ctrl() {\r\n       return this.ngControl.control;\r\n    }\r\n\r\n    @HostListener('blur')\r\n    onBlur() {\r\n      this.ctrl.value && this.ctrl.setValue(this.ctrl.value.trim());\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { VInputField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-input-field',\r\n  templateUrl: './v-input-field.component.html',\r\n  styleUrls: ['./v-input-field.component.scss']\r\n})\r\nexport class VInputFieldComponent implements OnInit {\r\n\r\n  field: VInputField;\r\n  group: FormGroup;\r\n\r\n  get control(): FormControl {\r\n    return this.group.get(this.field.name) as FormControl;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  clearField(): void {\r\n    this.control.setValue('');\r\n  }\r\n\r\n  actionClicked(event: any): void {\r\n    this.field.actionHandler(event);\r\n  }\r\n}\r\n","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <span *ngIf=\"field.prefix\" matPrefix>{{field.prefix}} &nbsp;</span>\r\n    <input \r\n        [type]=\"field.type\"\r\n        [formControlName]=\"field.name\"\r\n        [placeholder]=\"field.placeholder\"\r\n        [readonly]=\"field.readonly\"\r\n        matInput\r\n        trim\r\n    />\r\n\r\n    <mat-icon *ngIf=\"field.suffix && !field.actionButton\" matSuffix>{{field.suffix}}</mat-icon>\r\n\r\n    <button *ngIf=\"control.value && field.clearButton\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"clearField()\">\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n\r\n    <button *ngIf=\"field.actionButton\" matSuffix mat-icon-button (click)=\"actionClicked($event)\">\r\n        <mat-icon>{{field.suffix}}</mat-icon>\r\n    </button>\r\n\r\n    <mat-hint *ngIf=\"field.hint\">{{field.hint}}</mat-hint>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>   \r\n</mat-form-field>","import { Component, OnInit } from '@angular/core';\r\nimport { VLabel } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-label',\r\n  templateUrl: './v-label.component.html',\r\n  styleUrls: ['./v-label.component.scss']\r\n})\r\nexport class VLabelComponent implements OnInit {\r\n \r\n  field: VLabel;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<span *ngIf=\"!field.hidden\">{{field.text}}</span>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VList } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-list',\r\n  templateUrl: './v-list.component.html',\r\n  styleUrls: ['./v-list.component.scss']\r\n})\r\nexport class VListComponent implements OnInit {\r\n\r\n  field: VList;\r\n  group: FormGroup;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n}\r\n","<ng-container>\r\n  <ng-container>\r\n    <mat-selection-list [multiple]=\"field.multiple\">\r\n      <mat-list-option *ngFor=\"let option of field.options\" [value]=\"option.value\">\r\n        <mat-icon mat-list-icon *ngIf=\"option.data?.icon\">{{option.data?.icon}}</mat-icon>\r\n        <div mat-line>{{option.label}}</div>\r\n        <div mat-line *ngIf=\"option.data?.info\"> {{option.data?.info}} </div>\r\n        <mat-icon\r\n          mat-list-icon\r\n          (click)=\"field.editHandler(option.value)\"\r\n          *ngIf=\"field.editHandler\"\r\n          matTooltip=\"Редактировать\"\r\n          >\r\n          edit_note\r\n        </mat-icon>\r\n        <mat-icon\r\n          mat-list-icon\r\n          (click)=\"field.deleteHandler(option.value)\"\r\n          *ngIf=\"field.deleteHandler\"\r\n          matTooltip=\"Удалить\"\r\n          >\r\n          delete\r\n        </mat-icon>\r\n      </mat-list-option>\r\n    </mat-selection-list>\r\n  </ng-container>\r\n</ng-container>\r\n","import { Directive, HostListener, ElementRef, Input, OnInit } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\n\r\n@Directive({\r\n  selector: 'input[mask]'\r\n})\r\nexport class MaskDirective implements OnInit {\r\n  @Input() mask: string;\r\n\r\n  maskChar: string;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private ngControl: NgControl\r\n    ){}\r\n\r\n    ngOnInit(): void {\r\n      this.maskChar = this.mask ? this.getMaskChar() : null;\r\n    }\r\n\r\n    get ctrl() {\r\n       return this.ngControl.control;\r\n    }\r\n\r\n    @HostListener('keydown', ['$event'])\r\n    onKeyDown(event: KeyboardEvent): boolean {\r\n      const key = event.key;\r\n      return key.length > 1 || /\\d/.test(key);\r\n    }\r\n\r\n    @HostListener('keyup', ['$event'])\r\n    onKeyUp(event:KeyboardEvent): void {      \r\n      const keyCode = this.getCode(event);\r\n      if([37, 39].indexOf(keyCode) !== -1) return;\r\n      this.applyMask();\r\n    }\r\n\r\n    private applyMask(): void {\r\n      if(this.ctrl.value && this.mask) {\r\n        const value = this.ctrl.value.replace(/\\D/g, '');\r\n        \r\n        let newValue = this.mask,\r\n        cursorPos = this.getCursorPosition();\r\n\r\n        for (let i = 0; i < value.length; i++) {\r\n          const idx = newValue.indexOf(this.maskChar);\r\n          newValue = `${newValue.substring(0, idx)}${value[i]}${newValue.substring(idx+1, newValue.length)}`;\r\n        }\r\n\r\n        let idx = newValue.indexOf(this.maskChar);\r\n        if( idx !== -1 ) {      \r\n          newValue = newValue.substring(0, idx);\r\n        }\r\n\r\n        if(!/\\d/.test(newValue[cursorPos]) || cursorPos === 1) {\r\n            cursorPos++;\r\n        }\r\n\r\n        this.ctrl.setValue(newValue, { emitEvent: false });\r\n        this.setCursorPosition(cursorPos);\r\n      }  \r\n    }\r\n\r\n    private getMaskChar(): string {\r\n      const chars = {};\r\n      let maskChar:string, max = 0;\r\n\r\n      for (let i = 0; i < this.mask.length; i++) {\r\n        if(Object.keys(chars).indexOf(this.mask[i]) === -1) {\r\n          chars[this.mask[i]] = 1;\r\n        } else {\r\n          chars[this.mask[i]]++;\r\n        }\r\n        if(chars[this.mask[i]] > max)  {\r\n          max = chars[this.mask[i]];\r\n          maskChar = this.mask[i];\r\n        }\r\n      }\r\n      return maskChar\r\n    }\r\n\r\n    private getCursorPosition(): number {\r\n      return this.el.nativeElement.selectionStart;\r\n    }\r\n\r\n    private setCursorPosition(start: number, end: number = start): void {\r\n        this.el.nativeElement.setSelectionRange(start, end);\r\n    }\r\n\r\n    private getCode(event: KeyboardEvent): number {\r\n      return event.keyCode || event.charCode;\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { VMaskedField } from '../../models/v-masked-field.model';\r\n\r\n@Component({\r\n  selector: 'app-masked-field',\r\n  templateUrl: './v-masked-field.component.html',\r\n  styleUrls: ['./v-masked-field.component.scss']\r\n})\r\nexport class VMaskedFieldComponent implements OnInit {\r\n\r\n  field: VMaskedField;\r\n  group: FormGroup;\r\n\r\n  get control(): FormControl {\r\n    return this.group.get(this.field.name) as FormControl;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  clearField(): void {\r\n    this.control.setValue('');\r\n  }\r\n}\r\n","<mat-form-field [formGroup]=\"group\" [class]=\"{hidden:field.hidden}\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <span *ngIf=\"field.prefix\" matPrefix>{{field.prefix}} &nbsp;</span>\r\n    <input \r\n        type=\"text\"\r\n        [formControlName]=\"field.name\"\r\n        [placeholder]=\"field.mask\"\r\n        [maxlength]=\"field.mask?.length\"\r\n        [mask]=\"field.mask\"\r\n        matInput\r\n    />\r\n    <mat-icon *ngIf=\"field.suffix\" matSuffix>{{field.suffix}}</mat-icon>\r\n\r\n    <button *ngIf=\"control.value && field.clearButton\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"clearField()\">\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n\r\n    <mat-hint *ngIf=\"field.hint\">{{field.hint}}</mat-hint>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>   \r\n</mat-form-field>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { VNumberField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-number-field',\r\n  templateUrl: './v-number-field.component.html',\r\n  styleUrls: ['./v-number-field.component.scss']\r\n})\r\nexport class VNumberFieldComponent implements OnInit {\r\n\r\n  field: VNumberField;\r\n  group: FormGroup;\r\n\r\n  get control(): FormControl {\r\n    return this.group.get(this.field.name) as FormControl;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  clearField(): void {\r\n    this.control.setValue('');\r\n  }\r\n}\r\n","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label>{{field.label}}</mat-label>\r\n    <span *ngIf=\"field.prefix\" matPrefix>{{field.prefix}} &nbsp;</span>\r\n    <input\r\n        type=\"number\"\r\n        [formControlName]=\"field.name\"\r\n        [min]=\"field.min\"\r\n        [max]=\"field.max\"\r\n        [step]=\"field.step\"\r\n        [readonly]=\"field.readonly\"\r\n        matInput\r\n    />\r\n    <span *ngIf=\"field.suffix\" matSuffix>{{field.suffix}}</span>\r\n\r\n    <button *ngIf=\"control.value && field.clearButton\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"clearField()\">\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n\r\n    <mat-hint *ngIf=\"field.hint\">{{field.hint}}</mat-hint>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>   \r\n</mat-form-field>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VRadioField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-radio-field',\r\n  templateUrl: './v-radio-field.component.html',\r\n  styleUrls: ['./v-radio-field.component.scss']\r\n})\r\nexport class VRadioFieldComponent implements OnInit {\r\n\r\n  field: VRadioField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<section class=\"radio-section\" [formGroup]=\"group\">\r\n    <label *ngIf=\"field.label\">{{field.label}}:</label>\r\n    <mat-radio-group aria-label=\"field.label\" [formControlName]=\"field.name\">\r\n        <ng-container *ngFor=\"let option of field.options\">\r\n            <mat-radio-button [value]=\"option.value\">{{option.label}}</mat-radio-button>\r\n        </ng-container>        \r\n    </mat-radio-group>\r\n</section>\r\n\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\r\nimport { Option } from '../../interfaces';\r\nimport { VSelectField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-select-field',\r\n  templateUrl: './v-select-field.component.html',\r\n  styleUrls: ['./v-select-field.component.scss']\r\n})\r\nexport class VSelectFieldComponent implements OnInit, OnDestroy {\r\n\r\n  private _selectSource =  new BehaviorSubject<Option[]>([]);\r\n  options = this._selectSource.asObservable();\r\n\r\n  field: VSelectField;\r\n  group: FormGroup;\r\n\r\n  sub:Subscription;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if(this.field.options instanceof Observable) {\r\n      this.sub = this.field.options.subscribe(res => {\r\n        this._selectSource.next(res);\r\n      });\r\n    } else {\r\n      this._selectSource.next(this.field.options);\r\n    }    \r\n  }\r\n\r\n  get value(): string {\r\n    return this.group.get(this.field.name).value || '';\r\n  }\r\n\r\n  get option(): Option {\r\n    return this._selectSource.value.find(option => option.value === this.value);\r\n  }\r\n\r\n  get label(): string {\r\n    return this.option ? this.option.label : '';\r\n  }\r\n\r\n  get hint(): string {\r\n    return this.value && this.option ? this.option.data?.hint || '' : '';\r\n  }\r\n\r\n  get color(): string {\r\n    return this.value && this.option ? this.option.data?.color || '' : '';\r\n  }\r\n\r\n  get icon(): string {\r\n    return this.value && this.option ? this.option.data?.icon || '' : '';\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.sub && this.sub.unsubscribe();\r\n  }\r\n}\r\n","<mat-form-field [formGroup]=\"group\">\r\n  <mat-label>{{field.label}}</mat-label>\r\n  <span *ngIf=\"icon\" matPrefix [style]=\"{'color': color}\"><mat-icon>{{icon}}</mat-icon>&nbsp;&nbsp;</span>\r\n  <mat-select\r\n      [formControlName]=\"field.name\"\r\n      [multiple]=\"field.multiple\"\r\n  >\r\n    <mat-select-trigger *ngIf=\"field.icons\">\r\n      <mat-icon>{{value}}</mat-icon>&nbsp;&nbsp;&nbsp;{{label}}\r\n    </mat-select-trigger>\r\n    \r\n    <mat-option\r\n      *ngFor=\"let option of options | async\"\r\n      [value]=\"option.value\"\r\n      [disabled]=\"option.data?.disabled\">\r\n      <mat-icon *ngIf=\"field.icons\">{{option.value}}</mat-icon>\r\n      {{option.label}}\r\n    </mat-option>\r\n  </mat-select>\r\n  <mat-hint *ngIf=\"hint\">{{hint}}</mat-hint>\r\n  <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n    <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n        {{validation.message}}\r\n    </ng-container>\r\n</mat-error>\r\n</mat-form-field>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VSlideToggleField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-slide-toggle-field',\r\n  templateUrl: './v-slide-toggle-field.component.html',\r\n  styleUrls: ['./v-slide-toggle-field.component.scss']\r\n})\r\nexport class VSlideToggleFieldComponent implements OnInit {\r\n\r\n  field: VSlideToggleField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<section  class=\"slider-toggle-section\" [formGroup]=\"group\">\r\n    <mat-slide-toggle\r\n          [color]=\"field.color ? field.color : 'accent'\"\r\n          [formControlName]=\"field.name\"\r\n    >\r\n        {{field.label}}\r\n    </mat-slide-toggle>\r\n</section>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VSliderField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-slider-field',\r\n  templateUrl: './v-slider-field.component.html',\r\n  styleUrls: ['./v-slider-field.component.scss']\r\n})\r\nexport class VSliderFieldComponent implements OnInit {\r\n\r\n  field: VSliderField;\r\n  group: FormGroup;\r\n\r\n  getSliderTickInterval(): number | 'auto' {\r\n    if (this.field.showTicks) {\r\n      return this.field.autoTicks ? 'auto' : this.field.tickInterval;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<ng-container [formGroup]=\"group\">\r\n    <div class=\"label-wrapper\">\r\n      <label class=\"start-label\">{{field.label}}</label>\r\n      <label class=\"end-label\">{{group.get(field.name).value}}</label>\r\n    </div>\r\n    <mat-slider\r\n        [invert]=\"field.invert\"\r\n        [min]=\"field.min\"\r\n        [max]=\"field.max\"\r\n        [step]=\"field.step\"\r\n        [thumbLabel]=\"field.thumbLabel\"\r\n        [tickInterval]=\"getSliderTickInterval()\"\r\n        [vertical]=\"field.vertical\"\r\n        [formControlName]=\"field.name\"\r\n        [value]=\"field.value\"\r\n    >\r\n    </mat-slider>\r\n</ng-container>\r\n","import { CdkTextareaAutosize } from '@angular/cdk/text-field';\r\nimport { Component, NgZone, OnInit, ViewChild } from '@angular/core';\r\nimport { take } from 'rxjs/operators';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VTextField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-text-field',\r\n  templateUrl: './v-text-field.component.html',\r\n  styleUrls: ['./v-text-field.component.scss']\r\n})\r\nexport class VTextFieldComponent implements OnInit {\r\n  @ViewChild('autosize') autosize: CdkTextareaAutosize;\r\n\r\n  field: VTextField;\r\n  group: FormGroup;\r\n\r\n  constructor(private _ngZone: NgZone) {}\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  triggerResize() {\r\n    this._ngZone.onStable.pipe(take(1))\r\n        .subscribe(() => this.autosize.resizeToFitContent(true));\r\n  }\r\n}\r\n\r\n\r\n  \r\n\r\n  ","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label>{{field.label}}</mat-label>\r\n    <textarea \r\n        [formControlName]=\"field.name\"\r\n        cdkTextareaAutosize\r\n        #autosize=\"cdkTextareaAutosize\"\r\n        [cdkAutosizeMinRows]=\"field.rows\"\r\n        [cdkAutosizeMaxRows]=\"field.maxRows\"\r\n        matInput\r\n        trim\r\n    ></textarea>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error> \r\n</mat-form-field>\r\n","import { Directive, Input, ComponentFactoryResolver, ViewContainerRef, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VAccordionComponent } from '../../components/v-accordion/v-accordion.component';\r\nimport { VAutocompleteFieldComponent } from '../../components/v-autocomplete-field/v-autocomplete-field.component';\r\nimport { VBoxComponent } from '../../components/v-box/v-box.component';\r\nimport { VButtonComponent } from '../../components/v-button/v-button.component';\r\nimport { VCheckboxFieldComponent } from '../../components/v-checkbox-field/v-checkbox-field.component';\r\nimport { VChipsFieldComponent } from '../../components/v-chips-field/v-chips-field.component';\r\nimport { VChipsComponent } from '../../components/v-chips/v-chips.component';\r\nimport { VColorFieldComponent } from '../../components/v-color-field/v-color-field.component';\r\nimport { VDatepickerFieldComponent } from '../../components/v-datepicker-field/v-datepicker-field.component';\r\nimport { VDividerComponent } from '../../components/v-divider/v-divider.component';\r\nimport { VDragDropListComponent } from '../../components/v-drag-drop-list/v-drag-drop-list.component';\r\nimport { VEditorFieldComponent } from '../../components/v-editor-field/v-editor-field.component';\r\nimport { VFileFieldComponent } from '../../components/v-file-field/v-file-field.component';\r\nimport { VImageFieldComponent } from '../../components/v-image-field/v-image-field.component';\r\nimport { VImageComponent } from '../../components/v-image/v-image.component';\r\nimport { VInputFieldComponent } from '../../components/v-input-field/v-input-field.component';\r\nimport { VLabelComponent } from '../../components/v-label/v-label.component';\r\nimport { VListComponent } from '../../components/v-list/v-list.component';\r\nimport { VMaskedFieldComponent } from '../../components/v-masked-field/v-masked-field.component';\r\nimport { VNumberFieldComponent } from '../../components/v-number-field/v-number-field.component';\r\nimport { VRadioFieldComponent } from '../../components/v-radio-field/v-radio-field.component';\r\nimport { VSelectFieldComponent } from '../../components/v-select-field/v-select-field.component';\r\nimport { VSlideToggleFieldComponent } from '../../components/v-slide-toggle-field/v-slide-toggle-field.component';\r\nimport { VSliderFieldComponent } from '../../components/v-slider-field/v-slider-field.component';\r\nimport { VTextFieldComponent } from '../../components/v-text-field/v-text-field.component';\r\nimport { VField } from './../../models/v-field.model';\r\n\r\nconst componentMapper = {\r\n    vinputfield: VInputFieldComponent,\r\n    vbox: VBoxComponent,\r\n    vbutton: VButtonComponent,\r\n    vselectfield: VSelectFieldComponent,\r\n    vtextfield: VTextFieldComponent,\r\n    vautocompletefield: VAutocompleteFieldComponent,\r\n    vcheckboxfield: VCheckboxFieldComponent,\r\n    vdatepickerfield: VDatepickerFieldComponent,\r\n    vimage: VImageComponent,\r\n    vmaskedfield: VMaskedFieldComponent,\r\n    vnumberfield: VNumberFieldComponent,\r\n    vradiofield: VRadioFieldComponent,\r\n    vslidetogglefield: VSlideToggleFieldComponent,\r\n    vsliderfield: VSliderFieldComponent,\r\n    vaccordion: VAccordionComponent,\r\n    vlabel: VLabelComponent,\r\n    vchips: VChipsComponent,\r\n    vdragdroplist: VDragDropListComponent,\r\n    vcolorfield: VColorFieldComponent,\r\n    veditorfield: VEditorFieldComponent,\r\n    vfilefield: VFileFieldComponent,\r\n    vdivider: VDividerComponent,\r\n    vlist: VListComponent,\r\n    vimagefield: VImageFieldComponent,\r\n    vchipsfield: VChipsFieldComponent\r\n};\r\n\r\n@Directive({\r\n  selector: '[appVField]'\r\n})\r\nexport class VFieldDirective implements OnInit {\r\n  @Input() field: VField<any>;\r\n  @Input() group: FormGroup;\r\n\r\n  componentRef: any;\r\n\r\n  constructor(\r\n    private _resolver: ComponentFactoryResolver,\r\n    private _container: ViewContainerRef\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    const factory = this._resolver.resolveComponentFactory(\r\n      componentMapper[this.field.getName()]\r\n    );\r\n\r\n    this.componentRef = this._container.createComponent(factory);\r\n\r\n    this._applyStyles();\r\n\r\n    this.componentRef.instance.field = this.field;\r\n    this.componentRef.instance.group = this.group;\r\n  }\r\n\r\n  private _applyStyles() {\r\n    let element: HTMLElement = <HTMLElement>this.componentRef.location.nativeElement;\r\n    if (this.field.styles) {\r\n      Object.keys(this.field.styles).map(k =>{\r\n        element.style[this._getStyle(k)] = this.field.styles[k].toString();\r\n      });\r\n    }\r\n\r\n    if (this.field.cls) {\r\n      this.field.cls.split(' ').map(cls => {\r\n        if(cls && cls.trim() !== '') {\r\n          element.classList.add(cls);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  private _getStyle(key: string): string {\r\n    switch (key) {\r\n      case 'marginLeft':\r\n        return 'margin-left';\r\n      case 'marginRight':\r\n        return 'margin-right';\r\n      case 'marginTop':\r\n        return 'margin-top';\r\n      case 'marginBottom':\r\n        return 'margin-bottom'\r\n      case 'bgColor':\r\n        return 'background-color';\r\n      default:\r\n        return key;\r\n    }\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { VItem } from './models/v-item.model';\r\nimport { VFactoryService } from './services/v-factory.service';\r\n\r\n@Component({\r\n  selector: 'v-v-factory',\r\n  templateUrl: './v-factory.component.html',\r\n  styleUrls: ['./v-factory.component.scss']\r\n})\r\nexport class VFactoryComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() formConfig: VItem[] = [];\r\n  @Input() form: FormGroup;\r\n\r\n  @Output() submit: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  formConfig$: Observable<VItem[]>;\r\n\r\n  constructor(\r\n    private _factoryService: VFactoryService\r\n  ) {\r\n    this.formConfig$ = this._factoryService.configEvent;\r\n  }\r\n\r\n  get value() {\r\n    return this.form.value;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._factoryService.updateConfig(this.formConfig, this.form);\r\n  }\r\n\r\n  onSubmit(event: Event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (this.form.valid) {\r\n      this.submit.emit(this.form);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._factoryService.clearConfig();\r\n  }\r\n}\r\n","<form \r\n    autocomplete=\"off\"\r\n    [formGroup]=\"form\"\r\n    (submit)=\"onSubmit($event)\"\r\n>\r\n    <ng-container *ngFor=\"let item of formConfig$ | async\">    \r\n            \r\n        <ng-container [ngSwitch]=\"item.getName()\">        \r\n            <ng-container *ngSwitchCase=\"'vcontent'\">\r\n                <ng-content></ng-content>           \r\n            </ng-container>\r\n            \r\n            <ng-container *ngSwitchDefault\r\n                appVField \r\n                [field]=\"item\" \r\n                [group]=\"form\"            \r\n                >\r\n            </ng-container>\r\n        </ng-container>   \r\n    </ng-container>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { VFieldDirective } from './v-field.directive';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VFieldDirective],\r\n  exports: [VFieldDirective]\r\n})\r\nexport class VFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VBoxComponent } from './v-box.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [VBoxComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule\r\n  ],\r\n  exports: [VBoxComponent]\r\n})\r\nexport class VBoxModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VButtonComponent } from './v-button.component';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@NgModule({\r\n  declarations: [VButtonComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatButtonModule,\r\n    MatTooltipModule,\r\n    MatIconModule\r\n  ]\r\n})\r\nexport class VButtonModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { TrimDirective } from './trim.directive';\r\n\r\n@NgModule({\r\n  declarations: [TrimDirective],\r\n  exports: [TrimDirective]\r\n})\r\nexport class TrimModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VInputFieldComponent } from './v-input-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TrimModule } from '../../directives/trim/trim.module';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n@NgModule({\r\n  declarations: [VInputFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    MatIconModule,\r\n    TrimModule,\r\n    MatButtonModule\r\n  ]\r\n})\r\nexport class VInputFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VSelectFieldComponent } from './v-select-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@NgModule({\r\n  declarations: [VSelectFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatSelectModule,\r\n    MatIconModule\r\n  ]\r\n})\r\nexport class VSelectFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VTextFieldComponent } from './v-text-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { TrimModule } from '../../directives/trim/trim.module';\r\nimport { TextFieldModule } from '@angular/cdk/text-field';\r\n\r\n@NgModule({\r\n  declarations: [VTextFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    TextFieldModule,\r\n    TrimModule\r\n  ]\r\n})\r\nexport class VTextFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VAutocompleteFieldComponent } from './v-autocomplete-field.component';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VAutocompleteFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatAutocompleteModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule\r\n  ]\r\n})\r\nexport class VAutocompleteFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VCheckboxFieldComponent } from './v-checkbox-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\n\r\n@NgModule({\r\n  declarations: [VCheckboxFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatCheckboxModule\r\n  ]\r\n})\r\nexport class VCheckboxFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VDatepickerFieldComponent } from './v-datepicker-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatInputModule } from '@angular/material/input';\r\n\r\n@NgModule({\r\n  declarations: [VDatepickerFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatNativeDateModule,\r\n    MatDatepickerModule,\r\n    MatInputModule\r\n  ],\r\n  providers: [MatNativeDateModule]\r\n})\r\nexport class VDatepickerFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VImageComponent } from './v-image.component';\r\n\r\n@NgModule({\r\n  declarations: [VImageComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [VImageComponent]\r\n})\r\nexport class VImageModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { MaskDirective } from './mask.directive';\r\n\r\n\r\n@NgModule({\r\n  declarations: [MaskDirective],\r\n  exports: [MaskDirective]\r\n})\r\nexport class MaskModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VMaskedFieldComponent } from './v-masked-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MaskModule } from '../../directives/mask/mask.module';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n@NgModule({\r\n  declarations: [VMaskedFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    MatIconModule,\r\n    MaskModule,\r\n    MatButtonModule\r\n  ]\r\n})\r\nexport class VMaskedFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VNumberFieldComponent } from './v-number-field.component';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VNumberFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    MatIconModule,\r\n    MatButtonModule\r\n  ]\r\n})\r\nexport class VNumberFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VRadioFieldComponent } from './v-radio-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VRadioFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatRadioModule\r\n  ]\r\n})\r\nexport class VRadioFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VSlideToggleFieldComponent } from './v-slide-toggle-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\n\r\n@NgModule({\r\n  declarations: [VSlideToggleFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatSlideToggleModule\r\n  ]\r\n})\r\nexport class VSlideToggleFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VSliderFieldComponent } from './v-slider-field.component';\r\nimport { MatSliderModule } from '@angular/material/slider';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [VSliderFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatSliderModule\r\n  ]\r\n})\r\nexport class VSliderFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VAccordionComponent } from './v-accordion.component';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\n\r\n@NgModule({\r\n  declarations: [VAccordionComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    MatExpansionModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatTooltipModule\r\n  ],\r\n  exports: [VAccordionComponent]\r\n})\r\nexport class VAccordionModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VLabelComponent } from './v-label.component';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VLabelComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatTooltipModule,\r\n    MatIconModule\r\n  ],\r\n  exports: [VLabelComponent]\r\n})\r\nexport class VLabelModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VChipsComponent } from './v-chips.component';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@NgModule({\r\n  declarations: [VChipsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatChipsModule,\r\n    MatIconModule\r\n  ],\r\n  exports: [VChipsComponent]\r\n})\r\nexport class VChipsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VDragDropListComponent } from './v-drag-drop-list.component';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VDragDropListComponent],\r\n  imports: [\r\n    CommonModule,\r\n    DragDropModule,\r\n    ReactiveFormsModule,\r\n    MatCardModule,\r\n    MatDividerModule,\r\n    RouterModule,\r\n    MatIconModule,\r\n    MatButtonModule\r\n  ],\r\n  exports: [VDragDropListComponent]\r\n})\r\nexport class VDragDropListModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VColorFieldComponent } from './v-color-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VColorFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    MatIconModule\r\n  ],\r\n  exports: [VColorFieldComponent]\r\n})\r\nexport class VColorFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToolbarBtnComponent } from './toolbar-btn.component';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ToolbarBtnComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule\r\n  ],\r\n  exports: [ToolbarBtnComponent]\r\n})\r\nexport class ToolbarBtnModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToolbarSelectComponent } from './toolbar-select.component';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ToolbarSelectComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule\r\n  ],\r\n  exports: [ToolbarSelectComponent]\r\n})\r\nexport class ToolbarSelectModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToolbarColorComponent } from './toolbar-color.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ToolbarColorComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [ToolbarColorComponent]\r\n})\r\nexport class ToolbarColorModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToolbarComponent } from './toolbar.component';\r\nimport { ToolbarBtnModule } from './toolbar-btn/toolbar-btn.module';\r\nimport { ToolbarSelectModule } from './toolbar-select/toolbar-select.module';\r\nimport { ToolbarColorModule } from './toolbar-color/toolbar-color.module';\r\n\r\n@NgModule({\r\n  declarations: [ToolbarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ToolbarBtnModule,\r\n    ToolbarSelectModule,\r\n    ToolbarColorModule\r\n  ],\r\n  exports: [ToolbarComponent]\r\n})\r\nexport class ToolbarModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { ContenteditableValueAccessor } from './contenteditable.directive';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ContenteditableValueAccessor],\r\n  exports: [ContenteditableValueAccessor]\r\n})\r\nexport class ContenteditableModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VEditorFieldComponent } from './v-editor-field.component';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ToolbarModule } from './toolbar/toolbar.module';\r\nimport { VEditorService } from './v-editor.service';\r\nimport { ContenteditableModule } from '../../directives/contenteditable/contenteditable.module';\r\n\r\n@NgModule({\r\n  declarations: [VEditorFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatButtonModule,\r\n    MatTooltipModule,\r\n    MatIconModule,\r\n    ToolbarModule,\r\n    ContenteditableModule\r\n  ],\r\n  providers: [VEditorService]\r\n})\r\nexport class VEditorFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VFileFieldComponent } from './v-file-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [VFileFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class VFileFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VDividerComponent } from './v-divider.component';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VDividerComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatDividerModule\r\n  ],\r\n  exports: [VDividerComponent]\r\n})\r\nexport class VDividerModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VListComponent } from './v-list.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatListModule } from '@angular/material/list';\r\n\r\n@NgModule({\r\n  declarations: [VListComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatTooltipModule,\r\n    MatIconModule,\r\n    MatListModule\r\n  ],\r\n  exports: [VListComponent]\r\n})\r\nexport class VListModule { }\r\n","/*\r\nOriginal library: ngx-image-cropper\r\nOriginal module author: Martijn Willekens\r\nOriginal repository: https://github.com/Mawi137/ngx-image-cropper.git\r\nOriginal homepage: https://github.com/Mawi137/ngx-image-cropper\r\n*/\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImageCropperComponent } from './component/image-cropper.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    ImageCropperComponent\r\n  ],\r\n  exports: [\r\n    ImageCropperComponent\r\n  ]\r\n})\r\nexport class ImageCropperModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { VImageFieldComponent } from './v-image-field.component';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { ImageCropperModule } from './image-cropper/image-cropper.module';\r\n\r\n@NgModule({\r\n  declarations: [VImageFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    ImageCropperModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatDividerModule,\r\n    MatTooltipModule\r\n  ]\r\n})\r\nexport class VImageFieldModule { }\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { VChipsFieldComponent } from './v-chips-field.component';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatInputModule } from '@angular/material/input';\n\n\n\n@NgModule({\n  declarations: [\n    VChipsFieldComponent\n  ],\n  imports: [\n    CommonModule,\n    MatChipsModule,\n    MatIconModule,\n    ReactiveFormsModule,\n    MatAutocompleteModule,\n    MatInputModule\n  ],\n  exports: [\n    VChipsFieldComponent\n  ]\n})\nexport class VChipsFieldModule { }\n","import { NgModule } from '@angular/core';\r\nimport { VBoxModule } from './v-box/v-box.module';\r\nimport { VButtonModule } from './v-button/v-button.module';\r\nimport { VInputFieldModule } from './v-input-field/v-input-field.module';\r\nimport { VSelectFieldModule } from './v-select-field/v-select-field.module';\r\nimport { VTextFieldModule } from './v-text-field/v-text-field.module';\r\nimport { VAutocompleteFieldModule } from './v-autocomplete-field/v-autocomplete-field.module';\r\nimport { VCheckboxFieldModule } from './v-checkbox-field/v-checkbox-field.module';\r\nimport { VDatepickerFieldModule } from './v-datepicker-field/v-datepicker-field.module';\r\nimport { VImageModule } from './v-image/v-image.module';\r\nimport { VMaskedFieldModule } from './v-masked-field/v-masked-field.module';\r\nimport { VNumberFieldModule } from './v-number-field/v-number-field.module';\r\nimport { VRadioFieldModule } from './v-radio-field/v-radio-field.module';\r\nimport { VSlideToggleFieldModule } from './v-slide-toggle-field/v-slide-toggle-field.module';\r\nimport { VSliderFieldModule } from './v-slider-field/v-slider-field.module';\r\nimport { VAccordionModule } from './v-accordion/v-accordion.module';\r\nimport { VLabelModule } from './v-label/v-label.module';\r\nimport { VChipsModule } from './v-chips/v-chips.module';\r\nimport { VDragDropListModule } from './v-drag-drop-list/v-drag-drop-list.module';\r\nimport { VColorFieldModule } from './v-color-field/v-color-field.module';\r\nimport { VEditorFieldModule } from './v-editor-field/v-editor-field.module';\r\nimport { VFileFieldModule } from './v-file-field/v-file-field.module';\r\nimport { VDividerModule } from './v-divider/v-divider.module';\r\nimport { VListModule } from './v-list/v-list.module';\r\nimport { VImageFieldModule } from './v-image-field/v-image-field.module';\r\nimport { VChipsFieldModule } from './v-chips-field/v-chips-field.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    VBoxModule,\r\n    VButtonModule,\r\n    VInputFieldModule,\r\n    VSelectFieldModule,\r\n    VTextFieldModule,\r\n    VAutocompleteFieldModule,\r\n    VCheckboxFieldModule,\r\n    VDatepickerFieldModule,\r\n    VImageModule,\r\n    VMaskedFieldModule,\r\n    VNumberFieldModule,\r\n    VRadioFieldModule,\r\n    VSlideToggleFieldModule,\r\n    VSliderFieldModule,\r\n    VAccordionModule,\r\n    VLabelModule,\r\n    VChipsModule,\r\n    VDragDropListModule,\r\n    VColorFieldModule,\r\n    VEditorFieldModule,\r\n    VFileFieldModule,\r\n    VDividerModule,\r\n    VListModule,\r\n    VImageFieldModule,\r\n    VChipsFieldModule\r\n  ],\r\n  exports: [\r\n    VBoxModule,\r\n    VButtonModule,\r\n    VInputFieldModule,\r\n    VSelectFieldModule,\r\n    VTextFieldModule,\r\n    VAutocompleteFieldModule,\r\n    VCheckboxFieldModule,\r\n    VDatepickerFieldModule,\r\n    VImageModule,\r\n    VMaskedFieldModule,\r\n    VNumberFieldModule,\r\n    VRadioFieldModule,\r\n    VSlideToggleFieldModule,\r\n    VSliderFieldModule,\r\n    VAccordionModule,\r\n    VLabelModule,\r\n    VChipsModule,\r\n    VDragDropListModule,\r\n    VColorFieldModule,\r\n    VEditorFieldModule,\r\n    VFileFieldModule,\r\n    VDividerModule,\r\n    VListModule,\r\n    VImageFieldModule,\r\n    VChipsFieldModule\r\n  ]\r\n})\r\nexport class VComponentsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VFactoryComponent } from './v-factory.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { VFieldModule } from './directives/v-field/v-field.module';\r\nimport { VComponentsModule } from './components/v-component.module';\r\nimport { VFactoryService } from './services/v-factory.service';\r\n\r\n@NgModule({\r\n  declarations: [VFactoryComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    VFieldModule,\r\n    VComponentsModule\r\n  ],\r\n  providers: [VFactoryService],\r\n  exports: [VFactoryComponent]\r\n})\r\nexport class VFactoryModule {}\r\n","/*\r\n * Public API Surface of v-factory\r\n */\r\n\r\nexport * from './lib/interfaces';\r\nexport * from './lib/models';\r\nexport * from './lib/services/v-factory.service';\r\nexport * from './lib/v-factory.component';\r\nexport * from './lib/v-factory.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}},"fesm2015":{"code":"import * as i4 from '@angular/forms';\nimport { FormControl, Validators, FormGroup, FormArray, NG_VALUE_ACCESSOR, ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport * as i0 from '@angular/core';\nimport { Injectable, Component, Input, ViewChild, EventEmitter, Output, ElementRef, Renderer2, forwardRef, Directive, Inject, HostListener, isDevMode, ChangeDetectionStrategy, HostBinding, NgModule } from '@angular/core';\nimport { BehaviorSubject, isObservable, Observable, Subject } from 'rxjs';\nimport * as i5 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i1 from '@angular/material/expansion';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport * as i2 from '@angular/material/button';\nimport { MatButtonModule } from '@angular/material/button';\nimport * as i2$1 from '@angular/material/icon';\nimport { MatIconModule } from '@angular/material/icon';\nimport { startWith, map, take } from 'rxjs/operators';\nimport * as i2$2 from '@angular/material/autocomplete';\nimport { MatAutocompleteTrigger, MatAutocompleteModule } from '@angular/material/autocomplete';\nimport * as i1$1 from '@angular/material/form-field';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport * as i4$1 from '@angular/material/core';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport * as i6 from '@angular/material/input';\nimport { MatInputModule } from '@angular/material/input';\nimport * as i5$1 from '@angular/material/tooltip';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport * as i1$2 from '@angular/material/checkbox';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { ENTER, COMMA } from '@angular/cdk/keycodes';\nimport * as i2$3 from '@angular/material/chips';\nimport { MatChipsModule } from '@angular/material/chips';\nimport * as i2$4 from '@angular/material/datepicker';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport * as i1$3 from '@angular/material/divider';\nimport { MatDividerModule } from '@angular/material/divider';\nimport * as i7 from '@angular/cdk/drag-drop';\nimport { moveItemInArray, DragDropModule } from '@angular/cdk/drag-drop';\nimport * as i1$4 from '@angular/material/card';\nimport { MatCardModule } from '@angular/material/card';\nimport { __awaiter } from 'tslib';\nimport * as i4$2 from '@angular/platform-browser';\nimport * as i1$5 from '@angular/material/list';\nimport { MatListModule } from '@angular/material/list';\nimport * as i1$6 from '@angular/material/radio';\nimport { MatRadioModule } from '@angular/material/radio';\nimport * as i3 from '@angular/material/select';\nimport { MatSelectModule } from '@angular/material/select';\nimport * as i1$7 from '@angular/material/slide-toggle';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport * as i1$8 from '@angular/material/slider';\nimport { MatSliderModule } from '@angular/material/slider';\nimport * as i3$1 from '@angular/cdk/text-field';\nimport { TextFieldModule } from '@angular/cdk/text-field';\nimport { RouterModule } from '@angular/router';\n\nclass VItem {\r\n    constructor(opts) {\r\n        this._vtype = 'vitem';\r\n        this.itemId = opts['itemId'] || null;\r\n        this.styles = opts['styles'] || null;\r\n        this.validators = opts['validators'] || [];\r\n        this.label = opts['label'] || null;\r\n        if (opts['cls']) {\r\n            this.cls = opts['cls'] ? this.cls ? `${this.cls} ${opts['cls']}` : opts['cls'] : '';\r\n        }\r\n        if (opts['hidden']) {\r\n            this.cls += ' hidden';\r\n        }\r\n    }\r\n    getName() {\r\n        return this._vtype;\r\n    }\r\n    getConfig(key) {\r\n        return this[key];\r\n    }\r\n    setConfig(key, value) {\r\n        this[key] = value;\r\n    }\r\n    createControl(group) { }\r\n    removeControl(group) { }\r\n}\n\nconst validateFileExt = (control, extentions) => {\r\n    var _a, _b;\r\n    if (control.value) {\r\n        const ext = (_b = (_a = control.value) === null || _a === void 0 ? void 0 : _a.name) === null || _b === void 0 ? void 0 : _b.split('.').pop();\r\n        return extentions.indexOf(ext) === -1 ? { fileExt: true } : null;\r\n    }\r\n    return null;\r\n};\n\nconst validateFileSize = (control, size) => {\r\n    if (control.value) {\r\n        return control.value.size > size ? { fileSize: true } : null;\r\n    }\r\n    return null;\r\n};\n\nclass VField extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this.validatorMessages = [];\r\n        this._vtype = 'vfield';\r\n        this.name = opts['name'] || '';\r\n        this.label = opts['label'] || null;\r\n        this.value = opts['value'] || null;\r\n        this.disabled = opts['disabled'] || false;\r\n        this.readonly = opts['readonly'] || false;\r\n        this.clearButton = opts['clearButton'] || false;\r\n        this.actionButton = opts['actionButton'] || false;\r\n        this.validators = opts['validators'] || [];\r\n        this.actionHandler = opts['actionHandler'] || function () { };\r\n    }\r\n    createControl(group) {\r\n        if (!group.get(this.name)) {\r\n            const control = new FormControl(this.value, this._bindValidations());\r\n            if (this.disabled) {\r\n                control.disable();\r\n            }\r\n            group.addControl(this.name, control);\r\n        }\r\n    }\r\n    _bindValidations() {\r\n        if (this.validators.length > 0) {\r\n            const validations = [];\r\n            this.validators.map(item => {\r\n                const validatorCfg = this._getValidatorConfig(item);\r\n                const { name, validator, message } = validatorCfg;\r\n                validations.push(validator);\r\n                this.validatorMessages.push({ name, message });\r\n            });\r\n            return Validators.compose(validations);\r\n        }\r\n        return null;\r\n    }\r\n    _getValidatorConfig(item) {\r\n        const vMap = new Map(Object.entries(item));\r\n        const result = { name: null, validator: null, message: '' };\r\n        vMap.forEach((v, k) => {\r\n            switch (k) {\r\n                case 'message':\r\n                    result.message = v;\r\n                    break;\r\n                case 'validator':\r\n                    result.validator = v;\r\n                    break;\r\n                default:\r\n                    result.name = k;\r\n                    if (!result.validator) {\r\n                        result.validator = this._getValidatorByName(k, v);\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    getValMessage() {\r\n        return this.validatorMessages;\r\n    }\r\n    removeControl(group) {\r\n        group.removeControl(this.name);\r\n    }\r\n    _getValidatorByName(name, value) {\r\n        switch (name) {\r\n            case 'required':\r\n                return Validators.required;\r\n            case 'email':\r\n                return Validators.email;\r\n            case 'minlength':\r\n                return Validators.minLength(value ? +value : 3);\r\n            case 'maxlength':\r\n                return Validators.maxLength(value ? +value : 100);\r\n            case 'min':\r\n                return Validators.min(value ? +value : 1);\r\n            case 'max':\r\n                return Validators.max(value ? +value : 100);\r\n            case 'pattern':\r\n                return Validators.pattern(value ? new RegExp(`${value}`) : '');\r\n            case 'fileExt':\r\n                return (control) => validateFileExt(control, value);\r\n            case 'fileSize':\r\n                return (control) => validateFileSize(control, +value);\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n}\n\nclass VBox extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vbox';\r\n        this.items = opts['items'] || [];\r\n        this.layout = opts['layout'] || '';\r\n        this.formMode = opts['formMode'] || 'array';\r\n        this.name = opts['name'] || null;\r\n        this.groupValidators = opts['groupValidators'] || null;\r\n        if (this.layout !== '') {\r\n            this.cls = this.cls ? `${this.cls} ${this.layout}` : this.layout;\r\n        }\r\n    }\r\n    createControl(group) {\r\n        if (this.name) {\r\n            const control = group.get(this.name);\r\n            if (control) {\r\n                group.removeControl(this.name);\r\n            }\r\n            if (this.formMode === 'group') {\r\n                const fg = new FormGroup({});\r\n                group.addControl(this.name, fg);\r\n                this.items.forEach(item => {\r\n                    item.createControl(fg);\r\n                });\r\n            }\r\n            else {\r\n                const fa = new FormArray([], this.groupValidators);\r\n                group.addControl(this.name, fa);\r\n                this.items.forEach(item => {\r\n                    const fg = new FormGroup({});\r\n                    fa.push(fg);\r\n                    item.createControl(fg);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.items.forEach(item => item.createControl(group));\r\n        }\r\n    }\r\n    removeItems(group) {\r\n        this.items.forEach(item => item.removeControl(group));\r\n        this.items = [];\r\n    }\r\n    findByKey(key, value, items = this.items) {\r\n        let result;\r\n        for (let i = 0; i < items.length; i++) {\r\n            if (items[i].getConfig(key) === value) {\r\n                result = items[i];\r\n                break;\r\n            }\r\n            else if (items[i]['items']) {\r\n                this.findByKey(key, value, items[i]['items']);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\n\nclass VButton extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vbutton';\r\n        this.text = opts['text'] || '';\r\n        this.icon = opts['icon'] || null;\r\n        this.handler = opts['handler'] || function () { };\r\n        this.type = opts['type'] || 'button';\r\n        this.styleType = opts['styleType'] || 'raised';\r\n        this.color = opts['color'] || 'accent';\r\n        this.disabled = opts['disabled'] || false;\r\n    }\r\n}\n\nclass VInputField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vinputfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.unique = opts['unique'] || false;\r\n        this.readonly = opts['readonly'] || false;\r\n        this.placeholder = opts['placeholder'] || '';\r\n    }\r\n}\n\nclass VSelectField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vselectfield';\r\n        this.options = opts['options'] || [];\r\n        this.multiple = opts['multiple'] || false;\r\n        this.icons = opts['icons'] || false;\r\n        this.hint = opts['hint'] || null;\r\n    }\r\n}\n\nclass VTextField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vtextfield';\r\n        this.rows = opts['rows'] ? opts['rows'] : 5;\r\n        this.maxRows = opts['maxRows'] && opts['maxRows'] > this.rows ? opts['maxRows'] : this.rows;\r\n    }\r\n}\n\nclass VAutocompleteField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vautocompletefield';\r\n        this.options = opts['options'] || [];\r\n        this.placeholder = opts['placeholder'] || '';\r\n        this.filter = opts['filter'] || ((x) => true);\r\n    }\r\n}\n\nclass VCheckboxField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vcheckboxfield';\r\n        this.labelPosition = opts['labelPosition'] || 'after';\r\n    }\r\n}\n\nclass VDatepickerField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vdatepickerfield';\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\n\nclass VMaskedField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vmaskedfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.unique = opts['unique'] || false;\r\n        this.mask = opts['mask'] || null;\r\n    }\r\n}\n\nclass VNumberField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vnumberfield';\r\n        this.type = 'number';\r\n        this.min = opts['min'] || 0;\r\n        this.max = opts['max'] || 99999;\r\n        this.step = opts['step'] || 1;\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n    }\r\n}\n\nclass VRadioField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vradiofield';\r\n        this.options = opts['options'] || [];\r\n    }\r\n}\n\nclass VSlideToggleField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vslidetogglefield';\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\n\nclass VSliderField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vsliderfield';\r\n        this.showTicks = opts['showTicks'] || false;\r\n        this.autoTicks = opts['autoTicks'] || false;\r\n        this.tickInterval = opts['tickInterval'] || 'auto';\r\n        this.invert = opts['invert'] || false;\r\n        this.min = opts['min'] || 0;\r\n        this.max = opts['max'] || 100;\r\n        this.step = opts['step'] || 1;\r\n        this.thumbLabel = opts['thumbLabel'] || false;\r\n        this.vertical = opts['vertical'] || false;\r\n    }\r\n}\n\nclass VImage extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vimage';\r\n        this.url = opts['url'] || '';\r\n        this.sourceField = opts['sourceField'] || '';\r\n    }\r\n}\n\nclass VAccordion extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this.isDefaultHandler = false;\r\n        this._step = 0;\r\n        this._vtype = 'vaccordion';\r\n        this.name = opts['name'];\r\n        this.items = opts['items'] || [];\r\n        if (opts['initStep']) {\r\n            this.setStep(+opts['initStep']);\r\n        }\r\n        if (opts['getItemTitle']) {\r\n            this.getItemTitle = opts['getItemTitle'];\r\n        }\r\n        else {\r\n            this.getItemTitle = (idx) => `Step ${idx + 1}`;\r\n        }\r\n        if (opts['nextHandler']) {\r\n            this.nextHandler = opts['nextHandler'];\r\n        }\r\n        else {\r\n            this.isDefaultHandler = true;\r\n            this.nextHandler = () => { this.nextStep(); };\r\n        }\r\n        if (opts['prevHandler']) {\r\n            this.prevHandler = opts['prevHandler'];\r\n        }\r\n        else {\r\n            this.isDefaultHandler = true;\r\n            this.prevHandler = () => { this.prevStep(); };\r\n        }\r\n        this.removeHandler = opts['removeHandler'] || null;\r\n    }\r\n    createControl(group) {\r\n        const fa = new FormArray([]);\r\n        group.addControl(this.name, fa);\r\n        this.items.forEach(item => {\r\n            const fg = new FormGroup({});\r\n            fa.push(fg);\r\n            item.createControl(fg);\r\n        });\r\n    }\r\n    removeItems(group) {\r\n        this.items.forEach(item => item.removeControl(group));\r\n        this.items = [];\r\n    }\r\n    findByKey(key, value, items = this.items) {\r\n        let result;\r\n        for (let i = 0; i < items.length; i++) {\r\n            if (items[i].getConfig(key) === value) {\r\n                result = items[i];\r\n                break;\r\n            }\r\n            else if (items[i]['items']) {\r\n                this.findByKey(key, value, items[i]['items']);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    getStep() {\r\n        return this._step;\r\n    }\r\n    setStep(step) {\r\n        this._step = step;\r\n    }\r\n    nextStep() {\r\n        this._step++;\r\n    }\r\n    prevStep() {\r\n        this._step--;\r\n    }\r\n}\n\nclass VLabel extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vlabel';\r\n        this.text = opts['text'] || '';\r\n        this.icon = opts['icon'] || null;\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\n\nclass VChips extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vchips';\r\n        this.options = opts['options'] || [];\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\n\nclass VDragDropList extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vdragdroplist';\r\n        this.options = opts['options'] || [];\r\n        this.name = opts['name'] || '';\r\n        this.hidden = opts['hidden'] || false;\r\n        this.showPreview = opts['showPreview'] || false;\r\n        this.showAvatar = opts['showAvatar'] || false;\r\n        this.removable = opts['removable'] || false;\r\n        this.handler = opts['handler'] || function () { };\r\n        this.removeHandler = opts['removeHandler'] || function () { };\r\n    }\r\n    createControl(group) {\r\n        group.addControl(this.name, new FormControl(null));\r\n    }\r\n}\n\nclass VColorField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vcolorfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.readonly = opts['readonly'] || false;\r\n    }\r\n}\n\nclass VEditorField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'veditorfield';\r\n        this.placeholder = opts['placeholder'] ? opts['placeholder'] : 'Введите здесь текст ...';\r\n    }\r\n}\n\nclass VFileField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vfilefield';\r\n        this.readonly = opts['readonly'] || false;\r\n    }\r\n}\n\nclass VDivider extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vdivider';\r\n    }\r\n}\n\nclass VList extends VItem {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vlist';\r\n        this.options = opts['options'] || [];\r\n        this.multiple = opts['multiple'] || false;\r\n        this.editHandler = opts['editHandler'] || null;\r\n        this.deleteHandler = opts['deleteHandler'] || null;\r\n    }\r\n}\n\nclass VContent extends VItem {\r\n    constructor(opts) {\r\n        super({});\r\n        this._vtype = 'vcontent';\r\n    }\r\n}\n\nclass VImageField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vimagefield';\r\n        this.imageAspectRatio = opts['imageAspectRatio'] ? opts['imageAspectRatio'] : 4 / 3;\r\n        this.resizeToWidth = opts['resizeToWidth'] ? opts['resizeToWidth'] : 256;\r\n    }\r\n}\n\nclass VChipsField extends VField {\r\n    constructor(opts) {\r\n        super(opts);\r\n        this._vtype = 'vchipsfield';\r\n        this.options = opts['options'] || [];\r\n        this.value = opts['value'] || [];\r\n        this.placeholder = opts['placeholder'] || '';\r\n        this.color = opts['color'] || 'accent';\r\n        this.removable = opts['removable'] || false;\r\n        this.selectable = opts['selectable'] || false;\r\n        this.name = opts['name'] || '';\r\n    }\r\n}\n\nclass VFactoryService {\r\n    constructor() {\r\n        this._configSubject = new BehaviorSubject([]);\r\n        this.configEvent = this._configSubject.asObservable();\r\n    }\r\n    fromJSON(jsonCfg = []) {\r\n        return jsonCfg.map(item => {\r\n            return this._createVItem(item);\r\n        });\r\n    }\r\n    _createVItem(item) {\r\n        switch (item.vtype) {\r\n            case 'vinputfield':\r\n                return new VInputField(Object.assign({}, item));\r\n            case 'vbox':\r\n                item.items = item.items.map(child => {\r\n                    return this._createVItem(child);\r\n                });\r\n                return new VBox(Object.assign({}, item));\r\n            case 'vbutton':\r\n                return new VButton(Object.assign({}, item));\r\n            case 'vselectfield':\r\n                return new VSelectField(Object.assign({}, item));\r\n            case 'vtextfield':\r\n                return new VTextField(Object.assign({}, item));\r\n            case 'vautocompletefield':\r\n                return new VAutocompleteField(Object.assign({}, item));\r\n            case 'vcheckboxfield':\r\n                return new VCheckboxField(Object.assign({}, item));\r\n            case 'vdatepickerfield':\r\n                return new VDatepickerField(Object.assign({}, item));\r\n            case 'vimage':\r\n                return new VImage(Object.assign({}, item));\r\n            case 'vmaskedfield':\r\n                return new VMaskedField(Object.assign({}, item));\r\n            case 'vnumberfield':\r\n                return new VNumberField(Object.assign({}, item));\r\n            case 'vradiofield':\r\n                return new VRadioField(Object.assign({}, item));\r\n            case 'vslidetogglefield':\r\n                return new VSlideToggleField(Object.assign({}, item));\r\n            case 'vsliderfield':\r\n                return new VSliderField(Object.assign({}, item));\r\n            case 'vaccordion':\r\n                item.items = item.items.map(child => {\r\n                    return this._createVItem(child);\r\n                });\r\n                return new VAccordion(Object.assign({}, item));\r\n            case 'vlabel':\r\n                return new VLabel(Object.assign({}, item));\r\n            case 'vchipsfield':\r\n                return new VChipsField(Object.assign({}, item));\r\n            case 'vchips':\r\n                return new VChips(Object.assign({}, item));\r\n            case 'vdragdroplist':\r\n                return new VDragDropList(Object.assign({}, item));\r\n            case 'vcolorfield':\r\n                return new VColorField(Object.assign({}, item));\r\n            case 'vfilefield':\r\n                return new VFileField(Object.assign({}, item));\r\n            case 'veditorfield':\r\n                return new VEditorField(Object.assign({}, item));\r\n            case 'vlist':\r\n                return new VList(Object.assign({}, item));\r\n            case 'vcontent':\r\n                return new VContent(Object.assign({}, item));\r\n            case 'vimagefield':\r\n                return new VImageField(Object.assign({}, item));\r\n            case 'vdivider':\r\n                return new VDivider(Object.assign({}, item));\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n    updateConfig(formCfg, form) {\r\n        this._configSubject.next(formCfg);\r\n        this._createControls(form);\r\n    }\r\n    _createControls(group) {\r\n        this._configSubject.value.forEach(item => {\r\n            item.createControl(group);\r\n        });\r\n    }\r\n    clearConfig() {\r\n        this._configSubject.next([]);\r\n    }\r\n}\r\nVFactoryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nVFactoryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VAccordionComponent {\r\n    constructor() { }\r\n    get formArray() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVAccordionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVAccordionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VAccordionComponent, selector: \"app-v-accordion\", inputs: { field: \"field\", group: \"group\" }, ngImport: i0, template: \"<mat-accordion [formGroup]=\\\"group\\\">\\r\\n    <ng-container [formArrayName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items; let i = index;\\\" [formGroupName]=\\\"i\\\">\\r\\n            <mat-expansion-panel [expanded]=\\\"field.getStep() === i\\\" (opened)=\\\"field.setStep(i)\\\" hideToggle>\\r\\n                <mat-expansion-panel-header>\\r\\n                    <mat-panel-title>\\r\\n                       <b> {{field.getItemTitle(i)}} </b>\\r\\n                    </mat-panel-title>\\r\\n                    <mat-panel-description>\\r\\n                    <!--  some title infos -->\\r\\n                    </mat-panel-description>\\r\\n                </mat-expansion-panel-header>\\r\\n\\r\\n                    <ng-container\\r\\n                        appVField\\r\\n                        [field]=\\\"item\\\"\\r\\n                        [group]=\\\"formArray.controls[i]\\\"\\r\\n                        >\\r\\n                    </ng-container>\\r\\n\\r\\n                <mat-action-row>\\r\\n                    <span *ngIf=\\\"i === 0\\\"></span>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i !== 0\\\" mat-stroked-button color=\\\"accent\\\" (click)=\\\"field.prevHandler(i)\\\">\\r\\n                        <mat-icon>arrow_back_ios</mat-icon>                        \\r\\n                    </button>\\r\\n                    <button *ngIf=\\\"field.removeHandler\\\" type=\\\"button\\\" mat-stroked-button color=\\\"warn\\\" (click)=\\\"field.removeHandler(i)\\\">\\r\\n                        <mat-icon>clear</mat-icon>                        \\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i !== field.items.length - 1\\\" mat-stroked-button color=\\\"accent\\\" (click)=\\\"field.nextHandler(i)\\\">                        \\r\\n                        <mat-icon>arrow_forward_ios</mat-icon>\\r\\n                    </button>\\r\\n                    <span *ngIf=\\\"i === field.items.length - 1 && field.isDefaultHandler\\\"></span>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i === field.items.length - 1 && !field.isDefaultHandler\\\" mat-stroked-button color=\\\"primary\\\" (click)=\\\"field.nextHandler(i)\\\">                        \\r\\n                        <mat-icon>add</mat-icon>\\r\\n                    </button>\\r\\n                </mat-action-row>\\r\\n            </mat-expansion-panel>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</mat-accordion>\\r\\n\", styles: [\".mat-expansion-panel{padding:5px}.mat-action-row{display:flex;justify-content:space-between}.mat-stroked-button{border-radius:15px}\\n\"], components: [{ type: i1.MatExpansionPanel, selector: \"mat-expansion-panel\", inputs: [\"disabled\", \"expanded\", \"hideToggle\", \"togglePosition\"], outputs: [\"opened\", \"closed\", \"expandedChange\", \"afterExpand\", \"afterCollapse\"], exportAs: [\"matExpansionPanel\"] }, { type: i1.MatExpansionPanelHeader, selector: \"mat-expansion-panel-header\", inputs: [\"tabIndex\", \"expandedHeight\", \"collapsedHeight\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i1.MatAccordion, selector: \"mat-accordion\", inputs: [\"multi\", \"hideToggle\", \"displayMode\", \"togglePosition\"], exportAs: [\"matAccordion\"] }, { type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.FormArrayName, selector: \"[formArrayName]\", inputs: [\"formArrayName\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i4.FormGroupName, selector: \"[formGroupName]\", inputs: [\"formGroupName\"] }, { type: i1.MatExpansionPanelTitle, selector: \"mat-panel-title\" }, { type: i1.MatExpansionPanelDescription, selector: \"mat-panel-description\" }, { type: i1.MatExpansionPanelActionRow, selector: \"mat-action-row\" }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-accordion', template: \"<mat-accordion [formGroup]=\\\"group\\\">\\r\\n    <ng-container [formArrayName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items; let i = index;\\\" [formGroupName]=\\\"i\\\">\\r\\n            <mat-expansion-panel [expanded]=\\\"field.getStep() === i\\\" (opened)=\\\"field.setStep(i)\\\" hideToggle>\\r\\n                <mat-expansion-panel-header>\\r\\n                    <mat-panel-title>\\r\\n                       <b> {{field.getItemTitle(i)}} </b>\\r\\n                    </mat-panel-title>\\r\\n                    <mat-panel-description>\\r\\n                    <!--  some title infos -->\\r\\n                    </mat-panel-description>\\r\\n                </mat-expansion-panel-header>\\r\\n\\r\\n                    <ng-container\\r\\n                        appVField\\r\\n                        [field]=\\\"item\\\"\\r\\n                        [group]=\\\"formArray.controls[i]\\\"\\r\\n                        >\\r\\n                    </ng-container>\\r\\n\\r\\n                <mat-action-row>\\r\\n                    <span *ngIf=\\\"i === 0\\\"></span>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i !== 0\\\" mat-stroked-button color=\\\"accent\\\" (click)=\\\"field.prevHandler(i)\\\">\\r\\n                        <mat-icon>arrow_back_ios</mat-icon>                        \\r\\n                    </button>\\r\\n                    <button *ngIf=\\\"field.removeHandler\\\" type=\\\"button\\\" mat-stroked-button color=\\\"warn\\\" (click)=\\\"field.removeHandler(i)\\\">\\r\\n                        <mat-icon>clear</mat-icon>                        \\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i !== field.items.length - 1\\\" mat-stroked-button color=\\\"accent\\\" (click)=\\\"field.nextHandler(i)\\\">                        \\r\\n                        <mat-icon>arrow_forward_ios</mat-icon>\\r\\n                    </button>\\r\\n                    <span *ngIf=\\\"i === field.items.length - 1 && field.isDefaultHandler\\\"></span>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"i === field.items.length - 1 && !field.isDefaultHandler\\\" mat-stroked-button color=\\\"primary\\\" (click)=\\\"field.nextHandler(i)\\\">                        \\r\\n                        <mat-icon>add</mat-icon>\\r\\n                    </button>\\r\\n                </mat-action-row>\\r\\n            </mat-expansion-panel>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</mat-accordion>\\r\\n\", styles: [\".mat-expansion-panel{padding:5px}.mat-action-row{display:flex;justify-content:space-between}.mat-stroked-button{border-radius:15px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { field: [{\r\n                type: Input\r\n            }], group: [{\r\n                type: Input\r\n            }] } });\n\nclass VAutocompleteFieldComponent {\r\n    constructor() {\r\n        this.data = [];\r\n        this._optionSubject = new BehaviorSubject([]);\r\n        this.filteredOptions = this._optionSubject.asObservable();\r\n    }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n        if (isObservable(this.field.options)) {\r\n            this.field.options\r\n                .subscribe(res => {\r\n                this.data = res;\r\n                this._optionSubject.next(this.data);\r\n            });\r\n        }\r\n        else {\r\n            this.data = this.field.options;\r\n            this._optionSubject.next(this.data);\r\n        }\r\n        this.control.valueChanges\r\n            .pipe(startWith(''), map(value => (typeof value === 'string' ? value : value.label)), map(value => this._filter(value)))\r\n            .subscribe(res => {\r\n            this._optionSubject.next(res);\r\n        });\r\n    }\r\n    _filter(value) {\r\n        const filterValue = value.toLowerCase();\r\n        return this.data\r\n            .filter(option => option.label.toLowerCase().includes(filterValue) ||\r\n            option.label.replace(' ', '').toLowerCase().includes(filterValue) ||\r\n            option.label.toLowerCase().includes(filterValue.replace(' ', '')))\r\n            .filter(this.field.filter)\r\n            .sort((a, b) => {\r\n            var _a, _b;\r\n            const aIdx = (_a = a.label) === null || _a === void 0 ? void 0 : _a.toLowerCase().indexOf(filterValue), bIdx = (_b = b.label) === null || _b === void 0 ? void 0 : _b.toLowerCase().indexOf(filterValue);\r\n            return aIdx > bIdx ? 1 : -1;\r\n        });\r\n    }\r\n    displayFn(option) {\r\n        return option && option.label ? option.label : '';\r\n    }\r\n    trackByFn(index, item) {\r\n        if (!item)\r\n            return null;\r\n        return index;\r\n    }\r\n    onFocus() {\r\n        if (!this.control.value || this.control.value === '') {\r\n            this.trigger._onChange('');\r\n            this.trigger.openPanel();\r\n        }\r\n    }\r\n}\r\nVAutocompleteFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVAutocompleteFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VAutocompleteFieldComponent, selector: \"app-autocomplete-field\", viewQueries: [{ propertyName: \"trigger\", first: true, predicate: MatAutocompleteTrigger, descendants: true, read: MatAutocompleteTrigger }], ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <input type=\\\"text\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.placeholder\\\"\\r\\n        matInput \\r\\n        [matAutocomplete]=\\\"auto\\\"\\r\\n        (click)=\\\"onFocus()\\\"        \\r\\n      >\\r\\n    <mat-autocomplete autoActiveFirstOption #auto=\\\"matAutocomplete\\\" [displayWith]=\\\"displayFn\\\">\\r\\n      <mat-option *ngFor=\\\"let option of filteredOptions | async; trackBy: trackByFn\\\" [value]=\\\"option\\\">\\r\\n        {{option.label}}\\r\\n      </mat-option>\\r\\n    </mat-autocomplete>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>\\r\\n</mat-form-field>\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$2.MatAutocomplete, selector: \"mat-autocomplete\", inputs: [\"disableRipple\"], exportAs: [\"matAutocomplete\"] }, { type: i4$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2$2.MatAutocompleteTrigger, selector: \"input[matAutocomplete], textarea[matAutocomplete]\", exportAs: [\"matAutocompleteTrigger\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-autocomplete-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <input type=\\\"text\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.placeholder\\\"\\r\\n        matInput \\r\\n        [matAutocomplete]=\\\"auto\\\"\\r\\n        (click)=\\\"onFocus()\\\"        \\r\\n      >\\r\\n    <mat-autocomplete autoActiveFirstOption #auto=\\\"matAutocomplete\\\" [displayWith]=\\\"displayFn\\\">\\r\\n      <mat-option *ngFor=\\\"let option of filteredOptions | async; trackBy: trackByFn\\\" [value]=\\\"option\\\">\\r\\n        {{option.label}}\\r\\n      </mat-option>\\r\\n    </mat-autocomplete>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>\\r\\n</mat-form-field>\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { trigger: [{\r\n                type: ViewChild,\r\n                args: [MatAutocompleteTrigger, { read: MatAutocompleteTrigger }]\r\n            }] } });\n\nclass VBoxComponent {\r\n    constructor() {\r\n        this.isFormArray = false;\r\n    }\r\n    get formArray() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n        this.field.items = this.field.items.filter(item => item.getName() !== 'vcontent');\r\n    }\r\n}\r\nVBoxComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVBoxComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VBoxComponent, selector: \"app-box\", inputs: { field: \"field\", group: \"group\" }, ngImport: i0, template: \"<ng-container *ngIf=\\\"!!this.field.name && this.field.formMode === 'array'\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container [formArrayName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items; let i = index;\\\" [formGroupName]=\\\"i\\\">            \\r\\n            <ng-container\\r\\n                appVField\\r\\n                [field]=\\\"item\\\"\\r\\n                [group]=\\\"formArray.controls[i]\\\"\\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n<ng-container *ngIf=\\\"!!this.field.name && this.field.formMode === 'group'\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container [formGroupName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items\\\">            \\r\\n            <ng-container\\r\\n                appVField\\r\\n                [field]=\\\"item\\\"\\r\\n                [group]=\\\"group.get(field.name)\\\"\\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n<ng-container *ngIf=\\\"!this.field.name\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container *ngFor=\\\"let item of field.items\\\">  \\r\\n        <ng-container\\r\\n            appVField\\r\\n            [field]=\\\"item\\\"\\r\\n            [group]=\\\"group\\\"\\r\\n            >\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n\\r\\n     \\r\\n    \\r\\n\\r\\n    \\r\\n\\r\\n\", styles: [\"\"], directives: [{ type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.FormArrayName, selector: \"[formArrayName]\", inputs: [\"formArrayName\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i4.FormGroupName, selector: \"[formGroupName]\", inputs: [\"formGroupName\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-box', template: \"<ng-container *ngIf=\\\"!!this.field.name && this.field.formMode === 'array'\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container [formArrayName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items; let i = index;\\\" [formGroupName]=\\\"i\\\">            \\r\\n            <ng-container\\r\\n                appVField\\r\\n                [field]=\\\"item\\\"\\r\\n                [group]=\\\"formArray.controls[i]\\\"\\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n<ng-container *ngIf=\\\"!!this.field.name && this.field.formMode === 'group'\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container [formGroupName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let item of field.items\\\">            \\r\\n            <ng-container\\r\\n                appVField\\r\\n                [field]=\\\"item\\\"\\r\\n                [group]=\\\"group.get(field.name)\\\"\\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n<ng-container *ngIf=\\\"!this.field.name\\\"  [formGroup]=\\\"group\\\">\\r\\n    <label class=\\\"box-label\\\" *ngIf=\\\"field.label\\\">{{field.label}}</label>\\r\\n    <ng-container *ngFor=\\\"let item of field.items\\\">  \\r\\n        <ng-container\\r\\n            appVField\\r\\n            [field]=\\\"item\\\"\\r\\n            [group]=\\\"group\\\"\\r\\n            >\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\\r\\n\\r\\n     \\r\\n    \\r\\n\\r\\n    \\r\\n\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { field: [{\r\n                type: Input\r\n            }], group: [{\r\n                type: Input\r\n            }] } });\n\nclass VButtonComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVButtonComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVButtonComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VButtonComponent, selector: \"app-button\", ngImport: i0, template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <ng-container [ngSwitch]=\\\"field.styleType\\\">        \\r\\n        <button *ngSwitchCase=\\\"'raised'\\\" \\r\\n            mat-raised-button \\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>        \\r\\n        \\r\\n        <button *ngSwitchCase=\\\"'stroked'\\\" \\r\\n            mat-stroked-button \\r\\n            [color]=\\\"field.color\\\" \\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'flat'\\\" \\r\\n            mat-flat-button \\r\\n            [color]=\\\"field.color\\\" \\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'icon'\\\" \\r\\n            mat-icon-button \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'fab'\\\" \\r\\n            mat-fab \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'mini-fab'\\\" \\r\\n            mat-mini-fab \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchDefault \\r\\n            mat-button \\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n    </ng-container>\\r\\n</ng-container>\", styles: [\"button{width:100%}\\n\"], components: [{ type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { type: i5.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i5$1.MatTooltip, selector: \"[matTooltip]\", exportAs: [\"matTooltip\"] }, { type: i5.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-button', template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <ng-container [ngSwitch]=\\\"field.styleType\\\">        \\r\\n        <button *ngSwitchCase=\\\"'raised'\\\" \\r\\n            mat-raised-button \\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>        \\r\\n        \\r\\n        <button *ngSwitchCase=\\\"'stroked'\\\" \\r\\n            mat-stroked-button \\r\\n            [color]=\\\"field.color\\\" \\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'flat'\\\" \\r\\n            mat-flat-button \\r\\n            [color]=\\\"field.color\\\" \\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'icon'\\\" \\r\\n            mat-icon-button \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'fab'\\\" \\r\\n            mat-fab \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchCase=\\\"'mini-fab'\\\" \\r\\n            mat-mini-fab \\r\\n            [matTooltip]=\\\"field.text\\\"\\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button *ngSwitchDefault \\r\\n            mat-button \\r\\n            [color]=\\\"field.color\\\"\\r\\n            [disabled]=\\\"field.type === 'submit' ? !group.valid : field.disabled\\\"\\r\\n            [type]=\\\"field.type\\\"\\r\\n            (click)=\\\"field.handler()\\\"\\r\\n            >\\r\\n            <mat-icon *ngIf=\\\"field.icon\\\">{{ field.icon }}</mat-icon>\\r\\n            {{ field.text }}\\r\\n        </button>\\r\\n    </ng-container>\\r\\n</ng-container>\", styles: [\"button{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VCheckboxFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVCheckboxFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVCheckboxFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VCheckboxFieldComponent, selector: \"app-checkbox-field\", ngImport: i0, template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <mat-checkbox\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [labelPosition]=\\\"field.labelPosition\\\"\\r\\n    >\\r\\n        {{field.label}}\\r\\n    </mat-checkbox>\\r\\n</ng-container>\\r\\n\\r\\n\", styles: [\"\"], components: [{ type: i1$2.MatCheckbox, selector: \"mat-checkbox\", inputs: [\"disableRipple\", \"color\", \"tabIndex\", \"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"id\", \"required\", \"labelPosition\", \"name\", \"value\", \"checked\", \"disabled\", \"indeterminate\"], outputs: [\"change\", \"indeterminateChange\"], exportAs: [\"matCheckbox\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-checkbox-field', template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <mat-checkbox\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [labelPosition]=\\\"field.labelPosition\\\"\\r\\n    >\\r\\n        {{field.label}}\\r\\n    </mat-checkbox>\\r\\n</ng-container>\\r\\n\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VChipsFieldComponent {\r\n    constructor() {\r\n        this.filterControl = new FormControl('');\r\n        this.separatorKeysCodes = [ENTER, COMMA];\r\n        this.data = [];\r\n        this.idxs = [];\r\n        this._optionSubject = new BehaviorSubject([]);\r\n        this.options = this._optionSubject.asObservable();\r\n        this._chipsSubject = new BehaviorSubject([]);\r\n        this.chips = this._chipsSubject.asObservable();\r\n    }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n        if (this.field.options instanceof Observable) {\r\n            this.field.options\r\n                .pipe(map(x => this._transformOptions(x)))\r\n                .subscribe(options => {\r\n                this.data = options;\r\n                this._optionSubject.next(this.data);\r\n                this._chipsSubject.next(this.field.value);\r\n            });\r\n        }\r\n        else {\r\n            this.data = this._transformOptions(this.field.options);\r\n            this._optionSubject.next(this.data);\r\n            this._chipsSubject.next(this.field.value);\r\n        }\r\n        this.filterControl.valueChanges\r\n            .pipe(startWith(''), map(value => (typeof value === 'string' ? value : value.label)), map(value => this._filter(value)))\r\n            .subscribe(res => {\r\n            this._optionSubject.next(res);\r\n        });\r\n        this.chips\r\n            .subscribe(value => {\r\n            this._filterOptions();\r\n            this.control.setValue(value);\r\n        });\r\n    }\r\n    remove(item) {\r\n        const chips = this._chipsSubject.value;\r\n        const index = chips.findIndex(x => x.value === item.value);\r\n        if (index !== -1) {\r\n            chips.splice(index, 1);\r\n        }\r\n        this._chipsSubject.next(chips);\r\n    }\r\n    selected(event) {\r\n        var _a;\r\n        const value = event.option.value;\r\n        const chips = this._chipsSubject.value;\r\n        chips.push(value);\r\n        this._chipsSubject.next(chips);\r\n        (_a = this.chipsInput) === null || _a === void 0 ? void 0 : _a.nativeElement.blur();\r\n    }\r\n    _filter(value) {\r\n        const filterValue = value.toLowerCase();\r\n        const idxs = this._chipsSubject.value.map(x => x.value);\r\n        return this.data\r\n            .filter(option => option.label.toLowerCase().includes(filterValue) ||\r\n            option.label.replace(' ', '').toLowerCase().includes(filterValue) ||\r\n            option.label.toLowerCase().includes(filterValue.replace(' ', '')))\r\n            .filter(option => idxs.indexOf(option.value) === -1)\r\n            .sort((a, b) => {\r\n            var _a, _b;\r\n            const aIdx = (_a = a.label) === null || _a === void 0 ? void 0 : _a.toLowerCase().indexOf(filterValue), bIdx = (_b = b.label) === null || _b === void 0 ? void 0 : _b.toLowerCase().indexOf(filterValue);\r\n            return aIdx > bIdx ? 1 : -1;\r\n        });\r\n    }\r\n    displayFn(option) {\r\n        return option && option.label ? option.label : '';\r\n    }\r\n    trackByFn(index, item) {\r\n        if (!item)\r\n            return null;\r\n        return index;\r\n    }\r\n    onFocus() {\r\n        var _a, _b;\r\n        if (!this.filterControl.value || this.filterControl.value === '') {\r\n            (_a = this.trigger) === null || _a === void 0 ? void 0 : _a._onChange('');\r\n            (_b = this.trigger) === null || _b === void 0 ? void 0 : _b.openPanel();\r\n        }\r\n    }\r\n    _filterOptions() {\r\n        const idxs = this._chipsSubject.value.map(x => x.value);\r\n        const options = this.data\r\n            .filter(x => idxs.indexOf(x.value) === -1);\r\n        this._optionSubject.next(options);\r\n    }\r\n    _transformOptions(options) {\r\n        return options.map(o => {\r\n            var _a, _b, _c, _d;\r\n            return Object.assign(Object.assign({}, o), { data: Object.assign(Object.assign({}, o.data), { color: (_b = (_a = o.data) === null || _a === void 0 ? void 0 : _a.color) !== null && _b !== void 0 ? _b : 'accent', selected: (_d = (_c = o.data) === null || _c === void 0 ? void 0 : _c.selected) !== null && _d !== void 0 ? _d : false }) });\r\n        });\r\n    }\r\n}\r\nVChipsFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVChipsFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VChipsFieldComponent, selector: \"v-v-chips-field\", viewQueries: [{ propertyName: \"trigger\", first: true, predicate: MatAutocompleteTrigger, descendants: true, read: MatAutocompleteTrigger }, { propertyName: \"chipsInput\", first: true, predicate: [\"chipsInput\"], descendants: true }], ngImport: i0, template: \"<mat-form-field  [formGroup]=\\\"group\\\">\\n    <mat-label *ngIf=\\\"field.label\\\">{{ field.label }}</mat-label>\\n    <mat-chip-list #chipList>\\n      <mat-chip\\n        *ngFor=\\\"let item of chips | async\\\"\\n        [color]=\\\"item.data?.color\\\"\\n        [selected]=\\\"item.data?.selected\\\"\\n        (removed)=\\\"remove(item)\\\"\\n        >\\n        {{ item.label }}\\n        <button matChipRemove>\\n          <mat-icon>cancel</mat-icon>\\n        </button>\\n      </mat-chip>\\n      <input\\n        [placeholder]=\\\"field.placeholder\\\"\\n        #chipsInput\\n        [formControl]=\\\"filterControl\\\"\\n        [matAutocomplete]=\\\"auto\\\"\\n        [matChipInputFor]=\\\"chipList\\\"\\n        [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\n        (click)=\\\"onFocus()\\\"\\n    >\\n    </mat-chip-list>\\n    <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\" [displayWith]=\\\"displayFn\\\">\\n      <mat-option *ngFor=\\\"let option of options | async\\\" [value]=\\\"option\\\">\\n        {{option.label}}\\n      </mat-option>\\n    </mat-autocomplete>\\n</mat-form-field>\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$3.MatChipList, selector: \"mat-chip-list\", inputs: [\"errorStateMatcher\", \"multiple\", \"compareWith\", \"value\", \"required\", \"placeholder\", \"disabled\", \"aria-orientation\", \"selectable\", \"tabIndex\"], outputs: [\"change\", \"valueChange\"], exportAs: [\"matChipList\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2$2.MatAutocomplete, selector: \"mat-autocomplete\", inputs: [\"disableRipple\"], exportAs: [\"matAutocomplete\"] }, { type: i4$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.MatChip, selector: \"mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]\", inputs: [\"color\", \"disableRipple\", \"tabIndex\", \"selected\", \"value\", \"selectable\", \"disabled\", \"removable\"], outputs: [\"selectionChange\", \"destroyed\", \"removed\"], exportAs: [\"matChip\"] }, { type: i2$3.MatChipRemove, selector: \"[matChipRemove]\" }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2$2.MatAutocompleteTrigger, selector: \"input[matAutocomplete], textarea[matAutocomplete]\", exportAs: [\"matAutocompleteTrigger\"] }, { type: i2$3.MatChipInput, selector: \"input[matChipInputFor]\", inputs: [\"matChipInputFor\", \"matChipInputAddOnBlur\", \"matChipInputSeparatorKeyCodes\", \"placeholder\", \"id\", \"disabled\"], outputs: [\"matChipInputTokenEnd\"], exportAs: [\"matChipInput\", \"matChipInputFor\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'v-v-chips-field', template: \"<mat-form-field  [formGroup]=\\\"group\\\">\\n    <mat-label *ngIf=\\\"field.label\\\">{{ field.label }}</mat-label>\\n    <mat-chip-list #chipList>\\n      <mat-chip\\n        *ngFor=\\\"let item of chips | async\\\"\\n        [color]=\\\"item.data?.color\\\"\\n        [selected]=\\\"item.data?.selected\\\"\\n        (removed)=\\\"remove(item)\\\"\\n        >\\n        {{ item.label }}\\n        <button matChipRemove>\\n          <mat-icon>cancel</mat-icon>\\n        </button>\\n      </mat-chip>\\n      <input\\n        [placeholder]=\\\"field.placeholder\\\"\\n        #chipsInput\\n        [formControl]=\\\"filterControl\\\"\\n        [matAutocomplete]=\\\"auto\\\"\\n        [matChipInputFor]=\\\"chipList\\\"\\n        [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\n        (click)=\\\"onFocus()\\\"\\n    >\\n    </mat-chip-list>\\n    <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\" [displayWith]=\\\"displayFn\\\">\\n      <mat-option *ngFor=\\\"let option of options | async\\\" [value]=\\\"option\\\">\\n        {{option.label}}\\n      </mat-option>\\n    </mat-autocomplete>\\n</mat-form-field>\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { trigger: [{\r\n                type: ViewChild,\r\n                args: [MatAutocompleteTrigger, { read: MatAutocompleteTrigger }]\r\n            }], chipsInput: [{\r\n                type: ViewChild,\r\n                args: ['chipsInput']\r\n            }] } });\n\nclass VChipsComponent {\r\n    constructor() {\r\n        this._optionSubject = new BehaviorSubject([]);\r\n        this.options = this._optionSubject.asObservable();\r\n    }\r\n    ngOnInit() {\r\n        if (this.field.options instanceof Observable) {\r\n            this.field.options\r\n                .pipe(map(x => this._transformOptions(x)))\r\n                .subscribe(options => {\r\n                this._optionSubject.next(options);\r\n            });\r\n        }\r\n        else {\r\n            this._optionSubject.next(this._transformOptions(this.field.options));\r\n        }\r\n    }\r\n    _transformOptions(options) {\r\n        return options.map(o => {\r\n            var _a, _b, _c, _d;\r\n            return Object.assign(Object.assign({}, o), { data: Object.assign(Object.assign({}, o.data), { color: (_b = (_a = o.data) === null || _a === void 0 ? void 0 : _a.color) !== null && _b !== void 0 ? _b : 'accent', selected: (_d = (_c = o.data) === null || _c === void 0 ? void 0 : _c.selected) !== null && _d !== void 0 ? _d : false }) });\r\n        });\r\n    }\r\n}\r\nVChipsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVChipsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VChipsComponent, selector: \"app-v-chips\", ngImport: i0, template: \"<mat-chip-list>\\r\\n  <mat-chip *ngFor=\\\"let option of options | async\\\" \\r\\n    [color]=\\\"option.data?.color\\\"\\r\\n    [selected]=\\\"option.data?.selected\\\"\\r\\n  >\\r\\n    {{option.label}}\\r\\n  </mat-chip>\\r\\n</mat-chip-list>\", styles: [\"\"], components: [{ type: i2$3.MatChipList, selector: \"mat-chip-list\", inputs: [\"errorStateMatcher\", \"multiple\", \"compareWith\", \"value\", \"required\", \"placeholder\", \"disabled\", \"aria-orientation\", \"selectable\", \"tabIndex\"], outputs: [\"change\", \"valueChange\"], exportAs: [\"matChipList\"] }], directives: [{ type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.MatChip, selector: \"mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]\", inputs: [\"color\", \"disableRipple\", \"tabIndex\", \"selected\", \"value\", \"selectable\", \"disabled\", \"removable\"], outputs: [\"selectionChange\", \"destroyed\", \"removed\"], exportAs: [\"matChip\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-chips', template: \"<mat-chip-list>\\r\\n  <mat-chip *ngFor=\\\"let option of options | async\\\" \\r\\n    [color]=\\\"option.data?.color\\\"\\r\\n    [selected]=\\\"option.data?.selected\\\"\\r\\n  >\\r\\n    {{option.label}}\\r\\n  </mat-chip>\\r\\n</mat-chip-list>\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VColorFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() { }\r\n}\r\nVColorFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVColorFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VColorFieldComponent, selector: \"app-v-color-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        type=\\\"color\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n    />\\r\\n\\r\\n    <mat-icon *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-color-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        type=\\\"color\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n    />\\r\\n\\r\\n    <mat-icon *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VDatepickerFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() { }\r\n}\r\nVDatepickerFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVDatepickerFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VDatepickerFieldComponent, selector: \"app-datepicker-field\", ngImport: i0, template: \"<mat-form-field color=\\\"field.color\\\" appearance=\\\"fill\\\"  [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <input \\r\\n        matInput \\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [matDatepicker]=\\\"picker1\\\"\\r\\n    >\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker1\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker1></mat-datepicker>\\r\\n</mat-form-field>\", styles: [\"\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$4.MatDatepickerToggle, selector: \"mat-datepicker-toggle\", inputs: [\"for\", \"tabIndex\", \"aria-label\", \"disabled\", \"disableRipple\"], exportAs: [\"matDatepickerToggle\"] }, { type: i2$4.MatDatepicker, selector: \"mat-datepicker\", exportAs: [\"matDatepicker\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2$4.MatDatepickerInput, selector: \"input[matDatepicker]\", inputs: [\"matDatepicker\", \"min\", \"max\", \"matDatepickerFilter\"], exportAs: [\"matDatepickerInput\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-datepicker-field', template: \"<mat-form-field color=\\\"field.color\\\" appearance=\\\"fill\\\"  [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <input \\r\\n        matInput \\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [matDatepicker]=\\\"picker1\\\"\\r\\n    >\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker1\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker1></mat-datepicker>\\r\\n</mat-form-field>\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VDividerComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVDividerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVDividerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VDividerComponent, selector: \"app-v-divider\", ngImport: i0, template: \"<mat-divider></mat-divider>\\r\\n\", styles: [\"\"], components: [{ type: i1$3.MatDivider, selector: \"mat-divider\", inputs: [\"vertical\", \"inset\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-divider', template: \"<mat-divider></mat-divider>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VDragDropListComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n    drop(event) {\r\n        moveItemInArray(this.field.options, event.previousIndex, event.currentIndex);\r\n        this.group.controls[this.field.name].markAsTouched();\r\n    }\r\n}\r\nVDragDropListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVDragDropListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VDragDropListComponent, selector: \"app-drag-drop-list\", ngImport: i0, template: \"<mat-card [formGroup]=\\\"group\\\">\\r\\n    <ng-container  *ngIf=\\\"field.label\\\">\\r\\n        <mat-card-header>\\r\\n            <mat-card-title>{{field.label}}</mat-card-title>    \\r\\n        </mat-card-header>\\r\\n        <mat-divider></mat-divider>\\r\\n    </ng-container>\\r\\n    \\r\\n    <input type=\\\"hidden\\\" [formControlName]=\\\"field.name\\\" />\\r\\n    \\r\\n    <mat-card-content>        \\r\\n        <div cdkDropList class=\\\"list-wrapper\\\" (cdkDropListDropped)=\\\"drop($event)\\\">\\r\\n            <div class=\\\"list-box\\\" *ngFor=\\\"let option of field.options\\\" cdkDrag (dblclick)=\\\"field.handler(option)\\\">            \\r\\n                <mat-icon *ngIf=\\\"option.icon\\\">{{option.icon}}</mat-icon>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.showAvatar && option.data?.image\\\">\\r\\n                    <img class=\\\"avatar-img\\\" [src]=\\\"option.data.image\\\" [alt]=\\\"option.label\\\">\\r\\n                </ng-container>\\r\\n\\r\\n                <strong *ngIf=\\\"option.label\\\">{{option.label}}</strong>\\r\\n\\r\\n                <span *ngIf=\\\"option.data?.info\\\">{{option.data?.info}}</span>\\r\\n                <span *ngIf=\\\"!option.data?.info\\\"></span>\\r\\n\\r\\n                <span style=\\\"flex: 1\\\"></span>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.removable\\\">\\r\\n                    <button\\r\\n                        mat-icon-button \\r\\n                        matTooltip=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\"\\r\\n                        color=\\\"warn\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        (click)=\\\"field.removeHandler(option)\\\"\\r\\n                        >\\r\\n                        <mat-icon>clear</mat-icon>\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n\\r\\n                <span *ngIf=\\\"!field.removable\\\"></span>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.showPreview && option.data?.image\\\">\\r\\n                    <img *cdkDragPreview [src]=\\\"option.data.image\\\" [alt]=\\\"option.label\\\">\\r\\n                </ng-container>            \\r\\n            </div>\\r\\n        </div>\\r\\n    </mat-card-content>    \\r\\n</mat-card>\\r\\n\", styles: [\"mat-card{margin:10px 0}mat-card-content{padding:10px 0}mat-card-header{display:flex;justify-content:space-between;margin-bottom:5px}.list-wrapper{width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.list-box{padding:10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;box-sizing:border-box;cursor:move;background:white;font-size:14px}.list-box mat-icon{margin-right:15px}.list-box .avatar-img{width:40px;margin-right:20px;border-radius:5px}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.list-box:last-child{border:none}.list-wrapper.cdk-drop-list-dragging .list-box:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.hidden{display:none}\\n\"], components: [{ type: i1$4.MatCard, selector: \"mat-card\", exportAs: [\"matCard\"] }, { type: i1$4.MatCardHeader, selector: \"mat-card-header\" }, { type: i1$3.MatDivider, selector: \"mat-divider\", inputs: [\"vertical\", \"inset\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$4.MatCardTitle, selector: \"mat-card-title, [mat-card-title], [matCardTitle]\" }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$4.MatCardContent, selector: \"mat-card-content, [mat-card-content], [matCardContent]\" }, { type: i7.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"cdkDropListData\", \"cdkDropListOrientation\", \"id\", \"cdkDropListLockAxis\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i7.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i7.CdkDragPreview, selector: \"ng-template[cdkDragPreview]\", inputs: [\"data\", \"matchSize\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-drag-drop-list', template: \"<mat-card [formGroup]=\\\"group\\\">\\r\\n    <ng-container  *ngIf=\\\"field.label\\\">\\r\\n        <mat-card-header>\\r\\n            <mat-card-title>{{field.label}}</mat-card-title>    \\r\\n        </mat-card-header>\\r\\n        <mat-divider></mat-divider>\\r\\n    </ng-container>\\r\\n    \\r\\n    <input type=\\\"hidden\\\" [formControlName]=\\\"field.name\\\" />\\r\\n    \\r\\n    <mat-card-content>        \\r\\n        <div cdkDropList class=\\\"list-wrapper\\\" (cdkDropListDropped)=\\\"drop($event)\\\">\\r\\n            <div class=\\\"list-box\\\" *ngFor=\\\"let option of field.options\\\" cdkDrag (dblclick)=\\\"field.handler(option)\\\">            \\r\\n                <mat-icon *ngIf=\\\"option.icon\\\">{{option.icon}}</mat-icon>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.showAvatar && option.data?.image\\\">\\r\\n                    <img class=\\\"avatar-img\\\" [src]=\\\"option.data.image\\\" [alt]=\\\"option.label\\\">\\r\\n                </ng-container>\\r\\n\\r\\n                <strong *ngIf=\\\"option.label\\\">{{option.label}}</strong>\\r\\n\\r\\n                <span *ngIf=\\\"option.data?.info\\\">{{option.data?.info}}</span>\\r\\n                <span *ngIf=\\\"!option.data?.info\\\"></span>\\r\\n\\r\\n                <span style=\\\"flex: 1\\\"></span>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.removable\\\">\\r\\n                    <button\\r\\n                        mat-icon-button \\r\\n                        matTooltip=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\"\\r\\n                        color=\\\"warn\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        (click)=\\\"field.removeHandler(option)\\\"\\r\\n                        >\\r\\n                        <mat-icon>clear</mat-icon>\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n\\r\\n                <span *ngIf=\\\"!field.removable\\\"></span>\\r\\n\\r\\n                <ng-container *ngIf=\\\"field.showPreview && option.data?.image\\\">\\r\\n                    <img *cdkDragPreview [src]=\\\"option.data.image\\\" [alt]=\\\"option.label\\\">\\r\\n                </ng-container>            \\r\\n            </div>\\r\\n        </div>\\r\\n    </mat-card-content>    \\r\\n</mat-card>\\r\\n\", styles: [\"mat-card{margin:10px 0}mat-card-content{padding:10px 0}mat-card-header{display:flex;justify-content:space-between;margin-bottom:5px}.list-wrapper{width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.list-box{padding:10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;box-sizing:border-box;cursor:move;background:white;font-size:14px}.list-box mat-icon{margin-right:15px}.list-box .avatar-img{width:40px;margin-right:20px;border-radius:5px}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.list-box:last-child{border:none}.list-wrapper.cdk-drop-list-dragging .list-box:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.hidden{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VEditorService {\r\n    constructor() {\r\n        this.btnAction = new Subject();\r\n    }\r\n    execCommand(action) {\r\n        this.btnAction.next(action);\r\n    }\r\n}\r\nVEditorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nVEditorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorService });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorService, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return []; } });\n\nclass ToolbarBtnComponent {\r\n    constructor() {\r\n        this.isActive = false;\r\n        this.exec = new EventEmitter();\r\n    }\r\n    execCmd() {\r\n        this.exec.emit({ action: this.action });\r\n        this.isActive = !this.isActive;\r\n    }\r\n}\r\nToolbarBtnComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nToolbarBtnComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ToolbarBtnComponent, selector: \"app-toolbar-btn\", inputs: { action: \"action\", icon: \"icon\" }, outputs: { exec: \"exec\" }, ngImport: i0, template: \"<button     \\r\\n    (click)=\\\"execCmd()\\\"\\r\\n    type=\\\"button\\\">\\r\\n    <span class=\\\"material-icons\\\">{{icon}}</span>\\r\\n</button>\\r\\n\", styles: [\"::ng-deep button{min-width:25px;padding:0;border:none;background-color:#fff;cursor:pointer;transition:.3s}::ng-deep button:hover{background-color:#dcdcdc}::ng-deep button:focus{outline:none}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-toolbar-btn', template: \"<button     \\r\\n    (click)=\\\"execCmd()\\\"\\r\\n    type=\\\"button\\\">\\r\\n    <span class=\\\"material-icons\\\">{{icon}}</span>\\r\\n</button>\\r\\n\", styles: [\"::ng-deep button{min-width:25px;padding:0;border:none;background-color:#fff;cursor:pointer;transition:.3s}::ng-deep button:hover{background-color:#dcdcdc}::ng-deep button:focus{outline:none}\\n\"] }]\r\n        }], propDecorators: { action: [{\r\n                type: Input\r\n            }], icon: [{\r\n                type: Input\r\n            }], exec: [{\r\n                type: Output\r\n            }] } });\n\nclass ToolbarSelectComponent {\r\n    constructor() {\r\n        this.exec = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onSelect(arg) {\r\n        this.exec.emit({ action: this.action, arg });\r\n    }\r\n}\r\nToolbarSelectComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nToolbarSelectComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ToolbarSelectComponent, selector: \"app-toolbar-select\", inputs: { action: \"action\", args: \"args\" }, outputs: { exec: \"exec\" }, ngImport: i0, template: \"<select matNativeControl (change)=\\\"onSelect($event.target.value)\\\">  \\r\\n  <option *ngFor=\\\"let arg of args\\\" [value]=\\\"arg.value\\\">{{ arg.label }}</option>\\r\\n</select>\\r\\n\", styles: [\"::ng-deep select{width:100px;padding:3px;border:1px solid #DCDCDC}\\n\"], directives: [{ type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-toolbar-select', template: \"<select matNativeControl (change)=\\\"onSelect($event.target.value)\\\">  \\r\\n  <option *ngFor=\\\"let arg of args\\\" [value]=\\\"arg.value\\\">{{ arg.label }}</option>\\r\\n</select>\\r\\n\", styles: [\"::ng-deep select{width:100px;padding:3px;border:1px solid #DCDCDC}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { action: [{\r\n                type: Input\r\n            }], args: [{\r\n                type: Input\r\n            }], exec: [{\r\n                type: Output\r\n            }] } });\n\nclass ToolbarColorComponent {\r\n    constructor() {\r\n        this.exec = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onPick(color) {\r\n        this.exec.emit({ action: this.action, arg: color });\r\n    }\r\n}\r\nToolbarColorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nToolbarColorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ToolbarColorComponent, selector: \"app-toolbar-color\", inputs: { action: \"action\", icon: \"icon\", value: \"value\" }, outputs: { exec: \"exec\" }, ngImport: i0, template: \"<div class=\\\"color-wrapper\\\">\\r\\n    <span class=\\\"material-icons\\\">{{icon}}</span>\\r\\n    <input type=\\\"color\\\" #colorinput matNativeControl [value]=\\\"value\\\" (change)=\\\"onPick($event.target.value)\\\"/>\\r\\n</div>\\r\\n\\r\\n\", styles: [\"::ng-deep .color-wrapper{width:60px;float:left;margin-left:5px}::ng-deep .color-wrapper input{width:25px;float:right}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-toolbar-color', template: \"<div class=\\\"color-wrapper\\\">\\r\\n    <span class=\\\"material-icons\\\">{{icon}}</span>\\r\\n    <input type=\\\"color\\\" #colorinput matNativeControl [value]=\\\"value\\\" (change)=\\\"onPick($event.target.value)\\\"/>\\r\\n</div>\\r\\n\\r\\n\", styles: [\"::ng-deep .color-wrapper{width:60px;float:left;margin-left:5px}::ng-deep .color-wrapper input{width:25px;float:right}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { action: [{\r\n                type: Input\r\n            }], icon: [{\r\n                type: Input\r\n            }], value: [{\r\n                type: Input\r\n            }], exec: [{\r\n                type: Output\r\n            }] } });\n\nclass ToolbarComponent {\r\n    constructor(_editorService) {\r\n        this._editorService = _editorService;\r\n        this.formatBlockArgs = [\r\n            { value: '', label: 'Heading' },\r\n            { value: 'H1', label: 'Heading 1' },\r\n            { value: 'H2', label: 'Heading 2' },\r\n            { value: 'H3', label: 'Heading 3' },\r\n            { value: 'H4', label: 'Heading 4' },\r\n            { value: 'H5', label: 'Heading 5' },\r\n            { value: 'H6', label: 'Heading 6' }\r\n        ];\r\n        this.fontNameArgs = [\r\n            { value: '', label: 'Font Type' },\r\n            { value: 'Arial', label: 'Arial' },\r\n            { value: 'Comic Sans CS', label: 'Comic Sans CS' },\r\n            { value: 'Courier', label: 'Courier' },\r\n            { value: 'Georgia', label: 'Georgia' },\r\n            { value: 'Tahoma', label: 'Tahoma' },\r\n            { value: 'Times New Roman', label: 'Times New Roman' },\r\n            { value: 'Verdana', label: 'Verdana' }\r\n        ];\r\n        this.fontSizeArgs = [\r\n            { value: '', label: 'Font Size' },\r\n            { value: '1', label: '1' },\r\n            { value: '2', label: '2' },\r\n            { value: '3', label: '3' },\r\n            { value: '4', label: '4' },\r\n            { value: '5', label: '5' },\r\n            { value: '6', label: '6' },\r\n            { value: '7', label: '7' }\r\n        ];\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    execCmd(action) {\r\n        this._editorService.execCommand(action);\r\n    }\r\n}\r\nToolbarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarComponent, deps: [{ token: VEditorService }], target: i0.ɵɵFactoryTarget.Component });\r\nToolbarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ToolbarComponent, selector: \"app-toolbar\", ngImport: i0, template: \"<div class=\\\"toolbar-container\\\">\\r\\n    <div class=\\\"toolbar-row\\\">\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"undo\\\" action=\\\"undo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"redo\\\" action=\\\"redo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_bold\\\" action=\\\"bold\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_italic\\\" action=\\\"italic\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_underlined\\\" action=\\\"underline\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"strikethrough_s\\\" action=\\\"strikeThrough\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_align_left\\\" action=\\\"justifyLeft\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_center\\\" action=\\\"justifyCenter\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_right\\\" action=\\\"justifyRigth\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_justify\\\" action=\\\"justifyFull\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"content_cut\\\" action=\\\"cut\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"content_copy\\\" action=\\\"copy\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_indent_increase\\\" action=\\\"indent\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_indent_decrease\\\" action=\\\"outdent\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"subscript\\\" action=\\\"subscript\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"superscript\\\" action=\\\"superscript\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_list_bulleted\\\" action=\\\"insertUnorderedList\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_list_numbered\\\" action=\\\"insertOrderedList\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"formatBlock\\\" [args]=\\\"formatBlockArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"fontName\\\" [args]=\\\"fontNameArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"fontSize\\\" [args]=\\\"fontSizeArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"horizontal_rule\\\" action=\\\"insertHorizontalRule\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"insert_photo\\\" action=\\\"insertImage\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"videocam\\\" action=\\\"insertVideo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"link\\\" action=\\\"createLink\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"link_off\\\" action=\\\"unlink\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-color icon=\\\"format_color_text\\\" action=\\\"foreColor\\\" (exec)=\\\"execCmd($event)\\\"  value=\\\"#000000\\\"></app-toolbar-color>\\r\\n            <app-toolbar-color icon=\\\"format_color_fill\\\" action=\\\"hiliteColor\\\" (exec)=\\\"execCmd($event)\\\" value=\\\"#FFFFFF\\\"></app-toolbar-color>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"code\\\" action=\\\"toggleSource\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\"::ng-deep .toolbar-row{width:100%;height:50px;padding:4px;margin-bottom:5px}::ng-deep .toolbar-row .toolbar-block{float:left;height:25px;border-left:1px solid #DCDCDC;padding:1px 2px}\\n\"], components: [{ type: ToolbarBtnComponent, selector: \"app-toolbar-btn\", inputs: [\"action\", \"icon\"], outputs: [\"exec\"] }, { type: ToolbarSelectComponent, selector: \"app-toolbar-select\", inputs: [\"action\", \"args\"], outputs: [\"exec\"] }, { type: ToolbarColorComponent, selector: \"app-toolbar-color\", inputs: [\"action\", \"icon\", \"value\"], outputs: [\"exec\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-toolbar', template: \"<div class=\\\"toolbar-container\\\">\\r\\n    <div class=\\\"toolbar-row\\\">\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"undo\\\" action=\\\"undo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"redo\\\" action=\\\"redo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_bold\\\" action=\\\"bold\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_italic\\\" action=\\\"italic\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_underlined\\\" action=\\\"underline\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"strikethrough_s\\\" action=\\\"strikeThrough\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_align_left\\\" action=\\\"justifyLeft\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_center\\\" action=\\\"justifyCenter\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_right\\\" action=\\\"justifyRigth\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_align_justify\\\" action=\\\"justifyFull\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"content_cut\\\" action=\\\"cut\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"content_copy\\\" action=\\\"copy\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_indent_increase\\\" action=\\\"indent\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_indent_decrease\\\" action=\\\"outdent\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"subscript\\\" action=\\\"subscript\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"superscript\\\" action=\\\"superscript\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"format_list_bulleted\\\" action=\\\"insertUnorderedList\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"format_list_numbered\\\" action=\\\"insertOrderedList\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"formatBlock\\\" [args]=\\\"formatBlockArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"fontName\\\" [args]=\\\"fontNameArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-select action=\\\"fontSize\\\" [args]=\\\"fontSizeArgs\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-select>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"horizontal_rule\\\" action=\\\"insertHorizontalRule\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"insert_photo\\\" action=\\\"insertImage\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"videocam\\\" action=\\\"insertVideo\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"link\\\" action=\\\"createLink\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n            <app-toolbar-btn icon=\\\"link_off\\\" action=\\\"unlink\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-color icon=\\\"format_color_text\\\" action=\\\"foreColor\\\" (exec)=\\\"execCmd($event)\\\"  value=\\\"#000000\\\"></app-toolbar-color>\\r\\n            <app-toolbar-color icon=\\\"format_color_fill\\\" action=\\\"hiliteColor\\\" (exec)=\\\"execCmd($event)\\\" value=\\\"#FFFFFF\\\"></app-toolbar-color>\\r\\n        </div>\\r\\n        <div class=\\\"toolbar-block\\\">\\r\\n            <app-toolbar-btn icon=\\\"code\\\" action=\\\"toggleSource\\\" (exec)=\\\"execCmd($event)\\\"></app-toolbar-btn>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\"::ng-deep .toolbar-row{width:100%;height:50px;padding:4px;margin-bottom:5px}::ng-deep .toolbar-row .toolbar-block{float:left;height:25px;border-left:1px solid #DCDCDC;padding:1px 2px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: VEditorService }]; } });\n\n/*\r\nSource: https://github.com/TinkoffCreditSystems/angular-contenteditable-accessor\r\n*/\r\n/*\r\n * This is a barebones contenteditable {@link ControlValueAccessor} allowing you to use\r\n * Angular forms with native contenteditable HTML. For security reasons you might want\r\n * to consider sanitizing pasted/dropped content before using it. Also make sure that\r\n * you do not set any dangerous content as control value yourself, because directive\r\n * just outputs control value as-is.\r\n */\r\nclass ContenteditableValueAccessor {\r\n    constructor(elementRef, renderer) {\r\n        this.elementRef = elementRef;\r\n        this.renderer = renderer;\r\n        /*\r\n         * MutationObserver IE11 fallback (as opposed to input event for modern browsers).\r\n         * When mutation removes a tag, i.e. delete is pressed on the last remaining character\r\n         * inside a tag — callback is triggered before the DOM is actually changed, therefore\r\n         * setTimeout is used\r\n         */\r\n        this.observer = new MutationObserver(() => {\r\n            setTimeout(() => {\r\n                this.onChange(ContenteditableValueAccessor.processValue(this.elementRef.nativeElement.innerHTML));\r\n            });\r\n        });\r\n        /*\r\n         * onTouch callback that marks control as touched and allows FormHooks use\r\n         */\r\n        this.onTouched = () => { };\r\n        /*\r\n         * onChange callback that writes value to control and allows FormHooks use\r\n         */\r\n        this.onChange = () => { };\r\n    }\r\n    /*\r\n     * To support IE11 MutationObserver is used to monitor changes to the content\r\n     */\r\n    ngAfterViewInit() {\r\n        this.observer.observe(this.elementRef.nativeElement, {\r\n            characterData: true,\r\n            childList: true,\r\n            subtree: true,\r\n        });\r\n    }\r\n    /*\r\n     * Disconnect MutationObserver IE11 fallback on destroy\r\n     */\r\n    ngOnDestroy() {\r\n        this.observer.disconnect();\r\n    }\r\n    /*\r\n     * Listen to input events to write innerHTML value into control,\r\n     * also disconnect MutationObserver as it is not needed if this\r\n     * event works in current browser\r\n     */\r\n    onInput() {\r\n        this.observer.disconnect();\r\n        this.onChange(ContenteditableValueAccessor.processValue(this.elementRef.nativeElement.innerHTML));\r\n    }\r\n    /*\r\n     * Listen to blur event to mark control as touched\r\n     */\r\n    onBlur() {\r\n        this.onTouched();\r\n    }\r\n    /*\r\n     * Reacts to external change\r\n     *\r\n     * @see {@link ControlValueAccessor#writeValue}\r\n     */\r\n    writeValue(value) {\r\n        this.renderer.setProperty(this.elementRef.nativeElement, 'innerHTML', ContenteditableValueAccessor.processValue(value));\r\n    }\r\n    /*\r\n     * Registers onChange callback\r\n     *\r\n     * @see {@link ControlValueAccessor#registerOnChange}\r\n     */\r\n    registerOnChange(onChange) {\r\n        this.onChange = onChange;\r\n    }\r\n    /*\r\n     * Registers onTouch callback\r\n     *\r\n     * @see {@link ControlValueAccessor#registerOnTouched}\r\n     */\r\n    registerOnTouched(onTouched) {\r\n        this.onTouched = onTouched;\r\n    }\r\n    /*\r\n     * Sets disabled state by setting contenteditable attribute to true/false\r\n     *\r\n     * @see {@link ControlValueAccessor#setDisabledState}\r\n     */\r\n    setDisabledState(disabled) {\r\n        this.renderer.setAttribute(this.elementRef.nativeElement, 'contenteditable', String(!disabled));\r\n    }\r\n    /*\r\n     * null and other falsy control values are treated as empty string to\r\n     * prevent IE11 outputting 'null', also single <br> is replaced with empty\r\n     * string when passed to the control\r\n     */\r\n    static processValue(value) {\r\n        const processed = value || '';\r\n        return processed.trim() === '<br>' ? '' : processed;\r\n    }\r\n}\r\nContenteditableValueAccessor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableValueAccessor, deps: [{ token: ElementRef }, { token: Renderer2 }], target: i0.ɵɵFactoryTarget.Directive });\r\nContenteditableValueAccessor.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ContenteditableValueAccessor, selector: \"[contenteditable][formControlName], [contenteditable][formControl], [contenteditable][ngModel]\", host: { listeners: { \"input\": \"onInput()\", \"blur\": \"onBlur()\" } }, providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => ContenteditableValueAccessor),\r\n            multi: true,\r\n        },\r\n    ], ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableValueAccessor, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[contenteditable][formControlName], [contenteditable][formControl], [contenteditable][ngModel]',\r\n                    providers: [\r\n                        {\r\n                            provide: NG_VALUE_ACCESSOR,\r\n                            useExisting: forwardRef(() => ContenteditableValueAccessor),\r\n                            multi: true,\r\n                        },\r\n                    ],\r\n                }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i0.ElementRef, decorators: [{\r\n                        type: Inject,\r\n                        args: [ElementRef]\r\n                    }] }, { type: i0.Renderer2, decorators: [{\r\n                        type: Inject,\r\n                        args: [Renderer2]\r\n                    }] }];\r\n    }, propDecorators: { onInput: [{\r\n                type: HostListener,\r\n                args: ['input']\r\n            }], onBlur: [{\r\n                type: HostListener,\r\n                args: ['blur']\r\n            }] } });\n\nclass VEditorFieldComponent {\r\n    constructor(_doc, _editorService) {\r\n        this._doc = _doc;\r\n        this._editorService = _editorService;\r\n        this.isShowingSource = false;\r\n    }\r\n    ngOnInit() {\r\n        this._editorService.btnAction\r\n            .subscribe((action) => {\r\n            switch (action.action) {\r\n                case 'toggleSource':\r\n                    if (this.isShowingSource) {\r\n                        this.texteditor.nativeElement.innerHTML = this.texteditor.nativeElement.textContent;\r\n                    }\r\n                    else {\r\n                        this.texteditor.nativeElement.textContent = this.texteditor.nativeElement.innerHTML;\r\n                    }\r\n                    this.isShowingSource = !this.isShowingSource;\r\n                    break;\r\n                case 'insertImage':\r\n                case 'createLink':\r\n                    let imgUrl = prompt('Enter URL:', '');\r\n                    if (imgUrl) {\r\n                        this._doc.execCommand(action.action, false, imgUrl);\r\n                    }\r\n                    break;\r\n                case 'insertVideo':\r\n                    let videoUrl = prompt('Enter URL:', '');\r\n                    if (videoUrl) {\r\n                        videoUrl = videoUrl.replace(\"watch?v=\", \"embed/\");\r\n                        const embed = '<iframe src=\"' + videoUrl + '\" allowfullscreen=\"true\" width=\"480\" frameborder=\"0\" height=\"390\">';\r\n                        this._doc.execCommand(\"insertHTML\", false, embed);\r\n                    }\r\n                    break;\r\n                default:\r\n                    this._doc.execCommand(action.action, false, action.arg ? action.arg : null);\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n}\r\nVEditorFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldComponent, deps: [{ token: DOCUMENT }, { token: VEditorService }], target: i0.ɵɵFactoryTarget.Component });\r\nVEditorFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VEditorFieldComponent, selector: \"app-editor-field\", viewQueries: [{ propertyName: \"texteditor\", first: true, predicate: [\"texteditor\"], descendants: true, static: true }], ngImport: i0, template: \"<div [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <section>\\r\\n        <app-toolbar></app-toolbar>\\r\\n        <div class=\\\"editor-container\\\" #texteditor contenteditable [formControlName]=\\\"field.name\\\"></div>\\r\\n    </section>\\r\\n</div>\\r\\n\", styles: [\".editor-container{border:1px solid #ccc;border-radius:3px;outline:none;padding:3px;width:100%;min-height:300px}\\n\"], components: [{ type: ToolbarComponent, selector: \"app-toolbar\" }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: ContenteditableValueAccessor, selector: \"[contenteditable][formControlName], [contenteditable][formControl], [contenteditable][ngModel]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-editor-field', template: \"<div [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <section>\\r\\n        <app-toolbar></app-toolbar>\\r\\n        <div class=\\\"editor-container\\\" #texteditor contenteditable [formControlName]=\\\"field.name\\\"></div>\\r\\n    </section>\\r\\n</div>\\r\\n\", styles: [\".editor-container{border:1px solid #ccc;border-radius:3px;outline:none;padding:3px;width:100%;min-height:300px}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [DOCUMENT]\r\n                    }] }, { type: VEditorService }];\r\n    }, propDecorators: { texteditor: [{\r\n                type: ViewChild,\r\n                args: ['texteditor', { static: true }]\r\n            }] } });\n\nclass VFileFieldComponent {\r\n    onFileChange(event) {\r\n        this.group.get(this.field.name).markAllAsTouched();\r\n        if (event.target.files.length > 0) {\r\n            const file = event.target.files[0];\r\n            this.group.get(this.field.name).setValue(file);\r\n        }\r\n    }\r\n}\r\nVFileFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVFileFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VFileFieldComponent, selector: \"app-file-field\", ngImport: i0, template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <input type=\\\"file\\\" class=\\\"file-input\\\" (change)=\\\"onFileChange($event)\\\" [disabled]=\\\"field.disabled\\\" [hidden]=\\\"field.readonly\\\" />\\r\\n    <ng-container *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n           <span class=\\\"custom-error\\\"> {{validation.message}} </span>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\", styles: [\".file-input{width:100%;border:1px dashed #808080;border-radius:3px;padding:10px 5px;color:gray;margin-bottom:10px}.file-input::-webkit-file-upload-button{visibility:hidden}::ng-deep .custom-error{display:flex;justify-content:flex-start;color:#f44336;font-size:.7rem}\\n\"], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-file-field', template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <input type=\\\"file\\\" class=\\\"file-input\\\" (change)=\\\"onFileChange($event)\\\" [disabled]=\\\"field.disabled\\\" [hidden]=\\\"field.readonly\\\" />\\r\\n    <ng-container *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n           <span class=\\\"custom-error\\\"> {{validation.message}} </span>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</ng-container>\\r\\n\", styles: [\".file-input{width:100%;border:1px dashed #808080;border-radius:3px;padding:10px 5px;color:gray;margin-bottom:10px}.file-input::-webkit-file-upload-button{visibility:hidden}::ng-deep .custom-error{display:flex;justify-content:flex-start;color:#f44336;font-size:.7rem}\\n\"] }]\r\n        }] });\n\nvar MoveTypes;\r\n(function (MoveTypes) {\r\n    MoveTypes[\"Move\"] = \"move\";\r\n    MoveTypes[\"Resize\"] = \"resize\";\r\n    MoveTypes[\"Pinch\"] = \"pinch\";\r\n})(MoveTypes || (MoveTypes = {}));\n\nclass CropperSettings {\r\n    constructor() {\r\n        // From options\r\n        this.format = 'png';\r\n        this.maintainAspectRatio = true;\r\n        this.transform = {};\r\n        this.aspectRatio = 1;\r\n        this.resizeToWidth = 0;\r\n        this.resizeToHeight = 0;\r\n        this.cropperMinWidth = 0;\r\n        this.cropperMinHeight = 0;\r\n        this.cropperMaxHeight = 0;\r\n        this.cropperMaxWidth = 0;\r\n        this.cropperStaticWidth = 0;\r\n        this.cropperStaticHeight = 0;\r\n        this.canvasRotation = 0;\r\n        this.initialStepSize = 3;\r\n        this.roundCropper = false;\r\n        this.onlyScaleDown = false;\r\n        this.imageQuality = 92;\r\n        this.autoCrop = true;\r\n        this.backgroundColor = undefined;\r\n        this.containWithinAspectRatio = false;\r\n        this.hideResizeSquares = false;\r\n        this.alignImage = 'center';\r\n        // Internal\r\n        this.cropperScaledMinWidth = 20;\r\n        this.cropperScaledMinHeight = 20;\r\n        this.cropperScaledMaxWidth = 20;\r\n        this.cropperScaledMaxHeight = 20;\r\n        this.stepSize = this.initialStepSize;\r\n    }\r\n    setOptions(options) {\r\n        Object.keys(options)\r\n            .filter((k) => k in this)\r\n            .forEach((k) => this[k] = options[k]);\r\n        this.validateOptions();\r\n    }\r\n    setOptionsFromChanges(changes) {\r\n        Object.keys(changes)\r\n            .filter((k) => k in this)\r\n            .forEach((k) => this[k] = changes[k].currentValue);\r\n        this.validateOptions();\r\n    }\r\n    validateOptions() {\r\n        if (this.maintainAspectRatio && !this.aspectRatio) {\r\n            throw new Error('`aspectRatio` should > 0 when `maintainAspectRatio` is enabled');\r\n        }\r\n    }\r\n}\n\nfunction getPositionForKey(key) {\r\n    switch (key) {\r\n        case 'ArrowUp':\r\n            return 'top';\r\n        case 'ArrowRight':\r\n            return 'right';\r\n        case 'ArrowDown':\r\n            return 'bottom';\r\n        case 'ArrowLeft':\r\n        default:\r\n            return 'left';\r\n    }\r\n}\r\nfunction getInvertedPositionForKey(key) {\r\n    switch (key) {\r\n        case 'ArrowUp':\r\n            return 'bottom';\r\n        case 'ArrowRight':\r\n            return 'left';\r\n        case 'ArrowDown':\r\n            return 'top';\r\n        case 'ArrowLeft':\r\n        default:\r\n            return 'right';\r\n    }\r\n}\r\nfunction getEventForKey(key, stepSize) {\r\n    switch (key) {\r\n        case 'ArrowUp':\r\n            return { clientX: 0, clientY: stepSize * -1 };\r\n        case 'ArrowRight':\r\n            return { clientX: stepSize, clientY: 0 };\r\n        case 'ArrowDown':\r\n            return { clientX: 0, clientY: stepSize };\r\n        case 'ArrowLeft':\r\n        default:\r\n            return { clientX: stepSize * -1, clientY: 0 };\r\n    }\r\n}\n\n/*\r\n * Hermite resize - fast image resize/resample using Hermite filter.\r\n * https://github.com/viliusle/Hermite-resize\r\n */\r\nfunction resizeCanvas(canvas, width, height) {\r\n    const width_source = canvas.width;\r\n    const height_source = canvas.height;\r\n    width = Math.round(width);\r\n    height = Math.round(height);\r\n    const ratio_w = width_source / width;\r\n    const ratio_h = height_source / height;\r\n    const ratio_w_half = Math.ceil(ratio_w / 2);\r\n    const ratio_h_half = Math.ceil(ratio_h / 2);\r\n    const ctx = canvas.getContext('2d');\r\n    if (ctx) {\r\n        const img = ctx.getImageData(0, 0, width_source, height_source);\r\n        const img2 = ctx.createImageData(width, height);\r\n        const data = img.data;\r\n        const data2 = img2.data;\r\n        for (let j = 0; j < height; j++) {\r\n            for (let i = 0; i < width; i++) {\r\n                const x2 = (i + j * width) * 4;\r\n                const center_y = j * ratio_h;\r\n                let weight = 0;\r\n                let weights = 0;\r\n                let weights_alpha = 0;\r\n                let gx_r = 0;\r\n                let gx_g = 0;\r\n                let gx_b = 0;\r\n                let gx_a = 0;\r\n                const xx_start = Math.floor(i * ratio_w);\r\n                const yy_start = Math.floor(j * ratio_h);\r\n                let xx_stop = Math.ceil((i + 1) * ratio_w);\r\n                let yy_stop = Math.ceil((j + 1) * ratio_h);\r\n                xx_stop = Math.min(xx_stop, width_source);\r\n                yy_stop = Math.min(yy_stop, height_source);\r\n                for (let yy = yy_start; yy < yy_stop; yy++) {\r\n                    const dy = Math.abs(center_y - yy) / ratio_h_half;\r\n                    const center_x = i * ratio_w;\r\n                    const w0 = dy * dy; //pre-calc part of w\r\n                    for (let xx = xx_start; xx < xx_stop; xx++) {\r\n                        const dx = Math.abs(center_x - xx) / ratio_w_half;\r\n                        const w = Math.sqrt(w0 + dx * dx);\r\n                        if (w >= 1) {\r\n                            //pixel too far\r\n                            continue;\r\n                        }\r\n                        //hermite filter\r\n                        weight = 2 * w * w * w - 3 * w * w + 1;\r\n                        const pos_x = 4 * (xx + yy * width_source);\r\n                        //alpha\r\n                        gx_a += weight * data[pos_x + 3];\r\n                        weights_alpha += weight;\r\n                        //colors\r\n                        if (data[pos_x + 3] < 255)\r\n                            weight = weight * data[pos_x + 3] / 250;\r\n                        gx_r += weight * data[pos_x];\r\n                        gx_g += weight * data[pos_x + 1];\r\n                        gx_b += weight * data[pos_x + 2];\r\n                        weights += weight;\r\n                    }\r\n                }\r\n                data2[x2] = gx_r / weights;\r\n                data2[x2 + 1] = gx_g / weights;\r\n                data2[x2 + 2] = gx_b / weights;\r\n                data2[x2 + 3] = gx_a / weights_alpha;\r\n            }\r\n        }\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        //draw\r\n        ctx.putImageData(img2, 0, 0);\r\n    }\r\n}\n\nclass CropService {\r\n    crop(sourceImage, loadedImage, cropper, settings) {\r\n        const imagePosition = this.getImagePosition(sourceImage, loadedImage, cropper, settings);\r\n        const width = imagePosition.x2 - imagePosition.x1;\r\n        const height = imagePosition.y2 - imagePosition.y1;\r\n        const cropCanvas = document.createElement('canvas');\r\n        cropCanvas.width = width;\r\n        cropCanvas.height = height;\r\n        const ctx = cropCanvas.getContext('2d');\r\n        if (!ctx) {\r\n            return;\r\n        }\r\n        if (settings.backgroundColor != null) {\r\n            ctx.fillStyle = settings.backgroundColor;\r\n            ctx.fillRect(0, 0, width, height);\r\n        }\r\n        const scaleX = (settings.transform.scale || 1) * (settings.transform.flipH ? -1 : 1);\r\n        const scaleY = (settings.transform.scale || 1) * (settings.transform.flipV ? -1 : 1);\r\n        const transformedImage = loadedImage.transformed;\r\n        ctx.setTransform(scaleX, 0, 0, scaleY, transformedImage.size.width / 2, transformedImage.size.height / 2);\r\n        ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\r\n        ctx.rotate((settings.transform.rotate || 0) * Math.PI / 180);\r\n        ctx.drawImage(transformedImage.image, -transformedImage.size.width / 2, -transformedImage.size.height / 2);\r\n        const output = {\r\n            width, height,\r\n            imagePosition,\r\n            cropperPosition: Object.assign({}, cropper)\r\n        };\r\n        if (settings.containWithinAspectRatio) {\r\n            output.offsetImagePosition = this.getOffsetImagePosition(sourceImage, loadedImage, cropper, settings);\r\n        }\r\n        const resizeRatio = this.getResizeRatio(width, height, settings);\r\n        if (resizeRatio !== 1) {\r\n            output.width = Math.round(width * resizeRatio);\r\n            output.height = settings.maintainAspectRatio\r\n                ? Math.round(output.width / settings.aspectRatio)\r\n                : Math.round(height * resizeRatio);\r\n            resizeCanvas(cropCanvas, output.width, output.height);\r\n        }\r\n        output.base64 = cropCanvas.toDataURL('image/' + settings.format, this.getQuality(settings));\r\n        return output;\r\n    }\r\n    getImagePosition(sourceImage, loadedImage, cropper, settings) {\r\n        const sourceImageElement = sourceImage.nativeElement;\r\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\r\n        const out = {\r\n            x1: Math.round(cropper.x1 * ratio),\r\n            y1: Math.round(cropper.y1 * ratio),\r\n            x2: Math.round(cropper.x2 * ratio),\r\n            y2: Math.round(cropper.y2 * ratio)\r\n        };\r\n        if (!settings.containWithinAspectRatio) {\r\n            out.x1 = Math.max(out.x1, 0);\r\n            out.y1 = Math.max(out.y1, 0);\r\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\r\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\r\n        }\r\n        return out;\r\n    }\r\n    getOffsetImagePosition(sourceImage, loadedImage, cropper, settings) {\r\n        const canvasRotation = settings.canvasRotation + loadedImage.exifTransform.rotate;\r\n        const sourceImageElement = sourceImage.nativeElement;\r\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\r\n        let offsetX;\r\n        let offsetY;\r\n        if (canvasRotation % 2) {\r\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.height) / 2;\r\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.width) / 2;\r\n        }\r\n        else {\r\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.width) / 2;\r\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.height) / 2;\r\n        }\r\n        const out = {\r\n            x1: Math.round(cropper.x1 * ratio) - offsetX,\r\n            y1: Math.round(cropper.y1 * ratio) - offsetY,\r\n            x2: Math.round(cropper.x2 * ratio) - offsetX,\r\n            y2: Math.round(cropper.y2 * ratio) - offsetY\r\n        };\r\n        if (!settings.containWithinAspectRatio) {\r\n            out.x1 = Math.max(out.x1, 0);\r\n            out.y1 = Math.max(out.y1, 0);\r\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\r\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\r\n        }\r\n        return out;\r\n    }\r\n    getResizeRatio(width, height, settings) {\r\n        const ratioWidth = settings.resizeToWidth / width;\r\n        const ratioHeight = settings.resizeToHeight / height;\r\n        const ratios = new Array();\r\n        if (settings.resizeToWidth > 0) {\r\n            ratios.push(ratioWidth);\r\n        }\r\n        if (settings.resizeToHeight > 0) {\r\n            ratios.push(ratioHeight);\r\n        }\r\n        const result = ratios.length === 0 ? 1 : Math.min(...ratios);\r\n        if (result > 1 && !settings.onlyScaleDown) {\r\n            return result;\r\n        }\r\n        return Math.min(result, 1);\r\n    }\r\n    getQuality(settings) {\r\n        return Math.min(1, Math.max(0, settings.imageQuality / 100));\r\n    }\r\n}\r\nCropService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nCropService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropService, decorators: [{\r\n            type: Injectable,\r\n            args: [{ providedIn: 'root' }]\r\n        }] });\n\nclass CropperPositionService {\r\n    resetCropperPosition(sourceImage, cropperPosition, settings) {\r\n        if (!(sourceImage === null || sourceImage === void 0 ? void 0 : sourceImage.nativeElement)) {\r\n            return;\r\n        }\r\n        const sourceImageElement = sourceImage.nativeElement;\r\n        if (settings.cropperStaticHeight && settings.cropperStaticWidth) {\r\n            cropperPosition.x1 = 0;\r\n            cropperPosition.x2 = sourceImageElement.offsetWidth > settings.cropperStaticWidth ?\r\n                settings.cropperStaticWidth : sourceImageElement.offsetWidth;\r\n            cropperPosition.y1 = 0;\r\n            cropperPosition.y2 = sourceImageElement.offsetHeight > settings.cropperStaticHeight ?\r\n                settings.cropperStaticHeight : sourceImageElement.offsetHeight;\r\n        }\r\n        else {\r\n            const cropperWidth = Math.min(settings.cropperScaledMaxWidth, sourceImageElement.offsetWidth);\r\n            const cropperHeight = Math.min(settings.cropperScaledMaxHeight, sourceImageElement.offsetHeight);\r\n            if (!settings.maintainAspectRatio) {\r\n                cropperPosition.x1 = 0;\r\n                cropperPosition.x2 = cropperWidth;\r\n                cropperPosition.y1 = 0;\r\n                cropperPosition.y2 = cropperHeight;\r\n            }\r\n            else if (cropperWidth / settings.aspectRatio < cropperHeight) {\r\n                cropperPosition.x1 = 0;\r\n                cropperPosition.x2 = cropperWidth;\r\n                const cropperHeightWithAspectRatio = cropperWidth / settings.aspectRatio;\r\n                cropperPosition.y1 = (sourceImageElement.offsetHeight - cropperHeightWithAspectRatio) / 2;\r\n                cropperPosition.y2 = cropperPosition.y1 + cropperHeightWithAspectRatio;\r\n            }\r\n            else {\r\n                cropperPosition.y1 = 0;\r\n                cropperPosition.y2 = cropperHeight;\r\n                const cropperWidthWithAspectRatio = cropperHeight * settings.aspectRatio;\r\n                cropperPosition.x1 = (sourceImageElement.offsetWidth - cropperWidthWithAspectRatio) / 2;\r\n                cropperPosition.x2 = cropperPosition.x1 + cropperWidthWithAspectRatio;\r\n            }\r\n        }\r\n    }\r\n    move(event, moveStart, cropperPosition) {\r\n        const diffX = this.getClientX(event) - moveStart.clientX;\r\n        const diffY = this.getClientY(event) - moveStart.clientY;\r\n        cropperPosition.x1 = moveStart.x1 + diffX;\r\n        cropperPosition.y1 = moveStart.y1 + diffY;\r\n        cropperPosition.x2 = moveStart.x2 + diffX;\r\n        cropperPosition.y2 = moveStart.y2 + diffY;\r\n    }\r\n    resize(event, moveStart, cropperPosition, maxSize, settings) {\r\n        const moveX = this.getClientX(event) - moveStart.clientX;\r\n        const moveY = this.getClientY(event) - moveStart.clientY;\r\n        switch (moveStart.position) {\r\n            case 'left':\r\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n                break;\r\n            case 'topleft':\r\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'top':\r\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'topright':\r\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'right':\r\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n                break;\r\n            case 'bottomright':\r\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'bottom':\r\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'bottomleft':\r\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n                break;\r\n            case 'center':\r\n                const scale = event.scale;\r\n                const newWidth = Math.min(Math.max(settings.cropperScaledMinWidth, (Math.abs(moveStart.x2 - moveStart.x1)) * scale), settings.cropperScaledMaxWidth);\r\n                const newHeight = Math.min(Math.max(settings.cropperScaledMinHeight, (Math.abs(moveStart.y2 - moveStart.y1)) * scale), settings.cropperScaledMaxHeight);\r\n                cropperPosition.x1 = moveStart.clientX - newWidth / 2;\r\n                cropperPosition.x2 = moveStart.clientX + newWidth / 2;\r\n                cropperPosition.y1 = moveStart.clientY - newHeight / 2;\r\n                cropperPosition.y2 = moveStart.clientY + newHeight / 2;\r\n                if (cropperPosition.x1 < 0) {\r\n                    cropperPosition.x2 -= cropperPosition.x1;\r\n                    cropperPosition.x1 = 0;\r\n                }\r\n                else if (cropperPosition.x2 > maxSize.width) {\r\n                    cropperPosition.x1 -= (cropperPosition.x2 - maxSize.width);\r\n                    cropperPosition.x2 = maxSize.width;\r\n                }\r\n                if (cropperPosition.y1 < 0) {\r\n                    cropperPosition.y2 -= cropperPosition.y1;\r\n                    cropperPosition.y1 = 0;\r\n                }\r\n                else if (cropperPosition.y2 > maxSize.height) {\r\n                    cropperPosition.y1 -= (cropperPosition.y2 - maxSize.height);\r\n                    cropperPosition.y2 = maxSize.height;\r\n                }\r\n                break;\r\n        }\r\n        if (settings.maintainAspectRatio) {\r\n            this.checkAspectRatio(moveStart.position, cropperPosition, maxSize, settings);\r\n        }\r\n    }\r\n    checkAspectRatio(position, cropperPosition, maxSize, settings) {\r\n        let overflowX = 0;\r\n        let overflowY = 0;\r\n        switch (position) {\r\n            case 'top':\r\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'bottom':\r\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : (overflowX / settings.aspectRatio);\r\n                }\r\n                break;\r\n            case 'topleft':\r\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\r\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'topright':\r\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'right':\r\n            case 'bottomright':\r\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'left':\r\n            case 'bottomleft':\r\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\r\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n                if (overflowX > 0 || overflowY > 0) {\r\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n                }\r\n                break;\r\n            case 'center':\r\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n                const overflowX1 = Math.max(0 - cropperPosition.x1, 0);\r\n                const overflowX2 = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n                const overflowY1 = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n                const overflowY2 = Math.max(0 - cropperPosition.y1, 0);\r\n                if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\r\n                    cropperPosition.x1 += (overflowY1 * settings.aspectRatio) > overflowX1 ? (overflowY1 * settings.aspectRatio) : overflowX1;\r\n                    cropperPosition.x2 -= (overflowY2 * settings.aspectRatio) > overflowX2 ? (overflowY2 * settings.aspectRatio) : overflowX2;\r\n                    cropperPosition.y1 += (overflowY2 * settings.aspectRatio) > overflowX2 ? overflowY2 : overflowX2 / settings.aspectRatio;\r\n                    cropperPosition.y2 -= (overflowY1 * settings.aspectRatio) > overflowX1 ? overflowY1 : overflowX1 / settings.aspectRatio;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    getClientX(event) {\r\n        return (event.touches && event.touches[0] ? event.touches[0].clientX : event.clientX) || 0;\r\n    }\r\n    getClientY(event) {\r\n        return (event.touches && event.touches[0] ? event.touches[0].clientY : event.clientY) || 0;\r\n    }\r\n}\r\nCropperPositionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropperPositionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nCropperPositionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropperPositionService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: CropperPositionService, decorators: [{\r\n            type: Injectable,\r\n            args: [{ providedIn: 'root' }]\r\n        }] });\n\n// Black 2x1 JPEG, with the following meta information set:\r\n// - EXIF Orientation: 6 (Rotated 90° CCW)\r\n// Source: https://github.com/blueimp/JavaScript-Load-Image\r\nconst testAutoOrientationImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\r\n    'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\r\n    'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\r\n    'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\r\n    'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\r\n    'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\r\nfunction supportsAutomaticRotation() {\r\n    return new Promise((resolve) => {\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            // Check if browser supports automatic image orientation:\r\n            const supported = img.width === 1 && img.height === 2;\r\n            resolve(supported);\r\n        };\r\n        img.src = testAutoOrientationImageURL;\r\n    });\r\n}\r\nfunction getTransformationsFromExifData(exifRotationOrBase64Image) {\r\n    if (typeof exifRotationOrBase64Image === 'string') {\r\n        exifRotationOrBase64Image = getExifRotation(exifRotationOrBase64Image);\r\n    }\r\n    switch (exifRotationOrBase64Image) {\r\n        case 2:\r\n            return { rotate: 0, flip: true };\r\n        case 3:\r\n            return { rotate: 2, flip: false };\r\n        case 4:\r\n            return { rotate: 2, flip: true };\r\n        case 5:\r\n            return { rotate: 1, flip: true };\r\n        case 6:\r\n            return { rotate: 1, flip: false };\r\n        case 7:\r\n            return { rotate: 3, flip: true };\r\n        case 8:\r\n            return { rotate: 3, flip: false };\r\n        default:\r\n            return { rotate: 0, flip: false };\r\n    }\r\n}\r\nfunction getExifRotation(imageBase64) {\r\n    const view = new DataView(base64ToArrayBuffer(imageBase64));\r\n    if (view.getUint16(0, false) != 0xFFD8) {\r\n        return -2;\r\n    }\r\n    const length = view.byteLength;\r\n    let offset = 2;\r\n    while (offset < length) {\r\n        if (view.getUint16(offset + 2, false) <= 8)\r\n            return -1;\r\n        const marker = view.getUint16(offset, false);\r\n        offset += 2;\r\n        if (marker == 0xFFE1) {\r\n            if (view.getUint32(offset += 2, false) != 0x45786966) {\r\n                return -1;\r\n            }\r\n            const little = view.getUint16(offset += 6, false) == 0x4949;\r\n            offset += view.getUint32(offset + 4, little);\r\n            const tags = view.getUint16(offset, little);\r\n            offset += 2;\r\n            for (let i = 0; i < tags; i++) {\r\n                if (view.getUint16(offset + (i * 12), little) == 0x0112) {\r\n                    return view.getUint16(offset + (i * 12) + 8, little);\r\n                }\r\n            }\r\n        }\r\n        else if ((marker & 0xFF00) != 0xFF00) {\r\n            break;\r\n        }\r\n        else {\r\n            offset += view.getUint16(offset, false);\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nfunction base64ToArrayBuffer(imageBase64) {\r\n    imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\r\n    const binaryString = atob(imageBase64);\r\n    const len = binaryString.length;\r\n    const bytes = new Uint8Array(len);\r\n    for (let i = 0; i < len; i++) {\r\n        bytes[i] = binaryString.charCodeAt(i);\r\n    }\r\n    return bytes.buffer;\r\n}\n\nclass LoadImageService {\r\n    constructor() {\r\n        this.autoRotateSupported = supportsAutomaticRotation();\r\n    }\r\n    loadImageFile(file, cropperSettings) {\r\n        return new Promise((resolve, reject) => {\r\n            const fileReader = new FileReader();\r\n            fileReader.onload = (event) => {\r\n                this.loadImage(event.target.result, file.type, cropperSettings)\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            };\r\n            fileReader.readAsDataURL(file);\r\n        });\r\n    }\r\n    loadImage(imageBase64, imageType, cropperSettings) {\r\n        if (!this.isValidImageType(imageType)) {\r\n            return Promise.reject(new Error('Invalid image type'));\r\n        }\r\n        return this.loadBase64Image(imageBase64, cropperSettings);\r\n    }\r\n    isValidImageType(type) {\r\n        return /image\\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(type);\r\n    }\r\n    loadImageFromURL(url, cropperSettings) {\r\n        return new Promise((resolve, reject) => {\r\n            const img = new Image();\r\n            img.onerror = () => reject;\r\n            img.onload = () => {\r\n                const canvas = document.createElement('canvas');\r\n                const context = canvas.getContext('2d');\r\n                canvas.width = img.width;\r\n                canvas.height = img.height;\r\n                context.drawImage(img, 0, 0);\r\n                this.loadBase64Image(canvas.toDataURL(), cropperSettings).then(resolve);\r\n            };\r\n            img.crossOrigin = 'anonymous';\r\n            img.src = url;\r\n        });\r\n    }\r\n    loadBase64Image(imageBase64, cropperSettings) {\r\n        return new Promise((resolve, reject) => {\r\n            const originalImage = new Image();\r\n            originalImage.onload = () => resolve({\r\n                originalImage,\r\n                originalBase64: imageBase64\r\n            });\r\n            originalImage.onerror = reject;\r\n            originalImage.src = imageBase64;\r\n        }).then((res) => this.transformImageBase64(res, cropperSettings));\r\n    }\r\n    transformImageBase64(res, cropperSettings) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const autoRotate = yield this.autoRotateSupported;\r\n            const exifTransform = yield getTransformationsFromExifData(autoRotate ? -1 : res.originalBase64);\r\n            if (!res.originalImage || !res.originalImage.complete) {\r\n                return Promise.reject(new Error('No image loaded'));\r\n            }\r\n            const loadedImage = {\r\n                original: {\r\n                    base64: res.originalBase64,\r\n                    image: res.originalImage,\r\n                    size: {\r\n                        width: res.originalImage.naturalWidth,\r\n                        height: res.originalImage.naturalHeight\r\n                    }\r\n                },\r\n                exifTransform\r\n            };\r\n            return this.transformLoadedImage(loadedImage, cropperSettings);\r\n        });\r\n    }\r\n    transformLoadedImage(loadedImage, cropperSettings) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const canvasRotation = cropperSettings.canvasRotation + loadedImage.exifTransform.rotate;\r\n            const originalSize = {\r\n                width: loadedImage.original.image.naturalWidth,\r\n                height: loadedImage.original.image.naturalHeight\r\n            };\r\n            if (canvasRotation === 0 && !loadedImage.exifTransform.flip && !cropperSettings.containWithinAspectRatio) {\r\n                return {\r\n                    original: {\r\n                        base64: loadedImage.original.base64,\r\n                        image: loadedImage.original.image,\r\n                        size: Object.assign({}, originalSize)\r\n                    },\r\n                    transformed: {\r\n                        base64: loadedImage.original.base64,\r\n                        image: loadedImage.original.image,\r\n                        size: Object.assign({}, originalSize)\r\n                    },\r\n                    exifTransform: loadedImage.exifTransform\r\n                };\r\n            }\r\n            const transformedSize = this.getTransformedSize(originalSize, loadedImage.exifTransform, cropperSettings);\r\n            const canvas = document.createElement('canvas');\r\n            canvas.width = transformedSize.width;\r\n            canvas.height = transformedSize.height;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.setTransform(loadedImage.exifTransform.flip ? -1 : 1, 0, 0, 1, canvas.width / 2, canvas.height / 2);\r\n            ctx.rotate(Math.PI * (canvasRotation / 2));\r\n            ctx.drawImage(loadedImage.original.image, -originalSize.width / 2, -originalSize.height / 2);\r\n            const transformedBase64 = canvas.toDataURL();\r\n            const transformedImage = yield this.loadImageFromBase64(transformedBase64);\r\n            return {\r\n                original: {\r\n                    base64: loadedImage.original.base64,\r\n                    image: loadedImage.original.image,\r\n                    size: Object.assign({}, originalSize)\r\n                },\r\n                transformed: {\r\n                    base64: transformedBase64,\r\n                    image: transformedImage,\r\n                    size: {\r\n                        width: transformedImage.width,\r\n                        height: transformedImage.height\r\n                    }\r\n                },\r\n                exifTransform: loadedImage.exifTransform\r\n            };\r\n        });\r\n    }\r\n    loadImageFromBase64(imageBase64) {\r\n        return new Promise(((resolve, reject) => {\r\n            const image = new Image();\r\n            image.onload = () => resolve(image);\r\n            image.onerror = reject;\r\n            image.src = imageBase64;\r\n        }));\r\n    }\r\n    getTransformedSize(originalSize, exifTransform, cropperSettings) {\r\n        const canvasRotation = cropperSettings.canvasRotation + exifTransform.rotate;\r\n        if (cropperSettings.containWithinAspectRatio) {\r\n            if (canvasRotation % 2) {\r\n                const minWidthToContain = originalSize.width * cropperSettings.aspectRatio;\r\n                const minHeightToContain = originalSize.height / cropperSettings.aspectRatio;\r\n                return {\r\n                    width: Math.max(originalSize.height, minWidthToContain),\r\n                    height: Math.max(originalSize.width, minHeightToContain)\r\n                };\r\n            }\r\n            else {\r\n                const minWidthToContain = originalSize.height * cropperSettings.aspectRatio;\r\n                const minHeightToContain = originalSize.width / cropperSettings.aspectRatio;\r\n                return {\r\n                    width: Math.max(originalSize.width, minWidthToContain),\r\n                    height: Math.max(originalSize.height, minHeightToContain)\r\n                };\r\n            }\r\n        }\r\n        if (canvasRotation % 2) {\r\n            return {\r\n                height: originalSize.width,\r\n                width: originalSize.height\r\n            };\r\n        }\r\n        return {\r\n            width: originalSize.width,\r\n            height: originalSize.height\r\n        };\r\n    }\r\n}\r\nLoadImageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: LoadImageService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nLoadImageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: LoadImageService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: LoadImageService, decorators: [{\r\n            type: Injectable,\r\n            args: [{ providedIn: 'root' }]\r\n        }] });\n\nclass ImageCropperComponent {\r\n    constructor(cropService, cropperPositionService, loadImageService, sanitizer, cd) {\r\n        this.cropService = cropService;\r\n        this.cropperPositionService = cropperPositionService;\r\n        this.loadImageService = loadImageService;\r\n        this.sanitizer = sanitizer;\r\n        this.cd = cd;\r\n        this.Hammer = typeof window !== 'undefined'\r\n            ? window.Hammer\r\n            : null;\r\n        this.settings = new CropperSettings();\r\n        this.setImageMaxSizeRetries = 0;\r\n        this.marginLeft = '0px';\r\n        this.moveTypes = MoveTypes;\r\n        this.imageVisible = false;\r\n        this.format = this.settings.format;\r\n        this.transform = {};\r\n        this.maintainAspectRatio = this.settings.maintainAspectRatio;\r\n        this.aspectRatio = this.settings.aspectRatio;\r\n        this.resizeToWidth = this.settings.resizeToWidth;\r\n        this.resizeToHeight = this.settings.resizeToHeight;\r\n        this.cropperMinWidth = this.settings.cropperMinWidth;\r\n        this.cropperMinHeight = this.settings.cropperMinHeight;\r\n        this.cropperMaxHeight = this.settings.cropperMaxHeight;\r\n        this.cropperMaxWidth = this.settings.cropperMaxWidth;\r\n        this.cropperStaticWidth = this.settings.cropperStaticWidth;\r\n        this.cropperStaticHeight = this.settings.cropperStaticHeight;\r\n        this.canvasRotation = this.settings.canvasRotation;\r\n        this.initialStepSize = this.settings.initialStepSize;\r\n        this.roundCropper = this.settings.roundCropper;\r\n        this.onlyScaleDown = this.settings.onlyScaleDown;\r\n        this.imageQuality = this.settings.imageQuality;\r\n        this.autoCrop = this.settings.autoCrop;\r\n        this.backgroundColor = this.settings.backgroundColor;\r\n        this.containWithinAspectRatio = this.settings.containWithinAspectRatio;\r\n        this.hideResizeSquares = this.settings.hideResizeSquares;\r\n        this.cropper = {\r\n            x1: -100,\r\n            y1: -100,\r\n            x2: 10000,\r\n            y2: 10000\r\n        };\r\n        this.alignImage = this.settings.alignImage;\r\n        this.disabled = false;\r\n        this.imageCropped = new EventEmitter();\r\n        this.startCropImage = new EventEmitter();\r\n        this.imageLoaded = new EventEmitter();\r\n        this.cropperReady = new EventEmitter();\r\n        this.loadImageFailed = new EventEmitter();\r\n        this.reset();\r\n    }\r\n    ngOnChanges(changes) {\r\n        this.onChangesUpdateSettings(changes);\r\n        this.onChangesInputImage(changes);\r\n        if (this.loadedImage && this.loadedImage.original.image.complete\r\n            && (changes.containWithinAspectRatio || changes.canvasRotation)) {\r\n            this.loadImageService\r\n                .transformLoadedImage(this.loadedImage, this.settings)\r\n                .then((res) => this.setLoadedImage(res))\r\n                .catch((err) => this.loadImageError(err));\r\n        }\r\n        if (changes.cropper || changes.maintainAspectRatio || changes.aspectRatio) {\r\n            this.setMaxSize();\r\n            this.setCropperScaledMinSize();\r\n            this.setCropperScaledMaxSize();\r\n            if (this.maintainAspectRatio && (changes.maintainAspectRatio || changes.aspectRatio)) {\r\n                this.resetCropperPosition();\r\n            }\r\n            else if (changes.cropper) {\r\n                this.checkCropperPosition(false);\r\n                this.doAutoCrop();\r\n            }\r\n            this.cd.markForCheck();\r\n        }\r\n        if (changes.transform) {\r\n            this.transform = this.transform || {};\r\n            this.setCssTransform();\r\n            this.doAutoCrop();\r\n        }\r\n    }\r\n    onChangesUpdateSettings(changes) {\r\n        this.settings.setOptionsFromChanges(changes);\r\n        if (this.settings.cropperStaticHeight && this.settings.cropperStaticWidth) {\r\n            this.settings.setOptions({\r\n                hideResizeSquares: true,\r\n                cropperMinWidth: this.settings.cropperStaticWidth,\r\n                cropperMinHeight: this.settings.cropperStaticHeight,\r\n                cropperMaxHeight: this.settings.cropperStaticHeight,\r\n                cropperMaxWidth: this.settings.cropperStaticWidth,\r\n                maintainAspectRatio: false\r\n            });\r\n        }\r\n    }\r\n    onChangesInputImage(changes) {\r\n        if (changes.imageChangedEvent || changes.imageURL || changes.imageBase64 || changes.imageFile) {\r\n            this.reset();\r\n        }\r\n        if (changes.imageChangedEvent && this.isValidImageChangedEvent()) {\r\n            this.loadImageFile(this.imageChangedEvent.target.files[0]);\r\n        }\r\n        if (changes.imageURL && this.imageURL) {\r\n            this.loadImageFromURL(this.imageURL);\r\n        }\r\n        if (changes.imageBase64 && this.imageBase64) {\r\n            this.loadBase64Image(this.imageBase64);\r\n        }\r\n        if (changes.imageFile && this.imageFile) {\r\n            this.loadImageFile(this.imageFile);\r\n        }\r\n    }\r\n    isValidImageChangedEvent() {\r\n        return this.imageChangedEvent\r\n            && this.imageChangedEvent.target\r\n            && this.imageChangedEvent.target.files\r\n            && this.imageChangedEvent.target.files.length > 0;\r\n    }\r\n    setCssTransform() {\r\n        this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle('scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\r\n            'scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\r\n            'rotate(' + (this.transform.rotate || 0) + 'deg)');\r\n    }\r\n    ngOnInit() {\r\n        this.settings.stepSize = this.initialStepSize;\r\n        this.activatePinchGesture();\r\n    }\r\n    reset() {\r\n        this.imageVisible = false;\r\n        this.loadedImage = null;\r\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\r\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\r\n            + 'AAarVyFEAAAAASUVORK5CYII=';\r\n        this.moveStart = {\r\n            active: false,\r\n            type: null,\r\n            position: null,\r\n            x1: 0,\r\n            y1: 0,\r\n            x2: 0,\r\n            y2: 0,\r\n            clientX: 0,\r\n            clientY: 0\r\n        };\r\n        this.maxSize = {\r\n            width: 0,\r\n            height: 0\r\n        };\r\n        this.cropper.x1 = -100;\r\n        this.cropper.y1 = -100;\r\n        this.cropper.x2 = 10000;\r\n        this.cropper.y2 = 10000;\r\n    }\r\n    loadImageFile(file) {\r\n        this.loadImageService\r\n            .loadImageFile(file, this.settings)\r\n            .then((res) => this.setLoadedImage(res))\r\n            .catch((err) => this.loadImageError(err));\r\n    }\r\n    loadBase64Image(imageBase64) {\r\n        this.loadImageService\r\n            .loadBase64Image(imageBase64, this.settings)\r\n            .then((res) => this.setLoadedImage(res))\r\n            .catch((err) => this.loadImageError(err));\r\n    }\r\n    loadImageFromURL(url) {\r\n        this.loadImageService\r\n            .loadImageFromURL(url, this.settings)\r\n            .then((res) => this.setLoadedImage(res))\r\n            .catch((err) => this.loadImageError(err));\r\n    }\r\n    setLoadedImage(loadedImage) {\r\n        this.loadedImage = loadedImage;\r\n        this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(loadedImage.transformed.base64);\r\n        this.cd.markForCheck();\r\n    }\r\n    loadImageError(error) {\r\n        console.error(error);\r\n        this.loadImageFailed.emit();\r\n    }\r\n    imageLoadedInView() {\r\n        if (this.loadedImage != null) {\r\n            this.imageLoaded.emit(this.loadedImage);\r\n            this.setImageMaxSizeRetries = 0;\r\n            setTimeout(() => this.checkImageMaxSizeRecursively());\r\n        }\r\n    }\r\n    checkImageMaxSizeRecursively() {\r\n        if (this.setImageMaxSizeRetries > 40) {\r\n            this.loadImageFailed.emit();\r\n        }\r\n        else if (this.sourceImageLoaded()) {\r\n            this.setMaxSize();\r\n            this.setCropperScaledMinSize();\r\n            this.setCropperScaledMaxSize();\r\n            this.resetCropperPosition();\r\n            this.cropperReady.emit(Object.assign({}, this.maxSize));\r\n            this.cd.markForCheck();\r\n        }\r\n        else {\r\n            this.setImageMaxSizeRetries++;\r\n            setTimeout(() => this.checkImageMaxSizeRecursively(), 50);\r\n        }\r\n    }\r\n    sourceImageLoaded() {\r\n        return this.sourceImage && this.sourceImage.nativeElement && this.sourceImage.nativeElement.offsetWidth > 0;\r\n    }\r\n    onResize() {\r\n        if (!this.loadedImage) {\r\n            return;\r\n        }\r\n        this.resizeCropperPosition();\r\n        this.setMaxSize();\r\n        this.setCropperScaledMinSize();\r\n        this.setCropperScaledMaxSize();\r\n    }\r\n    activatePinchGesture() {\r\n        if (this.Hammer) {\r\n            const hammer = new this.Hammer(this.wrapper.nativeElement);\r\n            hammer.get('pinch').set({ enable: true });\r\n            hammer.on('pinchmove', this.onPinch.bind(this));\r\n            hammer.on('pinchend', this.pinchStop.bind(this));\r\n            hammer.on('pinchstart', this.startPinch.bind(this));\r\n        }\r\n        else if (isDevMode()) {\r\n            console.warn('[NgxImageCropper] Could not find HammerJS - Pinch Gesture won\\'t work');\r\n        }\r\n    }\r\n    resizeCropperPosition() {\r\n        const sourceImageElement = this.sourceImage.nativeElement;\r\n        if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\r\n            this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\r\n            this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\r\n            this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\r\n            this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\r\n        }\r\n    }\r\n    resetCropperPosition() {\r\n        this.cropperPositionService.resetCropperPosition(this.sourceImage, this.cropper, this.settings);\r\n        this.doAutoCrop();\r\n        this.imageVisible = true;\r\n    }\r\n    keyboardAccess(event) {\r\n        this.changeKeyboardStepSize(event);\r\n        this.keyboardMoveCropper(event);\r\n    }\r\n    changeKeyboardStepSize(event) {\r\n        if (event.key >= '1' && event.key <= '9') {\r\n            this.settings.stepSize = +event.key;\r\n            return;\r\n        }\r\n    }\r\n    keyboardMoveCropper(event) {\r\n        const keyboardWhiteList = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\r\n        if (!(keyboardWhiteList.includes(event.key))) {\r\n            return;\r\n        }\r\n        const moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\r\n        const position = event.altKey ? getInvertedPositionForKey(event.key) : getPositionForKey(event.key);\r\n        const moveEvent = getEventForKey(event.key, this.settings.stepSize);\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.startMove({ clientX: 0, clientY: 0 }, moveType, position);\r\n        this.moveImg(moveEvent);\r\n        this.moveStop();\r\n    }\r\n    startMove(event, moveType, position = null) {\r\n        if (this.moveStart && this.moveStart.active && this.moveStart.type === MoveTypes.Pinch) {\r\n            return;\r\n        }\r\n        if (event.preventDefault) {\r\n            event.preventDefault();\r\n        }\r\n        this.moveStart = Object.assign({ active: true, type: moveType, position, clientX: this.cropperPositionService.getClientX(event), clientY: this.cropperPositionService.getClientY(event) }, this.cropper);\r\n    }\r\n    startPinch(event) {\r\n        if (!this.safeImgDataUrl) {\r\n            return;\r\n        }\r\n        if (event.preventDefault) {\r\n            event.preventDefault();\r\n        }\r\n        this.moveStart = Object.assign({ active: true, type: MoveTypes.Pinch, position: 'center', clientX: this.cropper.x1 + (this.cropper.x2 - this.cropper.x1) / 2, clientY: this.cropper.y1 + (this.cropper.y2 - this.cropper.y1) / 2 }, this.cropper);\r\n    }\r\n    moveImg(event) {\r\n        if (this.moveStart.active) {\r\n            if (event.stopPropagation) {\r\n                event.stopPropagation();\r\n            }\r\n            if (event.preventDefault) {\r\n                event.preventDefault();\r\n            }\r\n            if (this.moveStart.type === MoveTypes.Move) {\r\n                this.cropperPositionService.move(event, this.moveStart, this.cropper);\r\n                this.checkCropperPosition(true);\r\n            }\r\n            else if (this.moveStart.type === MoveTypes.Resize) {\r\n                if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\r\n                    this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\r\n                }\r\n                this.checkCropperPosition(false);\r\n            }\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n    onPinch(event) {\r\n        if (this.moveStart.active) {\r\n            if (event.stopPropagation) {\r\n                event.stopPropagation();\r\n            }\r\n            if (event.preventDefault) {\r\n                event.preventDefault();\r\n            }\r\n            if (this.moveStart.type === MoveTypes.Pinch) {\r\n                this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\r\n                this.checkCropperPosition(false);\r\n            }\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n    setMaxSize() {\r\n        if (this.sourceImage) {\r\n            const sourceImageElement = this.sourceImage.nativeElement;\r\n            this.maxSize.width = sourceImageElement.offsetWidth;\r\n            this.maxSize.height = sourceImageElement.offsetHeight;\r\n            this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\r\n        }\r\n    }\r\n    setCropperScaledMinSize() {\r\n        if (this.loadedImage && this.loadedImage.transformed && this.loadedImage.transformed.image) {\r\n            this.setCropperScaledMinWidth();\r\n            this.setCropperScaledMinHeight();\r\n        }\r\n        else {\r\n            this.settings.cropperScaledMinWidth = 20;\r\n            this.settings.cropperScaledMinHeight = 20;\r\n        }\r\n    }\r\n    setCropperScaledMinWidth() {\r\n        this.settings.cropperScaledMinWidth = this.cropperMinWidth > 0\r\n            ? Math.max(20, this.cropperMinWidth / this.loadedImage.transformed.image.width * this.maxSize.width)\r\n            : 20;\r\n    }\r\n    setCropperScaledMinHeight() {\r\n        if (this.maintainAspectRatio) {\r\n            this.settings.cropperScaledMinHeight = Math.max(20, this.settings.cropperScaledMinWidth / this.aspectRatio);\r\n        }\r\n        else if (this.cropperMinHeight > 0) {\r\n            this.settings.cropperScaledMinHeight = Math.max(20, this.cropperMinHeight / this.loadedImage.transformed.image.height * this.maxSize.height);\r\n        }\r\n        else {\r\n            this.settings.cropperScaledMinHeight = 20;\r\n        }\r\n    }\r\n    setCropperScaledMaxSize() {\r\n        if (this.loadedImage && this.loadedImage.transformed && this.loadedImage.transformed.image) {\r\n            const ratio = this.loadedImage.transformed.size.width / this.maxSize.width;\r\n            this.settings.cropperScaledMaxWidth = this.cropperMaxWidth > 20 ? this.cropperMaxWidth / ratio : this.maxSize.width;\r\n            this.settings.cropperScaledMaxHeight = this.cropperMaxHeight > 20 ? this.cropperMaxHeight / ratio : this.maxSize.height;\r\n            if (this.maintainAspectRatio) {\r\n                if (this.settings.cropperScaledMaxWidth > this.settings.cropperScaledMaxHeight * this.aspectRatio) {\r\n                    this.settings.cropperScaledMaxWidth = this.settings.cropperScaledMaxHeight * this.aspectRatio;\r\n                }\r\n                else if (this.settings.cropperScaledMaxWidth < this.settings.cropperScaledMaxHeight * this.aspectRatio) {\r\n                    this.settings.cropperScaledMaxHeight = this.settings.cropperScaledMaxWidth / this.aspectRatio;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.settings.cropperScaledMaxWidth = this.maxSize.width;\r\n            this.settings.cropperScaledMaxHeight = this.maxSize.height;\r\n        }\r\n    }\r\n    checkCropperPosition(maintainSize = false) {\r\n        if (this.cropper.x1 < 0) {\r\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\r\n            this.cropper.x1 = 0;\r\n        }\r\n        if (this.cropper.y1 < 0) {\r\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\r\n            this.cropper.y1 = 0;\r\n        }\r\n        if (this.cropper.x2 > this.maxSize.width) {\r\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\r\n            this.cropper.x2 = this.maxSize.width;\r\n        }\r\n        if (this.cropper.y2 > this.maxSize.height) {\r\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\r\n            this.cropper.y2 = this.maxSize.height;\r\n        }\r\n    }\r\n    moveStop() {\r\n        if (this.moveStart.active) {\r\n            this.moveStart.active = false;\r\n            this.doAutoCrop();\r\n        }\r\n    }\r\n    pinchStop() {\r\n        if (this.moveStart.active) {\r\n            this.moveStart.active = false;\r\n            this.doAutoCrop();\r\n        }\r\n    }\r\n    doAutoCrop() {\r\n        if (this.autoCrop) {\r\n            this.crop();\r\n        }\r\n    }\r\n    crop() {\r\n        if (this.sourceImage && this.sourceImage.nativeElement && this.loadedImage.transformed.image != null) {\r\n            this.startCropImage.emit();\r\n            const output = this.cropService.crop(this.sourceImage, this.loadedImage, this.cropper, this.settings);\r\n            if (output != null) {\r\n                this.imageCropped.emit(output);\r\n            }\r\n            return output;\r\n        }\r\n        return null;\r\n    }\r\n}\r\nImageCropperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperComponent, deps: [{ token: CropService }, { token: CropperPositionService }, { token: LoadImageService }, { token: i4$2.DomSanitizer }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\r\nImageCropperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: ImageCropperComponent, selector: \"image-cropper\", inputs: { imageChangedEvent: \"imageChangedEvent\", imageURL: \"imageURL\", imageBase64: \"imageBase64\", imageFile: \"imageFile\", format: \"format\", transform: \"transform\", maintainAspectRatio: \"maintainAspectRatio\", aspectRatio: \"aspectRatio\", resizeToWidth: \"resizeToWidth\", resizeToHeight: \"resizeToHeight\", cropperMinWidth: \"cropperMinWidth\", cropperMinHeight: \"cropperMinHeight\", cropperMaxHeight: \"cropperMaxHeight\", cropperMaxWidth: \"cropperMaxWidth\", cropperStaticWidth: \"cropperStaticWidth\", cropperStaticHeight: \"cropperStaticHeight\", canvasRotation: \"canvasRotation\", initialStepSize: \"initialStepSize\", roundCropper: \"roundCropper\", onlyScaleDown: \"onlyScaleDown\", imageQuality: \"imageQuality\", autoCrop: \"autoCrop\", backgroundColor: \"backgroundColor\", containWithinAspectRatio: \"containWithinAspectRatio\", hideResizeSquares: \"hideResizeSquares\", cropper: \"cropper\", alignImage: \"alignImage\", disabled: \"disabled\" }, outputs: { imageCropped: \"imageCropped\", startCropImage: \"startCropImage\", imageLoaded: \"imageLoaded\", cropperReady: \"cropperReady\", loadImageFailed: \"loadImageFailed\" }, host: { listeners: { \"window:resize\": \"onResize()\", \"document:mousemove\": \"moveImg($event)\", \"document:touchmove\": \"moveImg($event)\", \"document:mouseup\": \"moveStop()\", \"document:touchend\": \"moveStop()\" }, properties: { \"style.text-align\": \"this.alignImage\", \"class.disabled\": \"this.disabled\" } }, viewQueries: [{ propertyName: \"wrapper\", first: true, predicate: [\"wrapper\"], descendants: true, static: true }, { propertyName: \"sourceImage\", first: true, predicate: [\"sourceImage\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<div [style.background]=\\\"imageVisible && backgroundColor\\\"\\r\\n     #wrapper\\r\\n>\\r\\n    <img\\r\\n      #sourceImage\\r\\n      class=\\\"source-image\\\"\\r\\n      *ngIf=\\\"safeImgDataUrl\\\"\\r\\n      [src]=\\\"safeImgDataUrl\\\"\\r\\n      [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\r\\n      [style.transform]=\\\"safeTransformStyle\\\"\\r\\n      (load)=\\\"imageLoadedInView()\\\"\\r\\n    />\\r\\n    <div\\r\\n        class=\\\"overlay\\\"\\r\\n        [style.width.px]=\\\"maxSize.width\\\"\\r\\n        [style.height.px]=\\\"maxSize.height\\\"\\r\\n        [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\r\\n    ></div>\\r\\n    <div class=\\\"cropper\\\"\\r\\n         *ngIf=\\\"imageVisible\\\"\\r\\n         [class.rounded]=\\\"roundCropper\\\"\\r\\n         [style.top.px]=\\\"cropper.y1\\\"\\r\\n         [style.left.px]=\\\"cropper.x1\\\"\\r\\n         [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\r\\n         [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\r\\n         [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\r\\n         [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\r\\n         (keydown)=\\\"keyboardAccess($event)\\\"\\r\\n         tabindex=\\\"0\\\"\\r\\n    >\\r\\n        <div\\r\\n            (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\r\\n            (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\r\\n            class=\\\"move\\\">\\r\\n        </div>\\r\\n        <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\r\\n            <span class=\\\"resize topleft\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize top\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize topright\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize right\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottomright\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottom\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottomleft\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize left\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar top\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar right\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar bottom\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar left\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\r\\n            </span>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.source-image{max-width:100%;max-height:100%;transform-origin:center}:host .overlay{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}:host .cropper{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){:host .cropper{outline-width:100vh}}:host .cropper:after{position:absolute;content:\\\"\\\";top:0;bottom:0;left:0;right:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}:host .cropper .move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .cropper:focus .move{border-color:#1e90ff;border-width:2px}:host .cropper .resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .cropper .resize .square{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .cropper .resize.topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .cropper .resize.top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.topright{top:-12px;right:-12px;cursor:nesw-resize}:host .cropper .resize.right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .cropper .resize.bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .cropper .resize.bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .cropper .resize.left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .cropper .resize-bar{position:absolute;z-index:1}:host .cropper .resize-bar.top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper .resize-bar.bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper.rounded{outline-color:transparent}:host .cropper.rounded:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){:host .cropper.rounded:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}:host .cropper.rounded .move{border-radius:100%}:host.disabled .cropper .resize,:host.disabled .cropper .resize-bar,:host.disabled .cropper .move{display:none}\\n\"], directives: [{ type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'image-cropper', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div [style.background]=\\\"imageVisible && backgroundColor\\\"\\r\\n     #wrapper\\r\\n>\\r\\n    <img\\r\\n      #sourceImage\\r\\n      class=\\\"source-image\\\"\\r\\n      *ngIf=\\\"safeImgDataUrl\\\"\\r\\n      [src]=\\\"safeImgDataUrl\\\"\\r\\n      [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\r\\n      [style.transform]=\\\"safeTransformStyle\\\"\\r\\n      (load)=\\\"imageLoadedInView()\\\"\\r\\n    />\\r\\n    <div\\r\\n        class=\\\"overlay\\\"\\r\\n        [style.width.px]=\\\"maxSize.width\\\"\\r\\n        [style.height.px]=\\\"maxSize.height\\\"\\r\\n        [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\r\\n    ></div>\\r\\n    <div class=\\\"cropper\\\"\\r\\n         *ngIf=\\\"imageVisible\\\"\\r\\n         [class.rounded]=\\\"roundCropper\\\"\\r\\n         [style.top.px]=\\\"cropper.y1\\\"\\r\\n         [style.left.px]=\\\"cropper.x1\\\"\\r\\n         [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\r\\n         [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\r\\n         [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\r\\n         [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\r\\n         (keydown)=\\\"keyboardAccess($event)\\\"\\r\\n         tabindex=\\\"0\\\"\\r\\n    >\\r\\n        <div\\r\\n            (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\r\\n            (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\r\\n            class=\\\"move\\\">\\r\\n        </div>\\r\\n        <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\r\\n            <span class=\\\"resize topleft\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize top\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize topright\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize right\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottomright\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottom\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize bottomleft\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize left\\\">\\r\\n                <span class=\\\"square\\\"></span>\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar top\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar right\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar bottom\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\r\\n            </span>\\r\\n            <span class=\\\"resize-bar left\\\"\\r\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\r\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\r\\n            </span>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.source-image{max-width:100%;max-height:100%;transform-origin:center}:host .overlay{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}:host .cropper{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){:host .cropper{outline-width:100vh}}:host .cropper:after{position:absolute;content:\\\"\\\";top:0;bottom:0;left:0;right:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}:host .cropper .move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .cropper:focus .move{border-color:#1e90ff;border-width:2px}:host .cropper .resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .cropper .resize .square{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .cropper .resize.topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .cropper .resize.top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.topright{top:-12px;right:-12px;cursor:nesw-resize}:host .cropper .resize.right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .cropper .resize.bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .cropper .resize.bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .cropper .resize.left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .cropper .resize-bar{position:absolute;z-index:1}:host .cropper .resize-bar.top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper .resize-bar.bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper.rounded{outline-color:transparent}:host .cropper.rounded:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){:host .cropper.rounded:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}:host .cropper.rounded .move{border-radius:100%}:host.disabled .cropper .resize,:host.disabled .cropper .resize-bar,:host.disabled .cropper .move{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: CropService }, { type: CropperPositionService }, { type: LoadImageService }, { type: i4$2.DomSanitizer }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { wrapper: [{\r\n                type: ViewChild,\r\n                args: ['wrapper', { static: true }]\r\n            }], sourceImage: [{\r\n                type: ViewChild,\r\n                args: ['sourceImage', { static: false }]\r\n            }], imageChangedEvent: [{\r\n                type: Input\r\n            }], imageURL: [{\r\n                type: Input\r\n            }], imageBase64: [{\r\n                type: Input\r\n            }], imageFile: [{\r\n                type: Input\r\n            }], format: [{\r\n                type: Input\r\n            }], transform: [{\r\n                type: Input\r\n            }], maintainAspectRatio: [{\r\n                type: Input\r\n            }], aspectRatio: [{\r\n                type: Input\r\n            }], resizeToWidth: [{\r\n                type: Input\r\n            }], resizeToHeight: [{\r\n                type: Input\r\n            }], cropperMinWidth: [{\r\n                type: Input\r\n            }], cropperMinHeight: [{\r\n                type: Input\r\n            }], cropperMaxHeight: [{\r\n                type: Input\r\n            }], cropperMaxWidth: [{\r\n                type: Input\r\n            }], cropperStaticWidth: [{\r\n                type: Input\r\n            }], cropperStaticHeight: [{\r\n                type: Input\r\n            }], canvasRotation: [{\r\n                type: Input\r\n            }], initialStepSize: [{\r\n                type: Input\r\n            }], roundCropper: [{\r\n                type: Input\r\n            }], onlyScaleDown: [{\r\n                type: Input\r\n            }], imageQuality: [{\r\n                type: Input\r\n            }], autoCrop: [{\r\n                type: Input\r\n            }], backgroundColor: [{\r\n                type: Input\r\n            }], containWithinAspectRatio: [{\r\n                type: Input\r\n            }], hideResizeSquares: [{\r\n                type: Input\r\n            }], cropper: [{\r\n                type: Input\r\n            }], alignImage: [{\r\n                type: HostBinding,\r\n                args: ['style.text-align']\r\n            }, {\r\n                type: Input\r\n            }], disabled: [{\r\n                type: HostBinding,\r\n                args: ['class.disabled']\r\n            }, {\r\n                type: Input\r\n            }], imageCropped: [{\r\n                type: Output\r\n            }], startCropImage: [{\r\n                type: Output\r\n            }], imageLoaded: [{\r\n                type: Output\r\n            }], cropperReady: [{\r\n                type: Output\r\n            }], loadImageFailed: [{\r\n                type: Output\r\n            }], onResize: [{\r\n                type: HostListener,\r\n                args: ['window:resize']\r\n            }], moveImg: [{\r\n                type: HostListener,\r\n                args: ['document:mousemove', ['$event']]\r\n            }, {\r\n                type: HostListener,\r\n                args: ['document:touchmove', ['$event']]\r\n            }], moveStop: [{\r\n                type: HostListener,\r\n                args: ['document:mouseup']\r\n            }, {\r\n                type: HostListener,\r\n                args: ['document:touchend']\r\n            }] } });\n\nclass VImageFieldComponent {\r\n    constructor() {\r\n        this.imageChangedEvent = '';\r\n        this.croppedImage = '';\r\n        this.canvasRotation = 0;\r\n        this.rotation = 0;\r\n        this.scale = 1;\r\n        this.showCropper = false;\r\n        this.containWithinAspectRatio = false;\r\n        this.transform = {};\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    fileChangeEvent(event) {\r\n        this.imageChangedEvent = event;\r\n    }\r\n    imageCropped(event) {\r\n        this.group.controls[this.field.name].setValue(event.base64);\r\n        this.group.controls[this.field.name].markAsTouched();\r\n    }\r\n    imageLoaded() {\r\n        this.showCropper = true;\r\n    }\r\n    cropperReady(sourceImageDimensions) {\r\n        // cropper ready\r\n    }\r\n    loadImageFailed() {\r\n        console.error('Fail to load image');\r\n    }\r\n    clearCropper() {\r\n        this.imageChangedEvent = '';\r\n        this.group.controls[this.field.name].setValue(null);\r\n        this.group.controls[this.field.name].markAsUntouched();\r\n        this.showCropper = false;\r\n    }\r\n    onUploadClick() {\r\n        this.fileInput.nativeElement.click();\r\n    }\r\n    rotateLeft() {\r\n        this.canvasRotation--;\r\n        this.flipAfterRotate();\r\n    }\r\n    rotateRight() {\r\n        this.canvasRotation++;\r\n        this.flipAfterRotate();\r\n    }\r\n    flipAfterRotate() {\r\n        const flippedH = this.transform.flipH;\r\n        const flippedV = this.transform.flipV;\r\n        this.transform = Object.assign(Object.assign({}, this.transform), { flipH: flippedV, flipV: flippedH });\r\n    }\r\n    flipHorizontal() {\r\n        this.transform = Object.assign(Object.assign({}, this.transform), { flipH: !this.transform.flipH });\r\n    }\r\n    flipVertical() {\r\n        this.transform = Object.assign(Object.assign({}, this.transform), { flipV: !this.transform.flipV });\r\n    }\r\n    resetImage() {\r\n        this.scale = 1;\r\n        this.rotation = 0;\r\n        this.canvasRotation = 0;\r\n        this.transform = {};\r\n    }\r\n    zoomOut() {\r\n        this.scale -= .1;\r\n        this.transform = Object.assign(Object.assign({}, this.transform), { scale: this.scale });\r\n    }\r\n    zoomIn() {\r\n        this.scale += .1;\r\n        this.transform = Object.assign(Object.assign({}, this.transform), { scale: this.scale });\r\n    }\r\n    toggleContainWithinAspectRatio() {\r\n        this.containWithinAspectRatio = !this.containWithinAspectRatio;\r\n    }\r\n    updateRotation() {\r\n        this.transform = Object.assign(Object.assign({}, this.transform), { rotate: this.rotation });\r\n    }\r\n}\r\nVImageFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVImageFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VImageFieldComponent, selector: \"app-image-field\", viewQueries: [{ propertyName: \"fileInput\", first: true, predicate: [\"fileInput\"], descendants: true }], ngImport: i0, template: \"<mat-card class=\\\"image-cropper\\\" [formGroup]=\\\"group\\\">\\r\\n    <mat-card-header>\\r\\n        <mat-card-title>{{field.label}}</mat-card-title>        \\r\\n        <div>\\r\\n            <button \\r\\n                mat-icon-button\\r\\n                color=\\\"accent\\\" \\r\\n                aria-label=\\\"Upload Image\\\"\\r\\n                matTooltip=\\\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\\\"\\r\\n                type=\\\"button\\\"\\r\\n                (click)=\\\"onUploadClick()\\\"\\r\\n            >\\r\\n                <mat-icon>cloud_download</mat-icon>\\r\\n            </button>\\r\\n            <button \\r\\n                mat-icon-button\\r\\n                color=\\\"warn\\\" \\r\\n                type=\\\"button\\\"\\r\\n                aria-label=\\\"Clear Image\\\"\\r\\n                matTooltip=\\\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\\\"\\r\\n                (click)=\\\"clearCropper()\\\"\\r\\n            >\\r\\n                <mat-icon>clear</mat-icon>\\r\\n            </button>\\r\\n        </div>  \\r\\n    </mat-card-header>\\r\\n    <mat-divider></mat-divider>\\r\\n    <div class=\\\"dashboard-container\\\">\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Zoom +\\\" (click)=\\\"zoomIn()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0423\\u0432\\u0435\\u043B\\u0438\\u0447\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon>add_circle_outline</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Zoom -\\\" (click)=\\\"zoomOut()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0423\\u043C\\u0435\\u043D\\u044C\\u0448\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon>remove_circle_outline</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Rotate left\\\" (click)=\\\"rotateLeft()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u043B\\u0435\\u0432\\u043E\\\">\\r\\n            <mat-icon>rotate_left</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Rotate right\\\" (click)=\\\"rotateRight()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u043F\\u0440\\u0430\\u0432\\u043E\\\">\\r\\n            <mat-icon>rotate_right</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Flip horizontal\\\" (click)=\\\"flipHorizontal()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041E\\u0442\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u0433\\u043E\\u0440\\u0438\\u0437\\u043E\\u043D\\u0442\\u0430\\u043B\\u044C\\u043D\\u043E\\\">\\r\\n            <mat-icon>border_vertical</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Flip vertical\\\" (click)=\\\"flipVertical()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041E\\u0442\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u0432\\u0435\\u0440\\u0442\\u0438\\u043A\\u0430\\u043B\\u044C\\u043D\\u043E\\\">\\r\\n            <mat-icon>border_horizontal</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Fill\\\" (click)=\\\"toggleContainWithinAspectRatio()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0417\\u0430\\u043C\\u043E\\u0441\\u0442\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon *ngIf=\\\"!containWithinAspectRatio\\\">zoom_out_map</mat-icon>\\r\\n            <mat-icon *ngIf=\\\"containWithinAspectRatio\\\">fullscreen_exit</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Reset\\\" (click)=\\\"resetImage()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u043F\\u0440\\u0435\\u043E\\u0431\\u0440\\u0430\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\\\">\\r\\n            <mat-icon>cancel_presentation</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <mat-divider></mat-divider>\\r\\n    <mat-card-content>        \\r\\n        <input type=\\\"file\\\" #fileInput (change)=\\\"fileChangeEvent($event)\\\" style=\\\"display:none;\\\" />\\r\\n        <image-cropper\\r\\n            [imageChangedEvent]=\\\"imageChangedEvent\\\"\\r\\n            [maintainAspectRatio]=\\\"true\\\"\\r\\n            [containWithinAspectRatio]=\\\"containWithinAspectRatio\\\"\\r\\n            [aspectRatio] = \\\"field.imageAspectRatio\\\"\\r\\n            [resizeToWidth]=\\\"field.resizeToWidth\\\"\\r\\n            [cropperMinWidth] = \\\"128\\\"\\r\\n            [cropperMinHeight] = \\\"225\\\"\\r\\n            [onlyScaleDown]=\\\"true\\\"\\r\\n            [roundCropper]=\\\"false\\\"\\r\\n            [canvasRotation]=\\\"canvasRotation\\\"\\r\\n            [transform]=\\\"transform\\\"\\r\\n            [alignImage]=\\\"'center'\\\"\\r\\n            [style.display]=\\\"showCropper ? null : 'none'\\\"\\r\\n            format=\\\"png\\\"\\r\\n            (imageCropped)=\\\"imageCropped($event)\\\"\\r\\n            (imageLoaded)=\\\"imageLoaded()\\\"\\r\\n            (cropperReady)=\\\"cropperReady($event)\\\"\\r\\n            (loadImageFailed)=\\\"loadImageFailed()\\\"\\r\\n        ></image-cropper>\\r\\n    </mat-card-content>\\r\\n</mat-card>\\r\\n\", styles: [\".image-cropper{min-height:300px}.image-cropper mat-card-header{display:flex;justify-content:space-between;margin-bottom:5px}.image-cropper mat-card-header button{margin-right:10px}.image-cropper .dashboard-container{display:flex;justify-content:center}.image-cropper mat-card-content{margin-top:5px}\\n\"], components: [{ type: i1$4.MatCard, selector: \"mat-card\", exportAs: [\"matCard\"] }, { type: i1$4.MatCardHeader, selector: \"mat-card-header\" }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i1$3.MatDivider, selector: \"mat-divider\", inputs: [\"vertical\", \"inset\"] }, { type: ImageCropperComponent, selector: \"image-cropper\", inputs: [\"imageChangedEvent\", \"imageURL\", \"imageBase64\", \"imageFile\", \"format\", \"transform\", \"maintainAspectRatio\", \"aspectRatio\", \"resizeToWidth\", \"resizeToHeight\", \"cropperMinWidth\", \"cropperMinHeight\", \"cropperMaxHeight\", \"cropperMaxWidth\", \"cropperStaticWidth\", \"cropperStaticHeight\", \"canvasRotation\", \"initialStepSize\", \"roundCropper\", \"onlyScaleDown\", \"imageQuality\", \"autoCrop\", \"backgroundColor\", \"containWithinAspectRatio\", \"hideResizeSquares\", \"cropper\", \"alignImage\", \"disabled\"], outputs: [\"imageCropped\", \"startCropImage\", \"imageLoaded\", \"cropperReady\", \"loadImageFailed\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$4.MatCardTitle, selector: \"mat-card-title, [mat-card-title], [matCardTitle]\" }, { type: i5$1.MatTooltip, selector: \"[matTooltip]\", exportAs: [\"matTooltip\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$4.MatCardContent, selector: \"mat-card-content, [mat-card-content], [matCardContent]\" }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-image-field', template: \"<mat-card class=\\\"image-cropper\\\" [formGroup]=\\\"group\\\">\\r\\n    <mat-card-header>\\r\\n        <mat-card-title>{{field.label}}</mat-card-title>        \\r\\n        <div>\\r\\n            <button \\r\\n                mat-icon-button\\r\\n                color=\\\"accent\\\" \\r\\n                aria-label=\\\"Upload Image\\\"\\r\\n                matTooltip=\\\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\\\"\\r\\n                type=\\\"button\\\"\\r\\n                (click)=\\\"onUploadClick()\\\"\\r\\n            >\\r\\n                <mat-icon>cloud_download</mat-icon>\\r\\n            </button>\\r\\n            <button \\r\\n                mat-icon-button\\r\\n                color=\\\"warn\\\" \\r\\n                type=\\\"button\\\"\\r\\n                aria-label=\\\"Clear Image\\\"\\r\\n                matTooltip=\\\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\\\"\\r\\n                (click)=\\\"clearCropper()\\\"\\r\\n            >\\r\\n                <mat-icon>clear</mat-icon>\\r\\n            </button>\\r\\n        </div>  \\r\\n    </mat-card-header>\\r\\n    <mat-divider></mat-divider>\\r\\n    <div class=\\\"dashboard-container\\\">\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Zoom +\\\" (click)=\\\"zoomIn()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0423\\u0432\\u0435\\u043B\\u0438\\u0447\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon>add_circle_outline</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Zoom -\\\" (click)=\\\"zoomOut()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0423\\u043C\\u0435\\u043D\\u044C\\u0448\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon>remove_circle_outline</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Rotate left\\\" (click)=\\\"rotateLeft()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u043B\\u0435\\u0432\\u043E\\\">\\r\\n            <mat-icon>rotate_left</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Rotate right\\\" (click)=\\\"rotateRight()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u043F\\u0440\\u0430\\u0432\\u043E\\\">\\r\\n            <mat-icon>rotate_right</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Flip horizontal\\\" (click)=\\\"flipHorizontal()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041E\\u0442\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u0433\\u043E\\u0440\\u0438\\u0437\\u043E\\u043D\\u0442\\u0430\\u043B\\u044C\\u043D\\u043E\\\">\\r\\n            <mat-icon>border_vertical</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Flip vertical\\\" (click)=\\\"flipVertical()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u041E\\u0442\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u0432\\u0435\\u0440\\u0442\\u0438\\u043A\\u0430\\u043B\\u044C\\u043D\\u043E\\\">\\r\\n            <mat-icon>border_horizontal</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Fill\\\" (click)=\\\"toggleContainWithinAspectRatio()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0417\\u0430\\u043C\\u043E\\u0441\\u0442\\u0438\\u0442\\u044C\\\">\\r\\n            <mat-icon *ngIf=\\\"!containWithinAspectRatio\\\">zoom_out_map</mat-icon>\\r\\n            <mat-icon *ngIf=\\\"containWithinAspectRatio\\\">fullscreen_exit</mat-icon>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" aria-label=\\\"Reset\\\" (click)=\\\"resetImage()\\\" [disabled]=\\\"!showCropper\\\" matTooltip=\\\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u043F\\u0440\\u0435\\u043E\\u0431\\u0440\\u0430\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\\\">\\r\\n            <mat-icon>cancel_presentation</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <mat-divider></mat-divider>\\r\\n    <mat-card-content>        \\r\\n        <input type=\\\"file\\\" #fileInput (change)=\\\"fileChangeEvent($event)\\\" style=\\\"display:none;\\\" />\\r\\n        <image-cropper\\r\\n            [imageChangedEvent]=\\\"imageChangedEvent\\\"\\r\\n            [maintainAspectRatio]=\\\"true\\\"\\r\\n            [containWithinAspectRatio]=\\\"containWithinAspectRatio\\\"\\r\\n            [aspectRatio] = \\\"field.imageAspectRatio\\\"\\r\\n            [resizeToWidth]=\\\"field.resizeToWidth\\\"\\r\\n            [cropperMinWidth] = \\\"128\\\"\\r\\n            [cropperMinHeight] = \\\"225\\\"\\r\\n            [onlyScaleDown]=\\\"true\\\"\\r\\n            [roundCropper]=\\\"false\\\"\\r\\n            [canvasRotation]=\\\"canvasRotation\\\"\\r\\n            [transform]=\\\"transform\\\"\\r\\n            [alignImage]=\\\"'center'\\\"\\r\\n            [style.display]=\\\"showCropper ? null : 'none'\\\"\\r\\n            format=\\\"png\\\"\\r\\n            (imageCropped)=\\\"imageCropped($event)\\\"\\r\\n            (imageLoaded)=\\\"imageLoaded()\\\"\\r\\n            (cropperReady)=\\\"cropperReady($event)\\\"\\r\\n            (loadImageFailed)=\\\"loadImageFailed()\\\"\\r\\n        ></image-cropper>\\r\\n    </mat-card-content>\\r\\n</mat-card>\\r\\n\", styles: [\".image-cropper{min-height:300px}.image-cropper mat-card-header{display:flex;justify-content:space-between;margin-bottom:5px}.image-cropper mat-card-header button{margin-right:10px}.image-cropper .dashboard-container{display:flex;justify-content:center}.image-cropper mat-card-content{margin-top:5px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { fileInput: [{\r\n                type: ViewChild,\r\n                args: ['fileInput', { static: false }]\r\n            }] } });\n\nclass VImageComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVImageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVImageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VImageComponent, selector: \"app-image\", ngImport: i0, template: \"<div class=\\\"image-wrapper\\\">\\r\\n    <img [src]=\\\"field.url\\\" alt=\\\"\\\">\\r\\n</div>\\r\\n\\r\\n\", styles: [\".image-wrapper{display:flex;justify-content:center}.image-wrapper img{border-radius:10px}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-image', template: \"<div class=\\\"image-wrapper\\\">\\r\\n    <img [src]=\\\"field.url\\\" alt=\\\"\\\">\\r\\n</div>\\r\\n\\r\\n\", styles: [\".image-wrapper{display:flex;justify-content:center}.image-wrapper img{border-radius:10px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass TrimDirective {\r\n    constructor(ngControl) {\r\n        this.ngControl = ngControl;\r\n    }\r\n    get ctrl() {\r\n        return this.ngControl.control;\r\n    }\r\n    onBlur() {\r\n        this.ctrl.value && this.ctrl.setValue(this.ctrl.value.trim());\r\n    }\r\n}\r\nTrimDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimDirective, deps: [{ token: i4.NgControl }], target: i0.ɵɵFactoryTarget.Directive });\r\nTrimDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.3\", type: TrimDirective, selector: \"[trim]\", host: { listeners: { \"blur\": \"onBlur()\" } }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[trim]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i4.NgControl }]; }, propDecorators: { onBlur: [{\r\n                type: HostListener,\r\n                args: ['blur']\r\n            }] } });\n\nclass VInputFieldComponent {\r\n    constructor() { }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    clearField() {\r\n        this.control.setValue('');\r\n    }\r\n    actionClicked(event) {\r\n        this.field.actionHandler(event);\r\n    }\r\n}\r\nVInputFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVInputFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VInputFieldComponent, selector: \"app-input-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        [type]=\\\"field.type\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.placeholder\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n        trim\\r\\n    />\\r\\n\\r\\n    <mat-icon *ngIf=\\\"field.suffix && !field.actionButton\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"field.actionButton\\\" matSuffix mat-icon-button (click)=\\\"actionClicked($event)\\\">\\r\\n        <mat-icon>{{field.suffix}}</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: TrimDirective, selector: \"[trim]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-input-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        [type]=\\\"field.type\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.placeholder\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n        trim\\r\\n    />\\r\\n\\r\\n    <mat-icon *ngIf=\\\"field.suffix && !field.actionButton\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"field.actionButton\\\" matSuffix mat-icon-button (click)=\\\"actionClicked($event)\\\">\\r\\n        <mat-icon>{{field.suffix}}</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VLabelComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVLabelComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVLabelComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VLabelComponent, selector: \"app-v-label\", ngImport: i0, template: \"<span *ngIf=\\\"!field.hidden\\\">{{field.text}}</span>\\r\\n\", styles: [\"\"], directives: [{ type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-label', template: \"<span *ngIf=\\\"!field.hidden\\\">{{field.text}}</span>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VListComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VListComponent, selector: \"app-v-list\", ngImport: i0, template: \"<ng-container>\\r\\n  <ng-container>\\r\\n    <mat-selection-list [multiple]=\\\"field.multiple\\\">\\r\\n      <mat-list-option *ngFor=\\\"let option of field.options\\\" [value]=\\\"option.value\\\">\\r\\n        <mat-icon mat-list-icon *ngIf=\\\"option.data?.icon\\\">{{option.data?.icon}}</mat-icon>\\r\\n        <div mat-line>{{option.label}}</div>\\r\\n        <div mat-line *ngIf=\\\"option.data?.info\\\"> {{option.data?.info}} </div>\\r\\n        <mat-icon\\r\\n          mat-list-icon\\r\\n          (click)=\\\"field.editHandler(option.value)\\\"\\r\\n          *ngIf=\\\"field.editHandler\\\"\\r\\n          matTooltip=\\\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\\"\\r\\n          >\\r\\n          edit_note\\r\\n        </mat-icon>\\r\\n        <mat-icon\\r\\n          mat-list-icon\\r\\n          (click)=\\\"field.deleteHandler(option.value)\\\"\\r\\n          *ngIf=\\\"field.deleteHandler\\\"\\r\\n          matTooltip=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\"\\r\\n          >\\r\\n          delete\\r\\n        </mat-icon>\\r\\n      </mat-list-option>\\r\\n    </mat-selection-list>\\r\\n  </ng-container>\\r\\n</ng-container>\\r\\n\", styles: [\"\"], components: [{ type: i1$5.MatSelectionList, selector: \"mat-selection-list\", inputs: [\"disableRipple\", \"tabIndex\", \"color\", \"compareWith\", \"disabled\", \"multiple\"], outputs: [\"selectionChange\"], exportAs: [\"matSelectionList\"] }, { type: i1$5.MatListOption, selector: \"mat-list-option\", inputs: [\"disableRipple\", \"checkboxPosition\", \"color\", \"value\", \"disabled\", \"selected\"], outputs: [\"selectedChange\"], exportAs: [\"matListOption\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$5.MatListIconCssMatStyler, selector: \"[mat-list-icon], [matListIcon]\" }, { type: i4$1.MatLine, selector: \"[mat-line], [matLine]\" }, { type: i5$1.MatTooltip, selector: \"[matTooltip]\", exportAs: [\"matTooltip\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-v-list', template: \"<ng-container>\\r\\n  <ng-container>\\r\\n    <mat-selection-list [multiple]=\\\"field.multiple\\\">\\r\\n      <mat-list-option *ngFor=\\\"let option of field.options\\\" [value]=\\\"option.value\\\">\\r\\n        <mat-icon mat-list-icon *ngIf=\\\"option.data?.icon\\\">{{option.data?.icon}}</mat-icon>\\r\\n        <div mat-line>{{option.label}}</div>\\r\\n        <div mat-line *ngIf=\\\"option.data?.info\\\"> {{option.data?.info}} </div>\\r\\n        <mat-icon\\r\\n          mat-list-icon\\r\\n          (click)=\\\"field.editHandler(option.value)\\\"\\r\\n          *ngIf=\\\"field.editHandler\\\"\\r\\n          matTooltip=\\\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\\"\\r\\n          >\\r\\n          edit_note\\r\\n        </mat-icon>\\r\\n        <mat-icon\\r\\n          mat-list-icon\\r\\n          (click)=\\\"field.deleteHandler(option.value)\\\"\\r\\n          *ngIf=\\\"field.deleteHandler\\\"\\r\\n          matTooltip=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\"\\r\\n          >\\r\\n          delete\\r\\n        </mat-icon>\\r\\n      </mat-list-option>\\r\\n    </mat-selection-list>\\r\\n  </ng-container>\\r\\n</ng-container>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass MaskDirective {\r\n    constructor(el, ngControl) {\r\n        this.el = el;\r\n        this.ngControl = ngControl;\r\n    }\r\n    ngOnInit() {\r\n        this.maskChar = this.mask ? this.getMaskChar() : null;\r\n    }\r\n    get ctrl() {\r\n        return this.ngControl.control;\r\n    }\r\n    onKeyDown(event) {\r\n        const key = event.key;\r\n        return key.length > 1 || /\\d/.test(key);\r\n    }\r\n    onKeyUp(event) {\r\n        const keyCode = this.getCode(event);\r\n        if ([37, 39].indexOf(keyCode) !== -1)\r\n            return;\r\n        this.applyMask();\r\n    }\r\n    applyMask() {\r\n        if (this.ctrl.value && this.mask) {\r\n            const value = this.ctrl.value.replace(/\\D/g, '');\r\n            let newValue = this.mask, cursorPos = this.getCursorPosition();\r\n            for (let i = 0; i < value.length; i++) {\r\n                const idx = newValue.indexOf(this.maskChar);\r\n                newValue = `${newValue.substring(0, idx)}${value[i]}${newValue.substring(idx + 1, newValue.length)}`;\r\n            }\r\n            let idx = newValue.indexOf(this.maskChar);\r\n            if (idx !== -1) {\r\n                newValue = newValue.substring(0, idx);\r\n            }\r\n            if (!/\\d/.test(newValue[cursorPos]) || cursorPos === 1) {\r\n                cursorPos++;\r\n            }\r\n            this.ctrl.setValue(newValue, { emitEvent: false });\r\n            this.setCursorPosition(cursorPos);\r\n        }\r\n    }\r\n    getMaskChar() {\r\n        const chars = {};\r\n        let maskChar, max = 0;\r\n        for (let i = 0; i < this.mask.length; i++) {\r\n            if (Object.keys(chars).indexOf(this.mask[i]) === -1) {\r\n                chars[this.mask[i]] = 1;\r\n            }\r\n            else {\r\n                chars[this.mask[i]]++;\r\n            }\r\n            if (chars[this.mask[i]] > max) {\r\n                max = chars[this.mask[i]];\r\n                maskChar = this.mask[i];\r\n            }\r\n        }\r\n        return maskChar;\r\n    }\r\n    getCursorPosition() {\r\n        return this.el.nativeElement.selectionStart;\r\n    }\r\n    setCursorPosition(start, end = start) {\r\n        this.el.nativeElement.setSelectionRange(start, end);\r\n    }\r\n    getCode(event) {\r\n        return event.keyCode || event.charCode;\r\n    }\r\n}\r\nMaskDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskDirective, deps: [{ token: i0.ElementRef }, { token: i4.NgControl }], target: i0.ɵɵFactoryTarget.Directive });\r\nMaskDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.3\", type: MaskDirective, selector: \"input[mask]\", inputs: { mask: \"mask\" }, host: { listeners: { \"keydown\": \"onKeyDown($event)\", \"keyup\": \"onKeyUp($event)\" } }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: 'input[mask]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i4.NgControl }]; }, propDecorators: { mask: [{\r\n                type: Input\r\n            }], onKeyDown: [{\r\n                type: HostListener,\r\n                args: ['keydown', ['$event']]\r\n            }], onKeyUp: [{\r\n                type: HostListener,\r\n                args: ['keyup', ['$event']]\r\n            }] } });\n\nclass VMaskedFieldComponent {\r\n    constructor() { }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    clearField() {\r\n        this.control.setValue('');\r\n    }\r\n}\r\nVMaskedFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVMaskedFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VMaskedFieldComponent, selector: \"app-masked-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\" [class]=\\\"{hidden:field.hidden}\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        type=\\\"text\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.mask\\\"\\r\\n        [maxlength]=\\\"field.mask?.length\\\"\\r\\n        [mask]=\\\"field.mask\\\"\\r\\n        matInput\\r\\n    />\\r\\n    <mat-icon *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}.hidden{display:none}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: MaskDirective, selector: \"input[mask]\", inputs: [\"mask\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i4.MaxLengthValidator, selector: \"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]\", inputs: [\"maxlength\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-masked-field', template: \"<mat-form-field [formGroup]=\\\"group\\\" [class]=\\\"{hidden:field.hidden}\\\">\\r\\n    <mat-label *ngIf=\\\"field.label\\\">{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input \\r\\n        type=\\\"text\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [placeholder]=\\\"field.mask\\\"\\r\\n        [maxlength]=\\\"field.mask?.length\\\"\\r\\n        [mask]=\\\"field.mask\\\"\\r\\n        matInput\\r\\n    />\\r\\n    <mat-icon *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</mat-icon>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}.hidden{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VNumberFieldComponent {\r\n    constructor() { }\r\n    get control() {\r\n        return this.group.get(this.field.name);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    clearField() {\r\n        this.control.setValue('');\r\n    }\r\n}\r\nVNumberFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVNumberFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VNumberFieldComponent, selector: \"app-number-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input\\r\\n        type=\\\"number\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [min]=\\\"field.min\\\"\\r\\n        [max]=\\\"field.max\\\"\\r\\n        [step]=\\\"field.step\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n    />\\r\\n    <span *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</span>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i4.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { type: i4.MinValidator, selector: \"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]\", inputs: [\"min\"] }, { type: i4.MaxValidator, selector: \"input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]\", inputs: [\"max\"] }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$1.MatSuffix, selector: \"[matSuffix]\" }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-number-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <span *ngIf=\\\"field.prefix\\\" matPrefix>{{field.prefix}} &nbsp;</span>\\r\\n    <input\\r\\n        type=\\\"number\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [min]=\\\"field.min\\\"\\r\\n        [max]=\\\"field.max\\\"\\r\\n        [step]=\\\"field.step\\\"\\r\\n        [readonly]=\\\"field.readonly\\\"\\r\\n        matInput\\r\\n    />\\r\\n    <span *ngIf=\\\"field.suffix\\\" matSuffix>{{field.suffix}}</span>\\r\\n\\r\\n    <button *ngIf=\\\"control.value && field.clearButton\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"clearField()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-hint *ngIf=\\\"field.hint\\\">{{field.hint}}</mat-hint>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error>   \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VRadioFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVRadioFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVRadioFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VRadioFieldComponent, selector: \"app-radio-field\", ngImport: i0, template: \"<section class=\\\"radio-section\\\" [formGroup]=\\\"group\\\">\\r\\n    <label *ngIf=\\\"field.label\\\">{{field.label}}:</label>\\r\\n    <mat-radio-group aria-label=\\\"field.label\\\" [formControlName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let option of field.options\\\">\\r\\n            <mat-radio-button [value]=\\\"option.value\\\">{{option.label}}</mat-radio-button>\\r\\n        </ng-container>        \\r\\n    </mat-radio-group>\\r\\n</section>\\r\\n\\r\\n\", styles: [\".radio-section{display:flex;align-content:center;align-items:center;margin:15px 0}.radio-section label{margin:0 10px 0 0}.mat-radio-button~.mat-radio-button{margin-left:16px}\\n\"], components: [{ type: i1$6.MatRadioButton, selector: \"mat-radio-button\", inputs: [\"disableRipple\", \"tabIndex\"], exportAs: [\"matRadioButton\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$6.MatRadioGroup, selector: \"mat-radio-group\", exportAs: [\"matRadioGroup\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-radio-field', template: \"<section class=\\\"radio-section\\\" [formGroup]=\\\"group\\\">\\r\\n    <label *ngIf=\\\"field.label\\\">{{field.label}}:</label>\\r\\n    <mat-radio-group aria-label=\\\"field.label\\\" [formControlName]=\\\"field.name\\\">\\r\\n        <ng-container *ngFor=\\\"let option of field.options\\\">\\r\\n            <mat-radio-button [value]=\\\"option.value\\\">{{option.label}}</mat-radio-button>\\r\\n        </ng-container>        \\r\\n    </mat-radio-group>\\r\\n</section>\\r\\n\\r\\n\", styles: [\".radio-section{display:flex;align-content:center;align-items:center;margin:15px 0}.radio-section label{margin:0 10px 0 0}.mat-radio-button~.mat-radio-button{margin-left:16px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VSelectFieldComponent {\r\n    constructor() {\r\n        this._selectSource = new BehaviorSubject([]);\r\n        this.options = this._selectSource.asObservable();\r\n    }\r\n    ngOnInit() {\r\n        if (this.field.options instanceof Observable) {\r\n            this.sub = this.field.options.subscribe(res => {\r\n                this._selectSource.next(res);\r\n            });\r\n        }\r\n        else {\r\n            this._selectSource.next(this.field.options);\r\n        }\r\n    }\r\n    get value() {\r\n        return this.group.get(this.field.name).value || '';\r\n    }\r\n    get option() {\r\n        return this._selectSource.value.find(option => option.value === this.value);\r\n    }\r\n    get label() {\r\n        return this.option ? this.option.label : '';\r\n    }\r\n    get hint() {\r\n        var _a;\r\n        return this.value && this.option ? ((_a = this.option.data) === null || _a === void 0 ? void 0 : _a.hint) || '' : '';\r\n    }\r\n    get color() {\r\n        var _a;\r\n        return this.value && this.option ? ((_a = this.option.data) === null || _a === void 0 ? void 0 : _a.color) || '' : '';\r\n    }\r\n    get icon() {\r\n        var _a;\r\n        return this.value && this.option ? ((_a = this.option.data) === null || _a === void 0 ? void 0 : _a.icon) || '' : '';\r\n    }\r\n    ngOnDestroy() {\r\n        this.sub && this.sub.unsubscribe();\r\n    }\r\n}\r\nVSelectFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVSelectFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VSelectFieldComponent, selector: \"app-select-field\", ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n  <mat-label>{{field.label}}</mat-label>\\r\\n  <span *ngIf=\\\"icon\\\" matPrefix [style]=\\\"{'color': color}\\\"><mat-icon>{{icon}}</mat-icon>&nbsp;&nbsp;</span>\\r\\n  <mat-select\\r\\n      [formControlName]=\\\"field.name\\\"\\r\\n      [multiple]=\\\"field.multiple\\\"\\r\\n  >\\r\\n    <mat-select-trigger *ngIf=\\\"field.icons\\\">\\r\\n      <mat-icon>{{value}}</mat-icon>&nbsp;&nbsp;&nbsp;{{label}}\\r\\n    </mat-select-trigger>\\r\\n    \\r\\n    <mat-option\\r\\n      *ngFor=\\\"let option of options | async\\\"\\r\\n      [value]=\\\"option.value\\\"\\r\\n      [disabled]=\\\"option.data?.disabled\\\">\\r\\n      <mat-icon *ngIf=\\\"field.icons\\\">{{option.value}}</mat-icon>\\r\\n      {{option.label}}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n  <mat-hint *ngIf=\\\"hint\\\">{{hint}}</mat-hint>\\r\\n  <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n    <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n        {{validation.message}}\\r\\n    </ng-container>\\r\\n</mat-error>\\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$1.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i4$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$1.MatPrefix, selector: \"[matPrefix]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i3.MatSelectTrigger, selector: \"mat-select-trigger\" }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatHint, selector: \"mat-hint\", inputs: [\"align\", \"id\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-select-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n  <mat-label>{{field.label}}</mat-label>\\r\\n  <span *ngIf=\\\"icon\\\" matPrefix [style]=\\\"{'color': color}\\\"><mat-icon>{{icon}}</mat-icon>&nbsp;&nbsp;</span>\\r\\n  <mat-select\\r\\n      [formControlName]=\\\"field.name\\\"\\r\\n      [multiple]=\\\"field.multiple\\\"\\r\\n  >\\r\\n    <mat-select-trigger *ngIf=\\\"field.icons\\\">\\r\\n      <mat-icon>{{value}}</mat-icon>&nbsp;&nbsp;&nbsp;{{label}}\\r\\n    </mat-select-trigger>\\r\\n    \\r\\n    <mat-option\\r\\n      *ngFor=\\\"let option of options | async\\\"\\r\\n      [value]=\\\"option.value\\\"\\r\\n      [disabled]=\\\"option.data?.disabled\\\">\\r\\n      <mat-icon *ngIf=\\\"field.icons\\\">{{option.value}}</mat-icon>\\r\\n      {{option.label}}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n  <mat-hint *ngIf=\\\"hint\\\">{{hint}}</mat-hint>\\r\\n  <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n    <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n        {{validation.message}}\\r\\n    </ng-container>\\r\\n</mat-error>\\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VSlideToggleFieldComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVSlideToggleFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVSlideToggleFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VSlideToggleFieldComponent, selector: \"app-slide-toggle-field\", ngImport: i0, template: \"<section  class=\\\"slider-toggle-section\\\" [formGroup]=\\\"group\\\">\\r\\n    <mat-slide-toggle\\r\\n          [color]=\\\"field.color ? field.color : 'accent'\\\"\\r\\n          [formControlName]=\\\"field.name\\\"\\r\\n    >\\r\\n        {{field.label}}\\r\\n    </mat-slide-toggle>\\r\\n</section>\\r\\n\", styles: [\".slider-toggle-section{display:flex;align-content:center;align-items:center;margin:15px 0}\\n\"], components: [{ type: i1$7.MatSlideToggle, selector: \"mat-slide-toggle\", inputs: [\"disabled\", \"disableRipple\", \"color\", \"tabIndex\", \"name\", \"id\", \"labelPosition\", \"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"required\", \"checked\"], outputs: [\"change\", \"toggleChange\"], exportAs: [\"matSlideToggle\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-slide-toggle-field', template: \"<section  class=\\\"slider-toggle-section\\\" [formGroup]=\\\"group\\\">\\r\\n    <mat-slide-toggle\\r\\n          [color]=\\\"field.color ? field.color : 'accent'\\\"\\r\\n          [formControlName]=\\\"field.name\\\"\\r\\n    >\\r\\n        {{field.label}}\\r\\n    </mat-slide-toggle>\\r\\n</section>\\r\\n\", styles: [\".slider-toggle-section{display:flex;align-content:center;align-items:center;margin:15px 0}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VSliderFieldComponent {\r\n    constructor() { }\r\n    getSliderTickInterval() {\r\n        if (this.field.showTicks) {\r\n            return this.field.autoTicks ? 'auto' : this.field.tickInterval;\r\n        }\r\n        return 0;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\nVSliderFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nVSliderFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VSliderFieldComponent, selector: \"app-slider-field\", ngImport: i0, template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <div class=\\\"label-wrapper\\\">\\r\\n      <label class=\\\"start-label\\\">{{field.label}}</label>\\r\\n      <label class=\\\"end-label\\\">{{group.get(field.name).value}}</label>\\r\\n    </div>\\r\\n    <mat-slider\\r\\n        [invert]=\\\"field.invert\\\"\\r\\n        [min]=\\\"field.min\\\"\\r\\n        [max]=\\\"field.max\\\"\\r\\n        [step]=\\\"field.step\\\"\\r\\n        [thumbLabel]=\\\"field.thumbLabel\\\"\\r\\n        [tickInterval]=\\\"getSliderTickInterval()\\\"\\r\\n        [vertical]=\\\"field.vertical\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [value]=\\\"field.value\\\"\\r\\n    >\\r\\n    </mat-slider>\\r\\n</ng-container>\\r\\n\", styles: [\"mat-slider{width:100%}\\n\"], components: [{ type: i1$8.MatSlider, selector: \"mat-slider\", inputs: [\"disabled\", \"color\", \"tabIndex\", \"invert\", \"max\", \"min\", \"step\", \"thumbLabel\", \"tickInterval\", \"value\", \"displayWith\", \"valueText\", \"vertical\"], outputs: [\"change\", \"input\", \"valueChange\"], exportAs: [\"matSlider\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-slider-field', template: \"<ng-container [formGroup]=\\\"group\\\">\\r\\n    <div class=\\\"label-wrapper\\\">\\r\\n      <label class=\\\"start-label\\\">{{field.label}}</label>\\r\\n      <label class=\\\"end-label\\\">{{group.get(field.name).value}}</label>\\r\\n    </div>\\r\\n    <mat-slider\\r\\n        [invert]=\\\"field.invert\\\"\\r\\n        [min]=\\\"field.min\\\"\\r\\n        [max]=\\\"field.max\\\"\\r\\n        [step]=\\\"field.step\\\"\\r\\n        [thumbLabel]=\\\"field.thumbLabel\\\"\\r\\n        [tickInterval]=\\\"getSliderTickInterval()\\\"\\r\\n        [vertical]=\\\"field.vertical\\\"\\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        [value]=\\\"field.value\\\"\\r\\n    >\\r\\n    </mat-slider>\\r\\n</ng-container>\\r\\n\", styles: [\"mat-slider{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass VTextFieldComponent {\r\n    constructor(_ngZone) {\r\n        this._ngZone = _ngZone;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    triggerResize() {\r\n        this._ngZone.onStable.pipe(take(1))\r\n            .subscribe(() => this.autosize.resizeToFitContent(true));\r\n    }\r\n}\r\nVTextFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldComponent, deps: [{ token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\r\nVTextFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VTextFieldComponent, selector: \"app-text-field\", viewQueries: [{ propertyName: \"autosize\", first: true, predicate: [\"autosize\"], descendants: true }], ngImport: i0, template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <textarea \\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        cdkTextareaAutosize\\r\\n        #autosize=\\\"cdkTextareaAutosize\\\"\\r\\n        [cdkAutosizeMinRows]=\\\"field.rows\\\"\\r\\n        [cdkAutosizeMaxRows]=\\\"field.maxRows\\\"\\r\\n        matInput\\r\\n        trim\\r\\n    ></textarea>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error> \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"], components: [{ type: i1$1.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }], directives: [{ type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$1.MatLabel, selector: \"mat-label\" }, { type: i3$1.CdkTextareaAutosize, selector: \"textarea[cdkTextareaAutosize]\", inputs: [\"cdkAutosizeMinRows\", \"cdkAutosizeMaxRows\", \"cdkTextareaAutosize\", \"placeholder\"], exportAs: [\"cdkTextareaAutosize\"] }, { type: i6.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: TrimDirective, selector: \"[trim]\" }, { type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.MatError, selector: \"mat-error\", inputs: [\"id\"] }, { type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'app-text-field', template: \"<mat-form-field [formGroup]=\\\"group\\\">\\r\\n    <mat-label>{{field.label}}</mat-label>\\r\\n    <textarea \\r\\n        [formControlName]=\\\"field.name\\\"\\r\\n        cdkTextareaAutosize\\r\\n        #autosize=\\\"cdkTextareaAutosize\\\"\\r\\n        [cdkAutosizeMinRows]=\\\"field.rows\\\"\\r\\n        [cdkAutosizeMaxRows]=\\\"field.maxRows\\\"\\r\\n        matInput\\r\\n        trim\\r\\n    ></textarea>\\r\\n    <mat-error *ngFor=\\\"let validation of field.getValMessage()\\\">\\r\\n        <ng-container *ngIf=\\\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\\\">\\r\\n            {{validation.message}}\\r\\n        </ng-container>\\r\\n    </mat-error> \\r\\n</mat-form-field>\\r\\n\", styles: [\"mat-form-field{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.NgZone }]; }, propDecorators: { autosize: [{\r\n                type: ViewChild,\r\n                args: ['autosize']\r\n            }] } });\n\nconst componentMapper = {\r\n    vinputfield: VInputFieldComponent,\r\n    vbox: VBoxComponent,\r\n    vbutton: VButtonComponent,\r\n    vselectfield: VSelectFieldComponent,\r\n    vtextfield: VTextFieldComponent,\r\n    vautocompletefield: VAutocompleteFieldComponent,\r\n    vcheckboxfield: VCheckboxFieldComponent,\r\n    vdatepickerfield: VDatepickerFieldComponent,\r\n    vimage: VImageComponent,\r\n    vmaskedfield: VMaskedFieldComponent,\r\n    vnumberfield: VNumberFieldComponent,\r\n    vradiofield: VRadioFieldComponent,\r\n    vslidetogglefield: VSlideToggleFieldComponent,\r\n    vsliderfield: VSliderFieldComponent,\r\n    vaccordion: VAccordionComponent,\r\n    vlabel: VLabelComponent,\r\n    vchips: VChipsComponent,\r\n    vdragdroplist: VDragDropListComponent,\r\n    vcolorfield: VColorFieldComponent,\r\n    veditorfield: VEditorFieldComponent,\r\n    vfilefield: VFileFieldComponent,\r\n    vdivider: VDividerComponent,\r\n    vlist: VListComponent,\r\n    vimagefield: VImageFieldComponent,\r\n    vchipsfield: VChipsFieldComponent\r\n};\r\nclass VFieldDirective {\r\n    constructor(_resolver, _container) {\r\n        this._resolver = _resolver;\r\n        this._container = _container;\r\n    }\r\n    ngOnInit() {\r\n        const factory = this._resolver.resolveComponentFactory(componentMapper[this.field.getName()]);\r\n        this.componentRef = this._container.createComponent(factory);\r\n        this._applyStyles();\r\n        this.componentRef.instance.field = this.field;\r\n        this.componentRef.instance.group = this.group;\r\n    }\r\n    _applyStyles() {\r\n        let element = this.componentRef.location.nativeElement;\r\n        if (this.field.styles) {\r\n            Object.keys(this.field.styles).map(k => {\r\n                element.style[this._getStyle(k)] = this.field.styles[k].toString();\r\n            });\r\n        }\r\n        if (this.field.cls) {\r\n            this.field.cls.split(' ').map(cls => {\r\n                if (cls && cls.trim() !== '') {\r\n                    element.classList.add(cls);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _getStyle(key) {\r\n        switch (key) {\r\n            case 'marginLeft':\r\n                return 'margin-left';\r\n            case 'marginRight':\r\n                return 'margin-right';\r\n            case 'marginTop':\r\n                return 'margin-top';\r\n            case 'marginBottom':\r\n                return 'margin-bottom';\r\n            case 'bgColor':\r\n                return 'background-color';\r\n            default:\r\n                return key;\r\n        }\r\n    }\r\n}\r\nVFieldDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldDirective, deps: [{ token: i0.ComponentFactoryResolver }, { token: i0.ViewContainerRef }], target: i0.ɵɵFactoryTarget.Directive });\r\nVFieldDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VFieldDirective, selector: \"[appVField]\", inputs: { field: \"field\", group: \"group\" }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[appVField]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i0.ViewContainerRef }]; }, propDecorators: { field: [{\r\n                type: Input\r\n            }], group: [{\r\n                type: Input\r\n            }] } });\n\nclass VFactoryComponent {\r\n    constructor(_factoryService) {\r\n        this._factoryService = _factoryService;\r\n        this.formConfig = [];\r\n        this.submit = new EventEmitter();\r\n        this.formConfig$ = this._factoryService.configEvent;\r\n    }\r\n    get value() {\r\n        return this.form.value;\r\n    }\r\n    ngOnInit() {\r\n        this._factoryService.updateConfig(this.formConfig, this.form);\r\n    }\r\n    onSubmit(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (this.form.valid) {\r\n            this.submit.emit(this.form);\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this._factoryService.clearConfig();\r\n    }\r\n}\r\nVFactoryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryComponent, deps: [{ token: VFactoryService }], target: i0.ɵɵFactoryTarget.Component });\r\nVFactoryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.3\", type: VFactoryComponent, selector: \"v-v-factory\", inputs: { formConfig: \"formConfig\", form: \"form\" }, outputs: { submit: \"submit\" }, ngImport: i0, template: \"<form \\r\\n    autocomplete=\\\"off\\\"\\r\\n    [formGroup]=\\\"form\\\"\\r\\n    (submit)=\\\"onSubmit($event)\\\"\\r\\n>\\r\\n    <ng-container *ngFor=\\\"let item of formConfig$ | async\\\">    \\r\\n            \\r\\n        <ng-container [ngSwitch]=\\\"item.getName()\\\">        \\r\\n            <ng-container *ngSwitchCase=\\\"'vcontent'\\\">\\r\\n                <ng-content></ng-content>           \\r\\n            </ng-container>\\r\\n            \\r\\n            <ng-container *ngSwitchDefault\\r\\n                appVField \\r\\n                [field]=\\\"item\\\" \\r\\n                [group]=\\\"form\\\"            \\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>   \\r\\n    </ng-container>\\r\\n</form>\\r\\n\", styles: [\"::ng-deep .column{display:flex;flex-direction:column;justify-content:space-between}::ng-deep .row{display:flex;justify-content:space-between}::ng-deep .hidden{display:none}\\n\"], directives: [{ type: i4.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i5.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { type: i5.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { type: i5.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }, { type: VFieldDirective, selector: \"[appVField]\", inputs: [\"field\", \"group\"] }], pipes: { \"async\": i5.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'v-v-factory', template: \"<form \\r\\n    autocomplete=\\\"off\\\"\\r\\n    [formGroup]=\\\"form\\\"\\r\\n    (submit)=\\\"onSubmit($event)\\\"\\r\\n>\\r\\n    <ng-container *ngFor=\\\"let item of formConfig$ | async\\\">    \\r\\n            \\r\\n        <ng-container [ngSwitch]=\\\"item.getName()\\\">        \\r\\n            <ng-container *ngSwitchCase=\\\"'vcontent'\\\">\\r\\n                <ng-content></ng-content>           \\r\\n            </ng-container>\\r\\n            \\r\\n            <ng-container *ngSwitchDefault\\r\\n                appVField \\r\\n                [field]=\\\"item\\\" \\r\\n                [group]=\\\"form\\\"            \\r\\n                >\\r\\n            </ng-container>\\r\\n        </ng-container>   \\r\\n    </ng-container>\\r\\n</form>\\r\\n\", styles: [\"::ng-deep .column{display:flex;flex-direction:column;justify-content:space-between}::ng-deep .row{display:flex;justify-content:space-between}::ng-deep .hidden{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: VFactoryService }]; }, propDecorators: { formConfig: [{\r\n                type: Input\r\n            }], form: [{\r\n                type: Input\r\n            }], submit: [{\r\n                type: Output\r\n            }] } });\n\nclass VFieldModule {\r\n}\r\nVFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldModule, declarations: [VFieldDirective], exports: [VFieldDirective] });\r\nVFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VFieldDirective],\r\n                    exports: [VFieldDirective]\r\n                }]\r\n        }] });\n\nclass VBoxModule {\r\n}\r\nVBoxModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVBoxModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxModule, declarations: [VBoxComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule], exports: [VBoxComponent] });\r\nVBoxModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            FormsModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VBoxModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VBoxComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        FormsModule\r\n                    ],\r\n                    exports: [VBoxComponent]\r\n                }]\r\n        }] });\n\nclass VButtonModule {\r\n}\r\nVButtonModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVButtonModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonModule, declarations: [VButtonComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatButtonModule,\r\n        MatTooltipModule,\r\n        MatIconModule] });\r\nVButtonModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatButtonModule,\r\n            MatTooltipModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VButtonModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VButtonComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass TrimModule {\r\n}\r\nTrimModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nTrimModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimModule, declarations: [TrimDirective], exports: [TrimDirective] });\r\nTrimModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: TrimModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [TrimDirective],\r\n                    exports: [TrimDirective]\r\n                }]\r\n        }] });\n\nclass VInputFieldModule {\r\n}\r\nVInputFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVInputFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldModule, declarations: [VInputFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        TrimModule,\r\n        MatButtonModule] });\r\nVInputFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            MatIconModule,\r\n            TrimModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VInputFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VInputFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        MatIconModule,\r\n                        TrimModule,\r\n                        MatButtonModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VSelectFieldModule {\r\n}\r\nVSelectFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVSelectFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldModule, declarations: [VSelectFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatSelectModule,\r\n        MatIconModule] });\r\nVSelectFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatSelectModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSelectFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VSelectFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatSelectModule,\r\n                        MatIconModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VTextFieldModule {\r\n}\r\nVTextFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVTextFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldModule, declarations: [VTextFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        TextFieldModule,\r\n        TrimModule] });\r\nVTextFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            TextFieldModule,\r\n            TrimModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VTextFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VTextFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        TextFieldModule,\r\n                        TrimModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VAutocompleteFieldModule {\r\n}\r\nVAutocompleteFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVAutocompleteFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldModule, declarations: [VAutocompleteFieldComponent], imports: [CommonModule,\r\n        MatAutocompleteModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule] });\r\nVAutocompleteFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldModule, imports: [[\r\n            CommonModule,\r\n            MatAutocompleteModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAutocompleteFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VAutocompleteFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatAutocompleteModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VCheckboxFieldModule {\r\n}\r\nVCheckboxFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVCheckboxFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldModule, declarations: [VCheckboxFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatCheckboxModule] });\r\nVCheckboxFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatCheckboxModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VCheckboxFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VCheckboxFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatCheckboxModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VDatepickerFieldModule {\r\n}\r\nVDatepickerFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVDatepickerFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldModule, declarations: [VDatepickerFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatNativeDateModule,\r\n        MatDatepickerModule,\r\n        MatInputModule] });\r\nVDatepickerFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldModule, providers: [MatNativeDateModule], imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatNativeDateModule,\r\n            MatDatepickerModule,\r\n            MatInputModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDatepickerFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VDatepickerFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatNativeDateModule,\r\n                        MatDatepickerModule,\r\n                        MatInputModule\r\n                    ],\r\n                    providers: [MatNativeDateModule]\r\n                }]\r\n        }] });\n\nclass VImageModule {\r\n}\r\nVImageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVImageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageModule, declarations: [VImageComponent], imports: [CommonModule], exports: [VImageComponent] });\r\nVImageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VImageComponent],\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [VImageComponent]\r\n                }]\r\n        }] });\n\nclass MaskModule {\r\n}\r\nMaskModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nMaskModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskModule, declarations: [MaskDirective], exports: [MaskDirective] });\r\nMaskModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: MaskModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [MaskDirective],\r\n                    exports: [MaskDirective]\r\n                }]\r\n        }] });\n\nclass VMaskedFieldModule {\r\n}\r\nVMaskedFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVMaskedFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldModule, declarations: [VMaskedFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        MaskModule,\r\n        MatButtonModule] });\r\nVMaskedFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            MatIconModule,\r\n            MaskModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VMaskedFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VMaskedFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        MatIconModule,\r\n                        MaskModule,\r\n                        MatButtonModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VNumberFieldModule {\r\n}\r\nVNumberFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVNumberFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldModule, declarations: [VNumberFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        MatButtonModule] });\r\nVNumberFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            MatIconModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VNumberFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VNumberFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        MatIconModule,\r\n                        MatButtonModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VRadioFieldModule {\r\n}\r\nVRadioFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVRadioFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldModule, declarations: [VRadioFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatRadioModule] });\r\nVRadioFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatRadioModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VRadioFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VRadioFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatRadioModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VSlideToggleFieldModule {\r\n}\r\nVSlideToggleFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVSlideToggleFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldModule, declarations: [VSlideToggleFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatSlideToggleModule] });\r\nVSlideToggleFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatSlideToggleModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSlideToggleFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VSlideToggleFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatSlideToggleModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VSliderFieldModule {\r\n}\r\nVSliderFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVSliderFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldModule, declarations: [VSliderFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatSliderModule] });\r\nVSliderFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatSliderModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VSliderFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VSliderFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatSliderModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VAccordionModule {\r\n}\r\nVAccordionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVAccordionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionModule, declarations: [VAccordionComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        MatExpansionModule,\r\n        MatIconModule,\r\n        MatButtonModule,\r\n        MatTooltipModule], exports: [VAccordionComponent] });\r\nVAccordionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            FormsModule,\r\n            MatExpansionModule,\r\n            MatIconModule,\r\n            MatButtonModule,\r\n            MatTooltipModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VAccordionModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VAccordionComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        FormsModule,\r\n                        MatExpansionModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule\r\n                    ],\r\n                    exports: [VAccordionComponent]\r\n                }]\r\n        }] });\n\nclass VLabelModule {\r\n}\r\nVLabelModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVLabelModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelModule, declarations: [VLabelComponent], imports: [CommonModule,\r\n        MatTooltipModule,\r\n        MatIconModule], exports: [VLabelComponent] });\r\nVLabelModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelModule, imports: [[\r\n            CommonModule,\r\n            MatTooltipModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VLabelModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VLabelComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule\r\n                    ],\r\n                    exports: [VLabelComponent]\r\n                }]\r\n        }] });\n\nclass VChipsModule {\r\n}\r\nVChipsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVChipsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsModule, declarations: [VChipsComponent], imports: [CommonModule,\r\n        MatChipsModule,\r\n        MatIconModule], exports: [VChipsComponent] });\r\nVChipsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsModule, imports: [[\r\n            CommonModule,\r\n            MatChipsModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VChipsComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatChipsModule,\r\n                        MatIconModule\r\n                    ],\r\n                    exports: [VChipsComponent]\r\n                }]\r\n        }] });\n\nclass VDragDropListModule {\r\n}\r\nVDragDropListModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVDragDropListModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListModule, declarations: [VDragDropListComponent], imports: [CommonModule,\r\n        DragDropModule,\r\n        ReactiveFormsModule,\r\n        MatCardModule,\r\n        MatDividerModule,\r\n        RouterModule,\r\n        MatIconModule,\r\n        MatButtonModule], exports: [VDragDropListComponent] });\r\nVDragDropListModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListModule, imports: [[\r\n            CommonModule,\r\n            DragDropModule,\r\n            ReactiveFormsModule,\r\n            MatCardModule,\r\n            MatDividerModule,\r\n            RouterModule,\r\n            MatIconModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDragDropListModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VDragDropListComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        DragDropModule,\r\n                        ReactiveFormsModule,\r\n                        MatCardModule,\r\n                        MatDividerModule,\r\n                        RouterModule,\r\n                        MatIconModule,\r\n                        MatButtonModule\r\n                    ],\r\n                    exports: [VDragDropListComponent]\r\n                }]\r\n        }] });\n\nclass VColorFieldModule {\r\n}\r\nVColorFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVColorFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldModule, declarations: [VColorFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule], exports: [VColorFieldComponent] });\r\nVColorFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatInputModule,\r\n            MatIconModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VColorFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VColorFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatInputModule,\r\n                        MatIconModule\r\n                    ],\r\n                    exports: [VColorFieldComponent]\r\n                }]\r\n        }] });\n\nclass ToolbarBtnModule {\r\n}\r\nToolbarBtnModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nToolbarBtnModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnModule, declarations: [ToolbarBtnComponent], imports: [CommonModule,\r\n        MatButtonModule], exports: [ToolbarBtnComponent] });\r\nToolbarBtnModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnModule, imports: [[\r\n            CommonModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarBtnModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ToolbarBtnComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatButtonModule\r\n                    ],\r\n                    exports: [ToolbarBtnComponent]\r\n                }]\r\n        }] });\n\nclass ToolbarSelectModule {\r\n}\r\nToolbarSelectModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nToolbarSelectModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectModule, declarations: [ToolbarSelectComponent], imports: [CommonModule,\r\n        MatButtonModule], exports: [ToolbarSelectComponent] });\r\nToolbarSelectModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectModule, imports: [[\r\n            CommonModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarSelectModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ToolbarSelectComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatButtonModule\r\n                    ],\r\n                    exports: [ToolbarSelectComponent]\r\n                }]\r\n        }] });\n\nclass ToolbarColorModule {\r\n}\r\nToolbarColorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nToolbarColorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorModule, declarations: [ToolbarColorComponent], imports: [CommonModule], exports: [ToolbarColorComponent] });\r\nToolbarColorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarColorModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ToolbarColorComponent],\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [ToolbarColorComponent]\r\n                }]\r\n        }] });\n\nclass ToolbarModule {\r\n}\r\nToolbarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nToolbarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarModule, declarations: [ToolbarComponent], imports: [CommonModule,\r\n        ToolbarBtnModule,\r\n        ToolbarSelectModule,\r\n        ToolbarColorModule], exports: [ToolbarComponent] });\r\nToolbarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarModule, imports: [[\r\n            CommonModule,\r\n            ToolbarBtnModule,\r\n            ToolbarSelectModule,\r\n            ToolbarColorModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ToolbarModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ToolbarComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ToolbarBtnModule,\r\n                        ToolbarSelectModule,\r\n                        ToolbarColorModule\r\n                    ],\r\n                    exports: [ToolbarComponent]\r\n                }]\r\n        }] });\n\nclass ContenteditableModule {\r\n}\r\nContenteditableModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nContenteditableModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableModule, declarations: [ContenteditableValueAccessor], exports: [ContenteditableValueAccessor] });\r\nContenteditableModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ContenteditableModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [ContenteditableValueAccessor],\r\n                    exports: [ContenteditableValueAccessor]\r\n                }]\r\n        }] });\n\nclass VEditorFieldModule {\r\n}\r\nVEditorFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVEditorFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldModule, declarations: [VEditorFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatFormFieldModule,\r\n        MatInputModule,\r\n        MatButtonModule,\r\n        MatTooltipModule,\r\n        MatIconModule,\r\n        ToolbarModule,\r\n        ContenteditableModule] });\r\nVEditorFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldModule, providers: [VEditorService], imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatFormFieldModule,\r\n            MatInputModule,\r\n            MatButtonModule,\r\n            MatTooltipModule,\r\n            MatIconModule,\r\n            ToolbarModule,\r\n            ContenteditableModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VEditorFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VEditorFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule,\r\n                        ToolbarModule,\r\n                        ContenteditableModule\r\n                    ],\r\n                    providers: [VEditorService]\r\n                }]\r\n        }] });\n\nclass VFileFieldModule {\r\n}\r\nVFileFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVFileFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldModule, declarations: [VFileFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule] });\r\nVFileFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFileFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VFileFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VDividerModule {\r\n}\r\nVDividerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVDividerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerModule, declarations: [VDividerComponent], imports: [CommonModule,\r\n        MatDividerModule], exports: [VDividerComponent] });\r\nVDividerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerModule, imports: [[\r\n            CommonModule,\r\n            MatDividerModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VDividerModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VDividerComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatDividerModule\r\n                    ],\r\n                    exports: [VDividerComponent]\r\n                }]\r\n        }] });\n\nclass VListModule {\r\n}\r\nVListModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVListModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListModule, declarations: [VListComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        MatTooltipModule,\r\n        MatIconModule,\r\n        MatListModule], exports: [VListComponent] });\r\nVListModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            MatTooltipModule,\r\n            MatIconModule,\r\n            MatListModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VListModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VListComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule,\r\n                        MatListModule\r\n                    ],\r\n                    exports: [VListComponent]\r\n                }]\r\n        }] });\n\n/*\r\nOriginal library: ngx-image-cropper\r\nOriginal module author: Martijn Willekens\r\nOriginal repository: https://github.com/Mawi137/ngx-image-cropper.git\r\nOriginal homepage: https://github.com/Mawi137/ngx-image-cropper\r\n*/\r\nclass ImageCropperModule {\r\n}\r\nImageCropperModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nImageCropperModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperModule, declarations: [ImageCropperComponent], imports: [CommonModule], exports: [ImageCropperComponent] });\r\nImageCropperModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: ImageCropperModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    declarations: [\r\n                        ImageCropperComponent\r\n                    ],\r\n                    exports: [\r\n                        ImageCropperComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VImageFieldModule {\r\n}\r\nVImageFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVImageFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldModule, declarations: [VImageFieldComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        ImageCropperModule,\r\n        MatCardModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatDividerModule,\r\n        MatTooltipModule] });\r\nVImageFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldModule, imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            ImageCropperModule,\r\n            MatCardModule,\r\n            MatButtonModule,\r\n            MatIconModule,\r\n            MatDividerModule,\r\n            MatTooltipModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VImageFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VImageFieldComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        ImageCropperModule,\r\n                        MatCardModule,\r\n                        MatButtonModule,\r\n                        MatIconModule,\r\n                        MatDividerModule,\r\n                        MatTooltipModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VChipsFieldModule {\r\n}\r\nVChipsFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVChipsFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldModule, declarations: [VChipsFieldComponent], imports: [CommonModule,\r\n        MatChipsModule,\r\n        MatIconModule,\r\n        ReactiveFormsModule,\r\n        MatAutocompleteModule,\r\n        MatInputModule], exports: [VChipsFieldComponent] });\r\nVChipsFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldModule, imports: [[\r\n            CommonModule,\r\n            MatChipsModule,\r\n            MatIconModule,\r\n            ReactiveFormsModule,\r\n            MatAutocompleteModule,\r\n            MatInputModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VChipsFieldModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [\r\n                        VChipsFieldComponent\r\n                    ],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatChipsModule,\r\n                        MatIconModule,\r\n                        ReactiveFormsModule,\r\n                        MatAutocompleteModule,\r\n                        MatInputModule\r\n                    ],\r\n                    exports: [\r\n                        VChipsFieldComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VComponentsModule {\r\n}\r\nVComponentsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VComponentsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVComponentsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VComponentsModule, imports: [VBoxModule,\r\n        VButtonModule,\r\n        VInputFieldModule,\r\n        VSelectFieldModule,\r\n        VTextFieldModule,\r\n        VAutocompleteFieldModule,\r\n        VCheckboxFieldModule,\r\n        VDatepickerFieldModule,\r\n        VImageModule,\r\n        VMaskedFieldModule,\r\n        VNumberFieldModule,\r\n        VRadioFieldModule,\r\n        VSlideToggleFieldModule,\r\n        VSliderFieldModule,\r\n        VAccordionModule,\r\n        VLabelModule,\r\n        VChipsModule,\r\n        VDragDropListModule,\r\n        VColorFieldModule,\r\n        VEditorFieldModule,\r\n        VFileFieldModule,\r\n        VDividerModule,\r\n        VListModule,\r\n        VImageFieldModule,\r\n        VChipsFieldModule], exports: [VBoxModule,\r\n        VButtonModule,\r\n        VInputFieldModule,\r\n        VSelectFieldModule,\r\n        VTextFieldModule,\r\n        VAutocompleteFieldModule,\r\n        VCheckboxFieldModule,\r\n        VDatepickerFieldModule,\r\n        VImageModule,\r\n        VMaskedFieldModule,\r\n        VNumberFieldModule,\r\n        VRadioFieldModule,\r\n        VSlideToggleFieldModule,\r\n        VSliderFieldModule,\r\n        VAccordionModule,\r\n        VLabelModule,\r\n        VChipsModule,\r\n        VDragDropListModule,\r\n        VColorFieldModule,\r\n        VEditorFieldModule,\r\n        VFileFieldModule,\r\n        VDividerModule,\r\n        VListModule,\r\n        VImageFieldModule,\r\n        VChipsFieldModule] });\r\nVComponentsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VComponentsModule, imports: [[\r\n            VBoxModule,\r\n            VButtonModule,\r\n            VInputFieldModule,\r\n            VSelectFieldModule,\r\n            VTextFieldModule,\r\n            VAutocompleteFieldModule,\r\n            VCheckboxFieldModule,\r\n            VDatepickerFieldModule,\r\n            VImageModule,\r\n            VMaskedFieldModule,\r\n            VNumberFieldModule,\r\n            VRadioFieldModule,\r\n            VSlideToggleFieldModule,\r\n            VSliderFieldModule,\r\n            VAccordionModule,\r\n            VLabelModule,\r\n            VChipsModule,\r\n            VDragDropListModule,\r\n            VColorFieldModule,\r\n            VEditorFieldModule,\r\n            VFileFieldModule,\r\n            VDividerModule,\r\n            VListModule,\r\n            VImageFieldModule,\r\n            VChipsFieldModule\r\n        ], VBoxModule,\r\n        VButtonModule,\r\n        VInputFieldModule,\r\n        VSelectFieldModule,\r\n        VTextFieldModule,\r\n        VAutocompleteFieldModule,\r\n        VCheckboxFieldModule,\r\n        VDatepickerFieldModule,\r\n        VImageModule,\r\n        VMaskedFieldModule,\r\n        VNumberFieldModule,\r\n        VRadioFieldModule,\r\n        VSlideToggleFieldModule,\r\n        VSliderFieldModule,\r\n        VAccordionModule,\r\n        VLabelModule,\r\n        VChipsModule,\r\n        VDragDropListModule,\r\n        VColorFieldModule,\r\n        VEditorFieldModule,\r\n        VFileFieldModule,\r\n        VDividerModule,\r\n        VListModule,\r\n        VImageFieldModule,\r\n        VChipsFieldModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VComponentsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        VBoxModule,\r\n                        VButtonModule,\r\n                        VInputFieldModule,\r\n                        VSelectFieldModule,\r\n                        VTextFieldModule,\r\n                        VAutocompleteFieldModule,\r\n                        VCheckboxFieldModule,\r\n                        VDatepickerFieldModule,\r\n                        VImageModule,\r\n                        VMaskedFieldModule,\r\n                        VNumberFieldModule,\r\n                        VRadioFieldModule,\r\n                        VSlideToggleFieldModule,\r\n                        VSliderFieldModule,\r\n                        VAccordionModule,\r\n                        VLabelModule,\r\n                        VChipsModule,\r\n                        VDragDropListModule,\r\n                        VColorFieldModule,\r\n                        VEditorFieldModule,\r\n                        VFileFieldModule,\r\n                        VDividerModule,\r\n                        VListModule,\r\n                        VImageFieldModule,\r\n                        VChipsFieldModule\r\n                    ],\r\n                    exports: [\r\n                        VBoxModule,\r\n                        VButtonModule,\r\n                        VInputFieldModule,\r\n                        VSelectFieldModule,\r\n                        VTextFieldModule,\r\n                        VAutocompleteFieldModule,\r\n                        VCheckboxFieldModule,\r\n                        VDatepickerFieldModule,\r\n                        VImageModule,\r\n                        VMaskedFieldModule,\r\n                        VNumberFieldModule,\r\n                        VRadioFieldModule,\r\n                        VSlideToggleFieldModule,\r\n                        VSliderFieldModule,\r\n                        VAccordionModule,\r\n                        VLabelModule,\r\n                        VChipsModule,\r\n                        VDragDropListModule,\r\n                        VColorFieldModule,\r\n                        VEditorFieldModule,\r\n                        VFileFieldModule,\r\n                        VDividerModule,\r\n                        VListModule,\r\n                        VImageFieldModule,\r\n                        VChipsFieldModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass VFactoryModule {\r\n}\r\nVFactoryModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nVFactoryModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryModule, declarations: [VFactoryComponent], imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        VFieldModule,\r\n        VComponentsModule], exports: [VFactoryComponent] });\r\nVFactoryModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryModule, providers: [VFactoryService], imports: [[\r\n            CommonModule,\r\n            ReactiveFormsModule,\r\n            FormsModule,\r\n            VFieldModule,\r\n            VComponentsModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.3\", ngImport: i0, type: VFactoryModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [VFactoryComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        FormsModule,\r\n                        VFieldModule,\r\n                        VComponentsModule\r\n                    ],\r\n                    providers: [VFactoryService],\r\n                    exports: [VFactoryComponent]\r\n                }]\r\n        }] });\n\n/*\r\n * Public API Surface of v-factory\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { VAccordion, VAutocompleteField, VBox, VButton, VCheckboxField, VChips, VChipsField, VColorField, VContent, VDatepickerField, VDivider, VDragDropList, VEditorField, VFactoryComponent, VFactoryModule, VFactoryService, VField, VFileField, VImage, VImageField, VInputField, VItem, VLabel, VList, VMaskedField, VNumberField, VRadioField, VSelectField, VSlideToggleField, VSliderField, VTextField };\n//# sourceMappingURL=farawayslv-v-factory.mjs.map\n","map":{"version":3,"file":"farawayslv-v-factory.mjs","sources":["../../../projects/v-factory/src/lib/models/v-item.model.ts","../../../projects/v-factory/src/lib/utils/file-ext.validator.ts","../../../projects/v-factory/src/lib/utils/file-size.validator.ts","../../../projects/v-factory/src/lib/models/v-field.model.ts","../../../projects/v-factory/src/lib/models/v-box.model.ts","../../../projects/v-factory/src/lib/models/v-button.model.ts","../../../projects/v-factory/src/lib/models/v-input-field.model.ts","../../../projects/v-factory/src/lib/models/v-select-field.model.ts","../../../projects/v-factory/src/lib/models/v-text-field.model.ts","../../../projects/v-factory/src/lib/models/v-autocomplete-field.model.ts","../../../projects/v-factory/src/lib/models/v-checkbox-field.model.ts","../../../projects/v-factory/src/lib/models/v-datepicker-field.model.ts","../../../projects/v-factory/src/lib/models/v-masked-field.model.ts","../../../projects/v-factory/src/lib/models/v-number-field.model.ts","../../../projects/v-factory/src/lib/models/v-radio-field.model.ts","../../../projects/v-factory/src/lib/models/v-slide-toggle-field.model.ts","../../../projects/v-factory/src/lib/models/v-slider-field.model.ts","../../../projects/v-factory/src/lib/models/v-image.model.ts","../../../projects/v-factory/src/lib/models/v-accordion.model.ts","../../../projects/v-factory/src/lib/models/v-label.model.ts","../../../projects/v-factory/src/lib/models/v-chips.model.ts","../../../projects/v-factory/src/lib/models/v-drag-drop-list.model.ts","../../../projects/v-factory/src/lib/models/v-color-field.model.ts","../../../projects/v-factory/src/lib/models/v-editor-field.model.ts","../../../projects/v-factory/src/lib/models/v-file-field.model.ts","../../../projects/v-factory/src/lib/models/v-divider.model.ts","../../../projects/v-factory/src/lib/models/v-list.model.ts","../../../projects/v-factory/src/lib/models/v-content.model.ts","../../../projects/v-factory/src/lib/models/v-image-field.model.ts","../../../projects/v-factory/src/lib/models/v-chips-field.model.ts","../../../projects/v-factory/src/lib/services/v-factory.service.ts","../../../projects/v-factory/src/lib/components/v-accordion/v-accordion.component.ts","../../../projects/v-factory/src/lib/components/v-accordion/v-accordion.component.html","../../../projects/v-factory/src/lib/components/v-autocomplete-field/v-autocomplete-field.component.ts","../../../projects/v-factory/src/lib/components/v-autocomplete-field/v-autocomplete-field.component.html","../../../projects/v-factory/src/lib/components/v-box/v-box.component.ts","../../../projects/v-factory/src/lib/components/v-box/v-box.component.html","../../../projects/v-factory/src/lib/components/v-button/v-button.component.ts","../../../projects/v-factory/src/lib/components/v-button/v-button.component.html","../../../projects/v-factory/src/lib/components/v-checkbox-field/v-checkbox-field.component.ts","../../../projects/v-factory/src/lib/components/v-checkbox-field/v-checkbox-field.component.html","../../../projects/v-factory/src/lib/components/v-chips-field/v-chips-field.component.ts","../../../projects/v-factory/src/lib/components/v-chips-field/v-chips-field.component.html","../../../projects/v-factory/src/lib/components/v-chips/v-chips.component.ts","../../../projects/v-factory/src/lib/components/v-chips/v-chips.component.html","../../../projects/v-factory/src/lib/components/v-color-field/v-color-field.component.ts","../../../projects/v-factory/src/lib/components/v-color-field/v-color-field.component.html","../../../projects/v-factory/src/lib/components/v-datepicker-field/v-datepicker-field.component.ts","../../../projects/v-factory/src/lib/components/v-datepicker-field/v-datepicker-field.component.html","../../../projects/v-factory/src/lib/components/v-divider/v-divider.component.ts","../../../projects/v-factory/src/lib/components/v-divider/v-divider.component.html","../../../projects/v-factory/src/lib/components/v-drag-drop-list/v-drag-drop-list.component.ts","../../../projects/v-factory/src/lib/components/v-drag-drop-list/v-drag-drop-list.component.html","../../../projects/v-factory/src/lib/components/v-editor-field/v-editor.service.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-btn/toolbar-btn.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-btn/toolbar-btn.component.html","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-select/toolbar-select.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-select/toolbar-select.component.html","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-color/toolbar-color.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-color/toolbar-color.component.html","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar.component.html","../../../projects/v-factory/src/lib/directives/contenteditable/contenteditable.directive.ts","../../../projects/v-factory/src/lib/components/v-editor-field/v-editor-field.component.ts","../../../projects/v-factory/src/lib/components/v-editor-field/v-editor-field.component.html","../../../projects/v-factory/src/lib/components/v-file-field/v-file-field.component.ts","../../../projects/v-factory/src/lib/components/v-file-field/v-file-field.component.html","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/interfaces/move-start.interface.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/interfaces/cropper.settings.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/utils/keyboard.utils.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/utils/resize.utils.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/services/crop.service.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/services/cropper-position.service.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/utils/exif.utils.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/services/load-image.service.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/component/image-cropper.component.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/component/image-cropper.component.html","../../../projects/v-factory/src/lib/components/v-image-field/v-image-field.component.ts","../../../projects/v-factory/src/lib/components/v-image-field/v-image-field.component.html","../../../projects/v-factory/src/lib/components/v-image/v-image.component.ts","../../../projects/v-factory/src/lib/components/v-image/v-image.component.html","../../../projects/v-factory/src/lib/directives/trim/trim.directive.ts","../../../projects/v-factory/src/lib/components/v-input-field/v-input-field.component.ts","../../../projects/v-factory/src/lib/components/v-input-field/v-input-field.component.html","../../../projects/v-factory/src/lib/components/v-label/v-label.component.ts","../../../projects/v-factory/src/lib/components/v-label/v-label.component.html","../../../projects/v-factory/src/lib/components/v-list/v-list.component.ts","../../../projects/v-factory/src/lib/components/v-list/v-list.component.html","../../../projects/v-factory/src/lib/directives/mask/mask.directive.ts","../../../projects/v-factory/src/lib/components/v-masked-field/v-masked-field.component.ts","../../../projects/v-factory/src/lib/components/v-masked-field/v-masked-field.component.html","../../../projects/v-factory/src/lib/components/v-number-field/v-number-field.component.ts","../../../projects/v-factory/src/lib/components/v-number-field/v-number-field.component.html","../../../projects/v-factory/src/lib/components/v-radio-field/v-radio-field.component.ts","../../../projects/v-factory/src/lib/components/v-radio-field/v-radio-field.component.html","../../../projects/v-factory/src/lib/components/v-select-field/v-select-field.component.ts","../../../projects/v-factory/src/lib/components/v-select-field/v-select-field.component.html","../../../projects/v-factory/src/lib/components/v-slide-toggle-field/v-slide-toggle-field.component.ts","../../../projects/v-factory/src/lib/components/v-slide-toggle-field/v-slide-toggle-field.component.html","../../../projects/v-factory/src/lib/components/v-slider-field/v-slider-field.component.ts","../../../projects/v-factory/src/lib/components/v-slider-field/v-slider-field.component.html","../../../projects/v-factory/src/lib/components/v-text-field/v-text-field.component.ts","../../../projects/v-factory/src/lib/components/v-text-field/v-text-field.component.html","../../../projects/v-factory/src/lib/directives/v-field/v-field.directive.ts","../../../projects/v-factory/src/lib/v-factory.component.ts","../../../projects/v-factory/src/lib/v-factory.component.html","../../../projects/v-factory/src/lib/directives/v-field/v-field.module.ts","../../../projects/v-factory/src/lib/components/v-box/v-box.module.ts","../../../projects/v-factory/src/lib/components/v-button/v-button.module.ts","../../../projects/v-factory/src/lib/directives/trim/trim.module.ts","../../../projects/v-factory/src/lib/components/v-input-field/v-input-field.module.ts","../../../projects/v-factory/src/lib/components/v-select-field/v-select-field.module.ts","../../../projects/v-factory/src/lib/components/v-text-field/v-text-field.module.ts","../../../projects/v-factory/src/lib/components/v-autocomplete-field/v-autocomplete-field.module.ts","../../../projects/v-factory/src/lib/components/v-checkbox-field/v-checkbox-field.module.ts","../../../projects/v-factory/src/lib/components/v-datepicker-field/v-datepicker-field.module.ts","../../../projects/v-factory/src/lib/components/v-image/v-image.module.ts","../../../projects/v-factory/src/lib/directives/mask/mask.module.ts","../../../projects/v-factory/src/lib/components/v-masked-field/v-masked-field.module.ts","../../../projects/v-factory/src/lib/components/v-number-field/v-number-field.module.ts","../../../projects/v-factory/src/lib/components/v-radio-field/v-radio-field.module.ts","../../../projects/v-factory/src/lib/components/v-slide-toggle-field/v-slide-toggle-field.module.ts","../../../projects/v-factory/src/lib/components/v-slider-field/v-slider-field.module.ts","../../../projects/v-factory/src/lib/components/v-accordion/v-accordion.module.ts","../../../projects/v-factory/src/lib/components/v-label/v-label.module.ts","../../../projects/v-factory/src/lib/components/v-chips/v-chips.module.ts","../../../projects/v-factory/src/lib/components/v-drag-drop-list/v-drag-drop-list.module.ts","../../../projects/v-factory/src/lib/components/v-color-field/v-color-field.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-btn/toolbar-btn.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-select/toolbar-select.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar-color/toolbar-color.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/toolbar/toolbar.module.ts","../../../projects/v-factory/src/lib/directives/contenteditable/contenteditable.module.ts","../../../projects/v-factory/src/lib/components/v-editor-field/v-editor-field.module.ts","../../../projects/v-factory/src/lib/components/v-file-field/v-file-field.module.ts","../../../projects/v-factory/src/lib/components/v-divider/v-divider.module.ts","../../../projects/v-factory/src/lib/components/v-list/v-list.module.ts","../../../projects/v-factory/src/lib/components/v-image-field/image-cropper/image-cropper.module.ts","../../../projects/v-factory/src/lib/components/v-image-field/v-image-field.module.ts","../../../projects/v-factory/src/lib/components/v-chips-field/v-chips-field.module.ts","../../../projects/v-factory/src/lib/components/v-component.module.ts","../../../projects/v-factory/src/lib/v-factory.module.ts","../../../projects/v-factory/src/public-api.ts","../../../projects/v-factory/src/farawayslv-v-factory.ts"],"sourcesContent":["import { Style, FactoryValidator } from '../interfaces';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nexport class VItem {\r\n    protected _vtype: string;\r\n\r\n    itemId?: string | number | Symbol;\r\n    styles?: Style;\r\n    cls?:string;\r\n    validators?: FactoryValidator[];\r\n    label?: string;\r\n    hidden?: boolean;\r\n\r\n    constructor(opts: {\r\n        itemId?: string | number | Symbol,\r\n        styles?: Style,\r\n        cls?:string,\r\n        validators?: FactoryValidator[],\r\n        label?: string,\r\n        hidden?: boolean,\r\n    }) {\r\n        this._vtype = 'vitem';\r\n        this.itemId = opts['itemId'] || null;\r\n        this.styles = opts['styles'] || null;\r\n        this.validators = opts['validators'] || [];\r\n        this.label = opts['label'] || null;\r\n        if(opts['cls']) {\r\n            this.cls = opts['cls'] ? this.cls ? `${this.cls} ${opts['cls']}` : opts['cls'] : '';\r\n        }\r\n\r\n        if(opts['hidden']) {\r\n            this.cls += ' hidden';\r\n        }\r\n    }\r\n\r\n    getName(): string {\r\n        return this._vtype;\r\n    }\r\n\r\n    getConfig(key: string): any {\r\n        return this[key];\r\n    }\r\n\r\n    setConfig(key: string, value: any): void {\r\n        this[key] = value;\r\n    }\r\n\r\n    createControl(group: FormGroup): void {}\r\n\r\n    removeControl(group: FormGroup): void {}\r\n}\r\n","import { FormControl } from '@angular/forms';\r\n\r\nexport const validateFileExt = (control: FormControl, extentions: string[]) => {\r\n  if(control.value) {\r\n    const ext = control.value?.name?.split('.').pop();\r\n    return extentions.indexOf(ext) === -1 ? { fileExt: true } : null;\r\n  }\r\n  return null;\r\n}\r\n","import { FormControl } from '@angular/forms';\r\n\r\nexport const validateFileSize = (control: FormControl, size: number) => {\r\n  if(control.value) {\r\n    return control.value.size > size ? { fileSize: true } : null;\r\n  }\r\n  return null;\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style, FactoryValidator, ValidatorMessage } from '../interfaces';\r\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\r\nimport { validateFileExt } from \"../utils/file-ext.validator\";\r\nimport { validateFileSize } from \"../utils/file-size.validator\";\r\n\r\nexport class VField<T> extends VItem {\r\n\r\n    private validatorMessages: ValidatorMessage[] = [];\r\n\r\n    name: string;\r\n    label?: string;\r\n    value?: T;\r\n    disabled?: boolean;\r\n    readonly?: boolean;\r\n    clearButton?: boolean;\r\n    actionButton?: boolean;\r\n    actionHandler?: Function;\r\n    validators?: FactoryValidator[];\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        value?: T,\r\n        disabled?: boolean,\r\n        readonly?: boolean,\r\n        clearButton?: boolean,\r\n        actionHandler?: Function,\r\n        actionButton?: boolean,\r\n        validators?: FactoryValidator[],\r\n        styles?: Style,\r\n        cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vfield';\r\n        this.name = opts['name'] || '';\r\n        this.label = opts['label'] || null;\r\n        this.value = opts['value'] || null;\r\n        this.disabled = opts['disabled'] || false;\r\n        this.readonly = opts['readonly'] || false;\r\n        this.clearButton = opts['clearButton'] || false;\r\n        this.actionButton = opts['actionButton'] || false;\r\n        this.validators = opts['validators'] || [];\r\n        this.actionHandler = opts['actionHandler'] || function(){};\r\n    }\r\n\r\n    createControl(group: FormGroup): void {\r\n        if(!group.get(this.name)) {\r\n            const control = new FormControl(\r\n                this.value,\r\n                this._bindValidations()\r\n              );\r\n            if(this.disabled) {\r\n              control.disable();\r\n            }\r\n            group.addControl(this.name, control);\r\n        }\r\n    }\r\n\r\n    private _bindValidations(): Validators | null {\r\n        if (this.validators.length > 0) {\r\n            const validations = [];\r\n            this.validators.map(item => {\r\n                const validatorCfg = this._getValidatorConfig(item);\r\n                const { name, validator, message } = validatorCfg;\r\n                validations.push(validator);\r\n                this.validatorMessages.push({ name, message });\r\n            })\r\n\r\n            return Validators.compose(validations);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private _getValidatorConfig(item: FactoryValidator): { name: string, validator: any, message: string } {\r\n        const vMap = new Map(Object.entries(item));\r\n        const result = { name: null, validator: null, message: '' };\r\n\r\n        vMap.forEach((v: any, k: string) => {\r\n            switch (k) {\r\n                case 'message':\r\n                    result.message = v;\r\n                    break;\r\n                case 'validator':\r\n                    result.validator = v;\r\n                    break;\r\n                default:\r\n                    result.name = k;\r\n                    if(!result.validator) {\r\n                        result.validator = this._getValidatorByName(k,v);\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n\r\n    getValMessage() {\r\n        return this.validatorMessages;\r\n    }\r\n\r\n    removeControl(group: FormGroup): void {\r\n        group.removeControl(this.name);\r\n    }\r\n\r\n    private _getValidatorByName(name: string, value?: number | string | string[]): any {\r\n        switch (name) {\r\n            case 'required':\r\n                return Validators.required;\r\n            case 'email':\r\n                return Validators.email;\r\n            case 'minlength':\r\n                return Validators.minLength(value? +value : 3)\r\n            case 'maxlength':\r\n                return Validators.maxLength(value? +value : 100)\r\n            case 'min':\r\n                return Validators.min(value? +value : 1)\r\n            case 'max':\r\n                return Validators.max(value? +value : 100)\r\n            case 'pattern':\r\n                return Validators.pattern(value? new RegExp(`${value}`) : '');\r\n            case 'fileExt':\r\n                return (control: FormControl) => validateFileExt(control, value as string[]);\r\n            case 'fileSize':\r\n                return (control: FormControl) => validateFileSize(control, +value);\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\nimport { FormGroup, FormArray, ValidatorFn, AbstractControlOptions } from '@angular/forms';\r\n\r\nexport class VBox extends VItem {\r\n    name?: string;\r\n    items: VItem[];\r\n    formMode?: 'array' | 'group';\r\n    layout?: 'row' | 'column' | '';\r\n    groupValidators?: ValidatorFn | AbstractControlOptions | ValidatorFn[];\r\n\r\n  constructor(opts: {\r\n      items: any[],\r\n      name?: string,\r\n      label?: string;\r\n      layout?: 'row' | 'column',\r\n      formMode?: 'array' | 'group',\r\n      itemId?: string | number | Symbol,\r\n      styles?: Style,\r\n      cls?:string,\r\n      hidden?: boolean,\r\n      groupValidators?: ValidatorFn | AbstractControlOptions | ValidatorFn[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vbox';\r\n        this.items = opts['items'] || [];\r\n        this.layout = opts['layout'] || '';\r\n        this.formMode = opts['formMode'] || 'array';\r\n        this.name = opts['name'] || null;\r\n        this.groupValidators = opts['groupValidators'] || null;\r\n        if(this.layout !== '') {\r\n            this.cls = this.cls ? `${this.cls} ${this.layout}` : this.layout;\r\n        }\r\n    }\r\n\r\n    createControl(group: FormGroup): void {\r\n        if(this.name) {\r\n            const control = group.get(this.name);\r\n            if(control) {\r\n                group.removeControl(this.name);\r\n            }\r\n            \r\n            if(this.formMode === 'group') {\r\n              const fg = new FormGroup({});\r\n              group.addControl(this.name, fg);\r\n              this.items.forEach(item => {\r\n                  item.createControl(fg);\r\n              });\r\n            } else {\r\n              const fa = new FormArray([], this.groupValidators);\r\n              group.addControl(this.name, fa);\r\n              this.items.forEach(item => {\r\n                  const fg = new FormGroup({});\r\n                  fa.push(fg);\r\n                  item.createControl(fg);\r\n              });\r\n            }\r\n        } else {\r\n            this.items.forEach(item => item.createControl(group));\r\n        }\r\n    }\r\n\r\n    removeItems(group: FormGroup): void {\r\n        this.items.forEach(item => item.removeControl(group));\r\n        this.items = [];\r\n    }\r\n\r\n    findByKey(key: string, value: string, items = this.items): VItem {\r\n        let result;\r\n        for (let i = 0; i < items.length; i++) {\r\n            if(items[i].getConfig(key) === value) {\r\n                result = items[i];\r\n                break;\r\n            } else if (items[i]['items']) {\r\n                this.findByKey(key, value, items[i]['items']);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\nimport { ThemePalette } from '@angular/material/core';\r\n\r\nexport class VButton extends VItem {\r\n    text?: string;\r\n    icon?: string;\r\n    handler?: Function;\r\n    type?: 'button' | 'submit' | 'reset';\r\n    styleType?: 'raised' | 'stroked' | 'flat' | 'icon' | 'fab' | 'mini-fab';\r\n    color?: ThemePalette;\r\n    disabled?: boolean;    \r\n\r\n  constructor(opts: {\r\n      text?: string,\r\n      icon?: string,\r\n      itemId?: string,\r\n      handler?: Function,\r\n      type?: 'button' | 'submit' | 'reset',\r\n      disabled?: boolean,\r\n      styleType?: 'raised' | 'stroked' | 'flat' | 'icon' | 'fab' | 'mini-fab',\r\n      color?: ThemePalette,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vbutton'; \r\n        this.text = opts['text'] || '';\r\n        this.icon = opts['icon'] || null;\r\n        this.handler = opts['handler'] || function(){};\r\n        this.type = opts['type'] || 'button';\r\n        this.styleType = opts['styleType'] || 'raised';\r\n        this.color = opts['color'] || 'accent';\r\n        this.disabled = opts['disabled'] || false;\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VInputField extends VField<string> {\r\n    type?: string;\r\n    prefix?: string;\r\n    suffix?: string;\r\n    hint?: string;\r\n    unique?: boolean;\r\n    readonly?: boolean;\r\n    placeholder?: string;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        type?: string,\r\n        label?: string,\r\n        value?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        unique?: boolean,\r\n        readonly?: boolean,\r\n        placeholder?: string,\r\n        prefix?: string,\r\n        suffix?: string,\r\n        hint?: string,\r\n        clearButton?: boolean,\r\n        actionButton?: boolean,\r\n        actionHandler?: Function,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vinputfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.unique = opts['unique'] || false;\r\n        this.readonly = opts['readonly'] || false;\r\n        this.placeholder = opts['placeholder'] || '';\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Option, FactoryValidator, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport class VSelectField extends VField<string | number> {\r\n    options: Option[] | Observable<Option[]>;\r\n    multiple?: boolean;\r\n    icons?: boolean;\r\n    hint?: string;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        options: Option[] | Observable<Option[]>,\r\n        label?: string,\r\n        value?: string | number,\r\n        multiple?: boolean,\r\n        disabled?: boolean,\r\n        hint?: string,\r\n        validators?: FactoryValidator[],\r\n        icons?: boolean,\r\n        styles?: Style,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vselectfield';\r\n        this.options = opts['options'] || [];\r\n        this.multiple = opts['multiple'] || false;\r\n        this.icons = opts['icons'] || false;\r\n        this.hint = opts['hint'] || null;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VTextField extends VField<string> {\r\n    rows?: number;\r\n    maxRows?: number;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        rows?: number,\r\n        maxRows?: number,\r\n        label?: string,\r\n        value?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        placeholder?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vtextfield';\r\n        this.rows = opts['rows'] ? opts['rows'] : 5;\r\n        this.maxRows = opts['maxRows'] && opts['maxRows'] > this.rows  ? opts['maxRows'] : this.rows;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Option, FactoryValidator, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport class VAutocompleteField extends VField<string | number> {\r\n    options: Option[] | Observable<Option[]>;\r\n    placeholder?: string;\r\n    filter?: Function;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        options: Option[] | Observable<Option[]>,\r\n        label?: string,\r\n        value?: string | number,\r\n        placeholder?: string,\r\n        validators?: FactoryValidator[],\r\n        filter?: Function,\r\n        styles?: Style,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vautocompletefield';\r\n        this.options = opts['options'] || [];\r\n        this.placeholder = opts['placeholder'] || '';\r\n        this.filter = opts['filter'] || ((x:any) => true);\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style } from '../interfaces';\r\n\r\nexport class VCheckboxField extends VField<boolean> {\r\n    labelPosition?: 'before' | 'after';\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        value?: true | false,\r\n        disabled?: boolean,      \r\n        styles?: Style,\r\n        cls?: string,\r\n        labelPosition?: 'before' | 'after'\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vcheckboxfield';\r\n        this.labelPosition = opts['labelPosition'] || 'after';\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\nimport { ThemePalette } from '@angular/material/core';\r\n\r\nexport class VDatepickerField extends VField<Date> {\r\n    color?: ThemePalette;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        value?: Date,\r\n        disabled?: boolean,\r\n        hidden?: boolean,\r\n        color?: ThemePalette,       \r\n        styles?: Style,\r\n        cls?: string,\r\n        placeholder?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vdatepickerfield';\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VMaskedField extends VField<string> {\r\n    mask: string;\r\n    type?: 'text';\r\n    prefix?: string;\r\n    suffix?: string;\r\n    hint?: string;\r\n    unique?: boolean;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        mask: string,\r\n        type?: 'text',\r\n        label?: string,\r\n        value?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        unique?: boolean,        \r\n        prefix?: string,\r\n        suffix?: string,\r\n        hint?: string,\r\n        clearButton?: boolean,\r\n        validators?: FactoryValidator[],\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vmaskedfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.unique = opts['unique'] || false;\r\n        this.mask = opts['mask'] || null;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VNumberField extends VField<number> {\r\n    type: 'number';\r\n    prefix?: string;\r\n    suffix?: string;\r\n    hint?: string;\r\n    min?: number;\r\n    max?: number;\r\n    step?: number;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        value?: number,\r\n        disabled?: boolean,\r\n        readonly?: boolean,\r\n        hidden?: boolean,\r\n        min?: number,\r\n        max?: number,\r\n        step?: number,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        validators?: FactoryValidator[],\r\n        prefix?: string,\r\n        suffix?: string,\r\n        hint?: string,\r\n        clearButton?: boolean\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vnumberfield';\r\n        this.type = 'number';\r\n        this.min = opts['min'] || 0;\r\n        this.max = opts['max'] || 99999;\r\n        this.step = opts['step'] || 1;\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n    }\r\n}\r\n","import { Option } from '../interfaces'\r\nimport { VField } from \"./v-field.model\";\r\n\r\nexport class VRadioField extends VField<string | number> {\r\n    options: Option[];\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        options: Option[],\r\n        value?: string | number,\r\n        label?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vradiofield';\r\n        this.options = opts['options'] || [];\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { ThemePalette } from '@angular/material/core';\r\n\r\nexport class VSlideToggleField extends VField<number> {\r\n    color?: ThemePalette;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        disabled?: boolean,\r\n        color?: ThemePalette\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vslidetogglefield';\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\r\n","import { Style } from \"../interfaces\";\r\nimport { VField } from \"./v-field.model\";\r\n\r\nexport class VSliderField extends VField<number> {\r\n    showTicks?: boolean;\r\n    autoTicks?: boolean;\r\n    tickInterval?: number | 'auto';\r\n    invert?: boolean;\r\n    min?: number;\r\n    max?: number;\r\n    step?: number;\r\n    thumbLabel?: boolean;\r\n    vertical?: boolean;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        disabled?: boolean,\r\n        label?: string,\r\n        value?: number,\r\n        showTicks?: boolean,\r\n        autoTicks?: boolean,\r\n        tickInterval?: number | 'auto',\r\n        invert?: boolean,\r\n        min?: number,\r\n        max?: number,\r\n        step?: number,\r\n        thumbLabel?: boolean,\r\n        vertical?: boolean,\r\n        styles?: Style,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vsliderfield';\r\n        this.showTicks = opts['showTicks'] || false;\r\n        this.autoTicks = opts['autoTicks'] || false;\r\n        this.tickInterval = opts['tickInterval'] || 'auto';\r\n        this.invert = opts['invert'] || false;\r\n        this.min = opts['min'] || 0;\r\n        this.max = opts['max'] || 100;\r\n        this.step = opts['step'] || 1;\r\n        this.thumbLabel = opts['thumbLabel'] || false;\r\n        this.vertical = opts['vertical'] || false;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\n\r\nexport class VImage extends VItem {\r\n  url?: string;\r\n  sourceField?: string;\r\n\r\n  constructor(opts: {\r\n      sourceField?: string,\r\n      url?: string,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vimage';\r\n        this.url = opts['url'] || '';\r\n        this.sourceField = opts['sourceField'] || '';\r\n    }\r\n}","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\nimport { FormGroup, FormArray } from '@angular/forms';\r\n\r\nexport class VAccordion extends VItem {\r\n    name: string;\r\n    items: VItem[];\r\n    initStep?: number;\r\n    getItemTitle?: Function;\r\n    nextHandler?: Function;\r\n    prevHandler?: Function;\r\n    removeHandler?: Function;\r\n    isDefaultHandler = false;\r\n\r\n  private _step = 0;\r\n\r\n  constructor(opts: {\r\n      items: any[],\r\n      name: string,\r\n      label?: string;\r\n      initStep?: number,\r\n      itemId?: string | number | Symbol,\r\n      getItemTitle?: Function,\r\n      nextHandler?: Function,\r\n      prevHandler?: Function,\r\n      removeHandler?: Function,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vaccordion';\r\n        this.name = opts['name'];\r\n        this.items = opts['items'] || [];\r\n\r\n        if(opts['initStep']) {\r\n            this.setStep(+opts['initStep']);\r\n        }\r\n\r\n        if(opts['getItemTitle']) {\r\n          this.getItemTitle = opts['getItemTitle']\r\n      } else {\r\n          this.getItemTitle = (idx: number) => `Step ${idx+1}`;\r\n      }\r\n\r\n        if(opts['nextHandler']) {\r\n            this.nextHandler = opts['nextHandler']\r\n        } else {\r\n            this.isDefaultHandler = true;\r\n            this.nextHandler = () => { this.nextStep(); }\r\n        }\r\n\r\n        if(opts['prevHandler']) {\r\n            this.prevHandler = opts['prevHandler']\r\n        } else {\r\n            this.isDefaultHandler = true;\r\n            this.prevHandler = () => { this.prevStep(); }\r\n        }\r\n\r\n        this.removeHandler = opts['removeHandler'] || null;\r\n    }\r\n\r\n    createControl(group: FormGroup): void {\r\n        const fa = new FormArray([]);\r\n        group.addControl(this.name, fa);\r\n        this.items.forEach(item => {\r\n            const fg = new FormGroup({});\r\n            fa.push(fg);\r\n            item.createControl(fg);\r\n        });\r\n    }\r\n\r\n    removeItems(group: FormGroup): void {\r\n        this.items.forEach(item => item.removeControl(group));\r\n        this.items = [];\r\n    }\r\n\r\n    findByKey(key: string, value: string, items = this.items): VItem {\r\n        let result;\r\n        for (let i = 0; i < items.length; i++) {\r\n            if(items[i].getConfig(key) === value) {\r\n                result = items[i];\r\n                break;\r\n            } else if (items[i]['items']) {\r\n                this.findByKey(key, value, items[i]['items']);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    getStep():number {\r\n        return this._step;\r\n    }\r\n\r\n    setStep(step: number): void {\r\n        this._step = step;\r\n    }\r\n\r\n    nextStep(): void {\r\n        this._step++;\r\n    }\r\n\r\n    prevStep(): void {\r\n        this._step--;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\nimport { ThemePalette } from '@angular/material/core';\r\n\r\nexport class VLabel extends VItem {\r\n    text?: string;\r\n    icon?: string;\r\n    color?: ThemePalette;\r\n\r\n  constructor(opts: {\r\n      text?: string,\r\n      icon?: string,\r\n      itemId?: string,\r\n      hidden?: boolean,\r\n      color?: ThemePalette,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vlabel';\r\n        this.text = opts['text'] || '';\r\n        this.icon = opts['icon'] || null;\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}\r\n","import { Option, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\nimport { VItem } from \".\";\r\n\r\nexport class VChips extends VItem {\r\n    options: Option[] | Observable<Option[]>;\r\n    color?: string;\r\n\r\n    constructor(opts: {\r\n        options: Option[] | Observable<Option[]>,\r\n        label?: string,\r\n        styles?: Style,\r\n        color?: string,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vchips';\r\n        this.options = opts['options'] || [];\r\n        this.color = opts['color'] || 'accent';\r\n    }\r\n}","import { VItem } from \"./v-item.model\";\r\nimport { Option, Style } from '../interfaces';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\n\r\nexport class VDragDropList extends VItem {\r\n  name: string;\r\n  options: Option[];\r\n  hidden?: boolean;\r\n  handler?: Function;\r\n  removeHandler?: Function;\r\n  showPreview?: boolean;\r\n  showAvatar?: boolean;\r\n  removable?: boolean;\r\n\r\n  constructor(opts: {\r\n      name: string,\r\n      options: any[],\r\n      label?: string,\r\n      hidden?: boolean,\r\n      showPreview?: boolean,\r\n      showAvatar?: boolean,\r\n      removable?: boolean,\r\n      handler?: Function,\r\n      removeHandler?: Function,\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vdragdroplist';\r\n        this.options = opts['options'] || [];\r\n        this.name = opts['name'] || '';\r\n        this.hidden = opts['hidden'] || false;\r\n        this.showPreview = opts['showPreview'] || false;\r\n        this.showAvatar = opts['showAvatar'] || false;\r\n        this.removable = opts['removable'] || false;\r\n        this.handler = opts['handler'] || function(){};\r\n        this.removeHandler = opts['removeHandler'] || function(){};\r\n    }\r\n\r\n    createControl(group: FormGroup) {\r\n        group.addControl(this.name, new FormControl(null));\r\n    }\r\n}","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VColorField extends VField<string> {\r\n    type?: string;\r\n    prefix?: string;\r\n    suffix?: string;\r\n    hint?: string;\r\n    readonly?: boolean;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        type?: string,\r\n        label?: string,\r\n        value?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,        \r\n        styles?: Style,\r\n        cls?: string,\r\n        readonly?: boolean,\r\n        prefix?: string,\r\n        suffix?: string,\r\n        hint?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vcolorfield';\r\n        this.type = opts['type'] || 'text';\r\n        this.prefix = opts['prefix'] || null;\r\n        this.suffix = opts['suffix'] || null;\r\n        this.hint = opts['hint'] || null;\r\n        this.readonly = opts['readonly'] || false;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { FactoryValidator } from '../interfaces';\r\n\r\nexport class VEditorField extends VField<string> {\r\n    placeholder?: string;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        value?: string,\r\n        label?: string,\r\n        placeholder?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'veditorfield';\r\n        this.placeholder = opts['placeholder'] ? opts['placeholder'] : 'Введите здесь текст ...'\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Style, FactoryValidator } from '../interfaces';\r\n\r\nexport class VFileField extends VField<any> {\r\n    constructor(opts: {\r\n        name: string,\r\n        label?: string,\r\n        disabled?: boolean,\r\n        hidden?: boolean,\r\n        styles?: Style,\r\n        cls?: string,\r\n        validators?: FactoryValidator[]\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vfilefield';\r\n        this.readonly = opts['readonly'] || false;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\nimport { Style } from '../interfaces';\r\n\r\nexport class VDivider extends VItem {\r\n\r\n  constructor(opts: {\r\n      styles?: Style,\r\n      cls?:string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vdivider';\r\n    }\r\n}\r\n","import { Option, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\nimport { VItem } from \"./v-item.model\";\r\n\r\nexport class VList extends VItem {\r\n    options: Option[] | Observable<Option[]>;\r\n    multiple?: boolean;\r\n    editHandler?: Function;\r\n    deleteHandler?: Function;\r\n\r\n    constructor(opts: {\r\n        options: Option[] | Observable<Option[]>,\r\n        label?: string,\r\n        value?: string | number,\r\n        multiple?: boolean,\r\n        editHandler?: Function,\r\n        deleteHandler?: Function,\r\n        styles?: Style,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vlist';\r\n        this.options = opts['options'] || [];\r\n        this.multiple = opts['multiple'] || false;\r\n        this.editHandler = opts['editHandler'] || null;\r\n        this.deleteHandler = opts['deleteHandler'] || null;\r\n    }\r\n}\r\n","import { VItem } from \"./v-item.model\";\r\n\r\nexport class VContent extends VItem {\r\n  constructor(opts: {}) {\r\n        super({});\r\n        this._vtype = 'vcontent';\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\n\r\nexport class VImageField extends VField<string> {\r\n    imageAspectRatio?: number;\r\n    resizeToWidth?: number;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        imageAspectRatio?: number,\r\n        resizeToWidth?: number,\r\n        value?: string,\r\n        label?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vimagefield';\r\n        this.imageAspectRatio = opts['imageAspectRatio'] ? opts['imageAspectRatio'] : 4/3;\r\n        this.resizeToWidth = opts['resizeToWidth'] ? opts['resizeToWidth'] : 256;\r\n    }\r\n}\r\n","import { VField } from \"./v-field.model\";\r\nimport { Option, Style } from '../interfaces';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport class VChipsField extends VField<Option[]> {\r\n    options: Option[] | Observable<Option[]>;\r\n    placeholder?: string;\r\n    color?: string;\r\n    removable?: boolean;\r\n    selectable?: boolean;\r\n\r\n    constructor(opts: {\r\n        name: string,\r\n        placeholder?: string,\r\n        options: Option[] | Observable<Option[]>,\r\n        value?: Option[],\r\n        label?: string,\r\n        styles?: Style,\r\n        color?: string,\r\n        removable?: boolean,\r\n        selectable?: boolean,\r\n        cls?: string\r\n    }) {\r\n        super(opts);\r\n        this._vtype = 'vchipsfield';\r\n        this.options = opts['options'] || [];\r\n        this.value = opts['value'] || [];\r\n        this.placeholder = opts['placeholder'] || '';\r\n        this.color = opts['color'] || 'accent';\r\n        this.removable = opts['removable'] || false;\r\n        this.selectable = opts['selectable'] || false;\r\n        this.name = opts['name'] || '';\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport {\r\n    VAccordion,\r\n    VAutocompleteField,\r\n    VBox,\r\n    VButton,\r\n    VCheckboxField,\r\n    VChips,\r\n    VChipsField,\r\n    VColorField,\r\n    VContent,\r\n    VDatepickerField,\r\n    VDivider,\r\n    VDragDropList,\r\n    VEditorField,\r\n    VFileField,\r\n    VImage,\r\n    VImageField,\r\n    VInputField,\r\n    VItem,\r\n    VLabel,\r\n    VList,\r\n    VMaskedField,\r\n    VNumberField,\r\n    VRadioField,\r\n    VSelectField,\r\n    VSliderField,\r\n    VSlideToggleField,\r\n    VTextField\r\n} from '../models';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VFactoryService {\r\n\r\n  private _configSubject = new BehaviorSubject<VItem[]>([]);\r\n  configEvent = this._configSubject.asObservable();\r\n\r\n  constructor() {}\r\n\r\n  fromJSON(jsonCfg: any[] = []): VItem[] {\r\n    return jsonCfg.map(item => {\r\n        return this._createVItem(item);\r\n    });\r\n  }\r\n\r\n  private _createVItem(item: any): VItem {\r\n    switch (item.vtype) {\r\n        case 'vinputfield':\r\n            return new VInputField({...item});\r\n        case 'vbox':\r\n            item.items = item.items.map(child => {\r\n                return this._createVItem(child);\r\n            });\r\n            return new VBox({...item});\r\n        case 'vbutton':\r\n            return new VButton({...item});\r\n        case 'vselectfield':\r\n            return new VSelectField({...item});\r\n        case 'vtextfield':\r\n            return new VTextField({...item});\r\n        case 'vautocompletefield':\r\n            return new VAutocompleteField({...item});\r\n        case 'vcheckboxfield':\r\n            return new VCheckboxField({...item});\r\n        case 'vdatepickerfield':\r\n            return new VDatepickerField({...item});\r\n        case 'vimage':\r\n            return new VImage({...item});\r\n        case 'vmaskedfield':\r\n            return new VMaskedField({...item});\r\n        case 'vnumberfield':\r\n            return new VNumberField({...item});\r\n        case 'vradiofield':\r\n            return new VRadioField({...item});\r\n        case 'vslidetogglefield':\r\n            return new VSlideToggleField({...item});\r\n        case 'vsliderfield':\r\n            return new VSliderField({...item});\r\n        case 'vaccordion':\r\n            item.items = item.items.map(child => {\r\n                return this._createVItem(child);\r\n            });\r\n            return new VAccordion({...item});\r\n        case 'vlabel':\r\n            return new VLabel({...item});\r\n        case 'vchipsfield':\r\n            return new VChipsField({...item});\r\n        case 'vchips':\r\n            return new VChips({...item});\r\n        case 'vdragdroplist':\r\n            return new VDragDropList({...item});\r\n        case 'vcolorfield':\r\n            return new VColorField({...item});\r\n        case 'vfilefield':\r\n          return new VFileField({...item});\r\n        case 'veditorfield':\r\n          return new VEditorField({...item});\r\n        case 'vlist':\r\n          return new VList({...item});\r\n        case 'vcontent':\r\n            return new VContent({...item});\r\n        case 'vimagefield':\r\n            return new VImageField({...item});\r\n        case 'vdivider':\r\n            return new VDivider({...item});\r\n        default:\r\n            return null;\r\n    }\r\n  }\r\n\r\n  updateConfig(formCfg: VItem[], form: FormGroup): void {\r\n      this._configSubject.next(formCfg);\r\n      this._createControls(form);\r\n  }\r\n\r\n  private _createControls(group: FormGroup) {\r\n    this._configSubject.value.forEach(item => {\r\n      item.createControl(group);      \r\n    });\r\n  }\r\n\r\n  clearConfig(): void {\r\n    this._configSubject.next([]);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormArray, FormGroup } from '@angular/forms';\r\nimport { VAccordion } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-accordion',\r\n  templateUrl: './v-accordion.component.html',\r\n  styleUrls: ['./v-accordion.component.scss']\r\n})\r\nexport class VAccordionComponent implements OnInit {\r\n\r\n  @Input() field: VAccordion;\r\n  @Input() group: FormGroup;\r\n\r\n  get formArray() {\r\n    return this.group.get(this.field.name) as FormArray;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n}\r\n","<mat-accordion [formGroup]=\"group\">\r\n    <ng-container [formArrayName]=\"field.name\">\r\n        <ng-container *ngFor=\"let item of field.items; let i = index;\" [formGroupName]=\"i\">\r\n            <mat-expansion-panel [expanded]=\"field.getStep() === i\" (opened)=\"field.setStep(i)\" hideToggle>\r\n                <mat-expansion-panel-header>\r\n                    <mat-panel-title>\r\n                       <b> {{field.getItemTitle(i)}} </b>\r\n                    </mat-panel-title>\r\n                    <mat-panel-description>\r\n                    <!--  some title infos -->\r\n                    </mat-panel-description>\r\n                </mat-expansion-panel-header>\r\n\r\n                    <ng-container\r\n                        appVField\r\n                        [field]=\"item\"\r\n                        [group]=\"formArray.controls[i]\"\r\n                        >\r\n                    </ng-container>\r\n\r\n                <mat-action-row>\r\n                    <span *ngIf=\"i === 0\"></span>\r\n                    <button type=\"button\" *ngIf=\"i !== 0\" mat-stroked-button color=\"accent\" (click)=\"field.prevHandler(i)\">\r\n                        <mat-icon>arrow_back_ios</mat-icon>                        \r\n                    </button>\r\n                    <button *ngIf=\"field.removeHandler\" type=\"button\" mat-stroked-button color=\"warn\" (click)=\"field.removeHandler(i)\">\r\n                        <mat-icon>clear</mat-icon>                        \r\n                    </button>\r\n                    <button type=\"button\" *ngIf=\"i !== field.items.length - 1\" mat-stroked-button color=\"accent\" (click)=\"field.nextHandler(i)\">                        \r\n                        <mat-icon>arrow_forward_ios</mat-icon>\r\n                    </button>\r\n                    <span *ngIf=\"i === field.items.length - 1 && field.isDefaultHandler\"></span>\r\n                    <button type=\"button\" *ngIf=\"i === field.items.length - 1 && !field.isDefaultHandler\" mat-stroked-button color=\"primary\" (click)=\"field.nextHandler(i)\">                        \r\n                        <mat-icon>add</mat-icon>\r\n                    </button>\r\n                </mat-action-row>\r\n            </mat-expansion-panel>\r\n        </ng-container>\r\n    </ng-container>\r\n</mat-accordion>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { VAutocompleteField } from '../../models';\r\nimport { isObservable, BehaviorSubject } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { Option } from '../../interfaces';\r\nimport { MatAutocompleteTrigger } from '@angular/material/autocomplete';\r\n\r\n@Component({\r\n  selector: 'app-autocomplete-field',\r\n  templateUrl: './v-autocomplete-field.component.html',\r\n  styleUrls: ['./v-autocomplete-field.component.scss']\r\n})\r\nexport class VAutocompleteFieldComponent implements OnInit {\r\n  @ViewChild(MatAutocompleteTrigger, {read: MatAutocompleteTrigger}) trigger: MatAutocompleteTrigger;\r\n\r\n  field: VAutocompleteField;\r\n  group: FormGroup;\r\n  data: any = [];\r\n\r\n  private _optionSubject = new BehaviorSubject<Option[]>([]);\r\n  filteredOptions = this._optionSubject.asObservable();\r\n\r\n  constructor() { }\r\n\r\n  get control(): FormControl {\r\n    return this.group.get(this.field.name) as FormControl;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if(isObservable(this.field.options)) {\r\n      this.field.options\r\n      .subscribe(res => {\r\n        this.data = res;\r\n        this._optionSubject.next(this.data);\r\n      });\r\n    } else {\r\n      this.data = this.field.options;\r\n      this._optionSubject.next(this.data);\r\n    }\r\n    \r\n    this.control.valueChanges\r\n    .pipe(\r\n      startWith(''),\r\n      map(value => (typeof value === 'string' ? value : value.label)),\r\n      map(value => this._filter(value))\r\n    )\r\n    .subscribe(res => {\r\n      this._optionSubject.next(res);\r\n    });\r\n  }\r\n\r\n  private _filter(value: string): Option[] {    \r\n    const filterValue = value.toLowerCase();\r\n    return this.data\r\n      .filter(option => option.label.toLowerCase().includes(filterValue) ||\r\n        option.label.replace(' ', '').toLowerCase().includes(filterValue) || \r\n        option.label.toLowerCase().includes(filterValue.replace(' ', '')))\r\n      .filter(this.field.filter)\r\n      .sort((a,b) => {\r\n        const aIdx = a.label?.toLowerCase().indexOf(filterValue),\r\n        bIdx = b.label?.toLowerCase().indexOf(filterValue);\r\n        return aIdx > bIdx ? 1 : -1;\r\n    });\r\n  }\r\n\r\n  displayFn(option: Option): string {\r\n    return option && option.label ? option.label : '';\r\n  }\r\n\r\n  trackByFn(index, item) {\r\n    if(!item) return null;\r\n    return index;\r\n  }\r\n\r\n  onFocus(): void {\r\n    if(!this.control.value || this.control.value === '') {\r\n      this.trigger._onChange(''); \r\n      this.trigger.openPanel();\r\n    }\r\n  }\r\n}","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <input type=\"text\"\r\n        [formControlName]=\"field.name\"\r\n        [placeholder]=\"field.placeholder\"\r\n        matInput \r\n        [matAutocomplete]=\"auto\"\r\n        (click)=\"onFocus()\"        \r\n      >\r\n    <mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\" [displayWith]=\"displayFn\">\r\n      <mat-option *ngFor=\"let option of filteredOptions | async; trackBy: trackByFn\" [value]=\"option\">\r\n        {{option.label}}\r\n      </mat-option>\r\n    </mat-autocomplete>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>\r\n</mat-form-field>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormGroup, FormArray } from '@angular/forms';\r\nimport { VBox } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-box',\r\n  templateUrl: './v-box.component.html',\r\n  styleUrls: ['./v-box.component.scss']\r\n})\r\nexport class VBoxComponent implements OnInit {\r\n\r\n  @Input() field: VBox;\r\n  @Input() group: FormGroup;\r\n\r\n  boxFormArray: FormArray;\r\n  isFormArray = false;\r\n\r\n  get formArray() {\r\n    return this.group.get(this.field.name) as FormArray;\r\n  }\r\n\r\n  constructor() {    \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.field.items = this.field.items.filter(item => item.getName() !== 'vcontent');\r\n  }\r\n}\r\n","<ng-container *ngIf=\"!!this.field.name && this.field.formMode === 'array'\"  [formGroup]=\"group\">\r\n    <label class=\"box-label\" *ngIf=\"field.label\">{{field.label}}</label>\r\n    <ng-container [formArrayName]=\"field.name\">\r\n        <ng-container *ngFor=\"let item of field.items; let i = index;\" [formGroupName]=\"i\">            \r\n            <ng-container\r\n                appVField\r\n                [field]=\"item\"\r\n                [group]=\"formArray.controls[i]\"\r\n                >\r\n            </ng-container>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>\r\n\r\n<ng-container *ngIf=\"!!this.field.name && this.field.formMode === 'group'\"  [formGroup]=\"group\">\r\n    <label class=\"box-label\" *ngIf=\"field.label\">{{field.label}}</label>\r\n    <ng-container [formGroupName]=\"field.name\">\r\n        <ng-container *ngFor=\"let item of field.items\">            \r\n            <ng-container\r\n                appVField\r\n                [field]=\"item\"\r\n                [group]=\"group.get(field.name)\"\r\n                >\r\n            </ng-container>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>\r\n\r\n<ng-container *ngIf=\"!this.field.name\"  [formGroup]=\"group\">\r\n    <label class=\"box-label\" *ngIf=\"field.label\">{{field.label}}</label>\r\n    <ng-container *ngFor=\"let item of field.items\">  \r\n        <ng-container\r\n            appVField\r\n            [field]=\"item\"\r\n            [group]=\"group\"\r\n            >\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>\r\n\r\n\r\n     \r\n    \r\n\r\n    \r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VButton } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-button',\r\n  templateUrl: './v-button.component.html',\r\n  styleUrls: ['./v-button.component.scss']\r\n})\r\nexport class VButtonComponent implements OnInit {\r\n\r\n  field: VButton;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n}\r\n","<ng-container [formGroup]=\"group\">\r\n    <ng-container [ngSwitch]=\"field.styleType\">        \r\n        <button *ngSwitchCase=\"'raised'\" \r\n            mat-raised-button \r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n            {{ field.text }}\r\n        </button>        \r\n        \r\n        <button *ngSwitchCase=\"'stroked'\" \r\n            mat-stroked-button \r\n            [color]=\"field.color\" \r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n            {{ field.text }}\r\n        </button>\r\n\r\n        <button *ngSwitchCase=\"'flat'\" \r\n            mat-flat-button \r\n            [color]=\"field.color\" \r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n            {{ field.text }}\r\n        </button>\r\n\r\n        <button *ngSwitchCase=\"'icon'\" \r\n            mat-icon-button \r\n            [matTooltip]=\"field.text\"\r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n        </button>\r\n\r\n        <button *ngSwitchCase=\"'fab'\" \r\n            mat-fab \r\n            [matTooltip]=\"field.text\"\r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n        </button>\r\n\r\n        <button *ngSwitchCase=\"'mini-fab'\" \r\n            mat-mini-fab \r\n            [matTooltip]=\"field.text\"\r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n        </button>\r\n\r\n        <button *ngSwitchDefault \r\n            mat-button \r\n            [color]=\"field.color\"\r\n            [disabled]=\"field.type === 'submit' ? !group.valid : field.disabled\"\r\n            [type]=\"field.type\"\r\n            (click)=\"field.handler()\"\r\n            >\r\n            <mat-icon *ngIf=\"field.icon\">{{ field.icon }}</mat-icon>\r\n            {{ field.text }}\r\n        </button>\r\n    </ng-container>\r\n</ng-container>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VCheckboxField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-checkbox-field',\r\n  templateUrl: './v-checkbox-field.component.html',\r\n  styleUrls: ['./v-checkbox-field.component.scss']\r\n})\r\nexport class VCheckboxFieldComponent implements OnInit {\r\n\r\n  field: VCheckboxField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<ng-container [formGroup]=\"group\">\r\n    <mat-checkbox\r\n        [formControlName]=\"field.name\"\r\n        [labelPosition]=\"field.labelPosition\"\r\n    >\r\n        {{field.label}}\r\n    </mat-checkbox>\r\n</ng-container>\r\n\r\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MatAutocompleteSelectedEvent, MatAutocompleteTrigger } from '@angular/material/autocomplete';\nimport { map, startWith } from 'rxjs/operators';\nimport { VChipsField } from '../../models/v-chips-field.model';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { Option } from '../../interfaces';\nimport { COMMA, ENTER } from '@angular/cdk/keycodes';\n\n@Component({\n  selector: 'v-v-chips-field',\n  templateUrl: './v-chips-field.component.html',\n  styleUrls: ['./v-chips-field.component.scss']\n})\nexport class VChipsFieldComponent implements OnInit {\n  @ViewChild(MatAutocompleteTrigger, {read: MatAutocompleteTrigger}) trigger: MatAutocompleteTrigger;\n  @ViewChild('chipsInput') chipsInput: ElementRef<HTMLInputElement>;\n\n  field: VChipsField;\n  group: FormGroup;\n  filterControl = new FormControl('');\n  separatorKeysCodes: number[] = [ENTER, COMMA];\n\n  data: Option[] = [];\n  idxs:any[] = [];\n\n  get control(): FormControl {\n    return this.group.get(this.field.name) as FormControl;\n  }\n\n  private _optionSubject = new BehaviorSubject<Option[]>([]); \n  options = this._optionSubject.asObservable();\n\n  private _chipsSubject = new BehaviorSubject<Option[]>([]); \n  chips = this._chipsSubject.asObservable();\n\n  constructor() {}\n\n  ngOnInit(): void {\n    if(this.field.options instanceof Observable) {\n      this.field.options\n      .pipe(\n        map(x => this._transformOptions(x))\n      )\n      .subscribe(options => {\n        this.data = options;\n        this._optionSubject.next(this.data);\n        this._chipsSubject.next(this.field.value);  \n      });\n    } else {\n      this.data = this._transformOptions(this.field.options);\n      this._optionSubject.next(this.data);\n      this._chipsSubject.next(this.field.value);\n    }\n\n    this.filterControl.valueChanges\n    .pipe(\n      startWith(''),\n      map(value => (typeof value === 'string' ? value : value.label)),\n      map(value => this._filter(value))\n    )\n    .subscribe(res => {\n      this._optionSubject.next(res);\n    });\n\n    this.chips\n    .subscribe(value => {\n      this._filterOptions();\n      this.control.setValue(value);\n    });   \n  }\n\n  remove(item: Option): void {\n    const chips = this._chipsSubject.value;    \n    const index = chips.findIndex(x => x.value === item.value);\n\n    if (index !== -1) {\n      chips.splice(index, 1);\n    }\n    this._chipsSubject.next(chips);\n  }\n\n  selected(event: MatAutocompleteSelectedEvent): void {\n    const value = event.option.value;\n    const chips = this._chipsSubject.value;\n    chips.push(value);\n    this._chipsSubject.next(chips);    \n    this.chipsInput?.nativeElement.blur();\n  }\n\n  private _filter(value: string): Option[] {    \n    const filterValue = value.toLowerCase();\n    const idxs = this._chipsSubject.value.map(x => x.value);\n    return this.data\n      .filter(option => option.label.toLowerCase().includes(filterValue) ||\n        option.label.replace(' ', '').toLowerCase().includes(filterValue) || \n        option.label.toLowerCase().includes(filterValue.replace(' ', '')))\n      .filter(option => idxs.indexOf(option.value) === -1)\n      .sort((a,b) => {\n        const aIdx = a.label?.toLowerCase().indexOf(filterValue),\n        bIdx = b.label?.toLowerCase().indexOf(filterValue);\n        return aIdx > bIdx ? 1 : -1;\n    });\n  }\n\n  displayFn(option: Option): string {\n    return option && option.label ? option.label : '';\n  }\n\n  trackByFn(index: any, item: any) {\n    if(!item) return null;\n    return index;\n  }\n\n  onFocus(): void {\n    if(!this.filterControl.value || this.filterControl.value === '') {\n      this.trigger?._onChange(''); \n      this.trigger?.openPanel();\n    }\n  }\n\n  private _filterOptions(): void {\n    const idxs = this._chipsSubject.value.map(x => x.value);\n    const options = this.data\n      .filter(x => idxs.indexOf(x.value) === -1);\n    this._optionSubject.next(options);\n  }\n\n  private _transformOptions(options: Option[]): Option[] {\n    return options.map(o => {\n      return {\n        ...o,\n        data: {\n          ...o.data,\n          color: o.data?.color ?? 'accent',\n          selected: o.data?.selected ?? false\n        }\n      }\n    });\n  }\n}\n","<mat-form-field  [formGroup]=\"group\">\n    <mat-label *ngIf=\"field.label\">{{ field.label }}</mat-label>\n    <mat-chip-list #chipList>\n      <mat-chip\n        *ngFor=\"let item of chips | async\"\n        [color]=\"item.data?.color\"\n        [selected]=\"item.data?.selected\"\n        (removed)=\"remove(item)\"\n        >\n        {{ item.label }}\n        <button matChipRemove>\n          <mat-icon>cancel</mat-icon>\n        </button>\n      </mat-chip>\n      <input\n        [placeholder]=\"field.placeholder\"\n        #chipsInput\n        [formControl]=\"filterControl\"\n        [matAutocomplete]=\"auto\"\n        [matChipInputFor]=\"chipList\"\n        [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\n        (click)=\"onFocus()\"\n    >\n    </mat-chip-list>\n    <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"selected($event)\" [displayWith]=\"displayFn\">\n      <mat-option *ngFor=\"let option of options | async\" [value]=\"option\">\n        {{option.label}}\n      </mat-option>\n    </mat-autocomplete>\n</mat-form-field>\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VChips } from '../../models';\r\nimport { Option } from '../../interfaces';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-v-chips',\r\n  templateUrl: './v-chips.component.html',\r\n  styleUrls: ['./v-chips.component.scss']\r\n})\r\nexport class VChipsComponent implements OnInit {\r\n\r\n  field: VChips;\r\n  group: FormGroup;\r\n\r\n  private _optionSubject = new BehaviorSubject<Option[]>([]); \r\n  options = this._optionSubject.asObservable();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    if(this.field.options instanceof Observable) {\r\n      this.field.options\r\n      .pipe(\r\n        map(x => this._transformOptions(x))\r\n      )\r\n      .subscribe(options => {\r\n        this._optionSubject.next(options);\r\n      });\r\n    } else {\r\n      this._optionSubject.next(this._transformOptions(this.field.options));\r\n    }\r\n  }\r\n\r\n  private _transformOptions(options: Option[]): Option[] {\r\n    return options.map(o => {\r\n      return {\r\n        ...o,\r\n        data: {\r\n          ...o.data,\r\n          color: o.data?.color ?? 'accent',\r\n          selected: o.data?.selected ?? false\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","<mat-chip-list>\r\n  <mat-chip *ngFor=\"let option of options | async\" \r\n    [color]=\"option.data?.color\"\r\n    [selected]=\"option.data?.selected\"\r\n  >\r\n    {{option.label}}\r\n  </mat-chip>\r\n</mat-chip-list>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VColorField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-color-field',\r\n  templateUrl: './v-color-field.component.html',\r\n  styleUrls: ['./v-color-field.component.scss']\r\n})\r\nexport class VColorFieldComponent implements OnInit {\r\n\r\n  field: VColorField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <span *ngIf=\"field.prefix\" matPrefix>{{field.prefix}} &nbsp;</span>\r\n    <input \r\n        type=\"color\"\r\n        [formControlName]=\"field.name\"\r\n        [readonly]=\"field.readonly\"\r\n        matInput\r\n    />\r\n\r\n    <mat-icon *ngIf=\"field.suffix\" matSuffix>{{field.suffix}}</mat-icon>\r\n    <mat-hint *ngIf=\"field.hint\">{{field.hint}}</mat-hint>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>   \r\n</mat-form-field>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VDatepickerField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-datepicker-field',\r\n  templateUrl: './v-datepicker-field.component.html',\r\n  styleUrls: ['./v-datepicker-field.component.scss']\r\n})\r\nexport class VDatepickerFieldComponent implements OnInit {\r\n\r\n  field: VDatepickerField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<mat-form-field color=\"field.color\" appearance=\"fill\"  [formGroup]=\"group\">\r\n    <mat-label>{{field.label}}</mat-label>\r\n    <input \r\n        matInput \r\n        [formControlName]=\"field.name\"\r\n        [matDatepicker]=\"picker1\"\r\n    >\r\n    <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n    <mat-datepicker #picker1></mat-datepicker>\r\n</mat-form-field>","import { Component, OnInit } from '@angular/core';\r\nimport { VDivider } from './../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-divider',\r\n  templateUrl: './v-divider.component.html',\r\n  styleUrls: ['./v-divider.component.scss']\r\n})\r\nexport class VDividerComponent implements OnInit {\r\n\r\n  field: VDivider;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<mat-divider></mat-divider>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { VDragDropList } from '../../models';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Option } from '../../interfaces';\r\n\r\n@Component({\r\n  selector: 'app-drag-drop-list',\r\n  templateUrl: './v-drag-drop-list.component.html',\r\n  styleUrls: ['./v-drag-drop-list.component.scss']\r\n})\r\nexport class VDragDropListComponent implements OnInit {\r\n\r\n  field: VDragDropList;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  drop(event: CdkDragDrop<Option[]>) {\r\n    moveItemInArray(this.field.options, event.previousIndex, event.currentIndex);\r\n    this.group.controls[this.field.name].markAsTouched();\r\n  }\r\n}\r\n","<mat-card [formGroup]=\"group\">\r\n    <ng-container  *ngIf=\"field.label\">\r\n        <mat-card-header>\r\n            <mat-card-title>{{field.label}}</mat-card-title>    \r\n        </mat-card-header>\r\n        <mat-divider></mat-divider>\r\n    </ng-container>\r\n    \r\n    <input type=\"hidden\" [formControlName]=\"field.name\" />\r\n    \r\n    <mat-card-content>        \r\n        <div cdkDropList class=\"list-wrapper\" (cdkDropListDropped)=\"drop($event)\">\r\n            <div class=\"list-box\" *ngFor=\"let option of field.options\" cdkDrag (dblclick)=\"field.handler(option)\">            \r\n                <mat-icon *ngIf=\"option.icon\">{{option.icon}}</mat-icon>\r\n\r\n                <ng-container *ngIf=\"field.showAvatar && option.data?.image\">\r\n                    <img class=\"avatar-img\" [src]=\"option.data.image\" [alt]=\"option.label\">\r\n                </ng-container>\r\n\r\n                <strong *ngIf=\"option.label\">{{option.label}}</strong>\r\n\r\n                <span *ngIf=\"option.data?.info\">{{option.data?.info}}</span>\r\n                <span *ngIf=\"!option.data?.info\"></span>\r\n\r\n                <span style=\"flex: 1\"></span>\r\n\r\n                <ng-container *ngIf=\"field.removable\">\r\n                    <button\r\n                        mat-icon-button \r\n                        matTooltip=\"Удалить\"\r\n                        color=\"warn\"\r\n                        type=\"button\"\r\n                        (click)=\"field.removeHandler(option)\"\r\n                        >\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n                <span *ngIf=\"!field.removable\"></span>\r\n\r\n                <ng-container *ngIf=\"field.showPreview && option.data?.image\">\r\n                    <img *cdkDragPreview [src]=\"option.data.image\" [alt]=\"option.label\">\r\n                </ng-container>            \r\n            </div>\r\n        </div>\r\n    </mat-card-content>    \r\n</mat-card>\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { EditorAction } from './editor-action.interface';\r\n\r\n@Injectable()\r\nexport class VEditorService {\r\n\r\n  btnAction = new Subject();\r\n\r\n  constructor() {}\r\n\r\n  execCommand(action: EditorAction): void {\r\n    this.btnAction.next(action);\r\n  }\r\n  \r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { EditorAction } from '../../editor-action.interface';\r\n\r\n@Component({\r\n  selector: 'app-toolbar-btn',\r\n  templateUrl: './toolbar-btn.component.html',\r\n  styleUrls: ['./toolbar-btn.component.scss']\r\n})\r\nexport class ToolbarBtnComponent {\r\n\r\n  isActive: boolean = false;\r\n\r\n  @Input() action: string;\r\n  @Input() icon: string;\r\n\r\n  @Output() exec: EventEmitter<EditorAction> = new EventEmitter<EditorAction>();\r\n\r\n  execCmd(): void {\r\n    this.exec.emit({ action: this.action });\r\n    this.isActive = !this.isActive;\r\n  }\r\n\r\n}\r\n","<button     \r\n    (click)=\"execCmd()\"\r\n    type=\"button\">\r\n    <span class=\"material-icons\">{{icon}}</span>\r\n</button>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { EditorAction } from '../../editor-action.interface';\r\n\r\n@Component({\r\n  selector: 'app-toolbar-select',\r\n  templateUrl: './toolbar-select.component.html',\r\n  styleUrls: ['./toolbar-select.component.scss']\r\n})\r\nexport class ToolbarSelectComponent implements OnInit {\r\n\r\n  @Input() action: string;\r\n  @Input() args: { value: string, label: string }[];\r\n\r\n  @Output() exec: EventEmitter<EditorAction> = new EventEmitter<EditorAction>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onSelect(arg: string): void {\r\n    this.exec.emit({ action: this.action,  arg })\r\n  }\r\n\r\n}\r\n","<select matNativeControl (change)=\"onSelect($event.target.value)\">  \r\n  <option *ngFor=\"let arg of args\" [value]=\"arg.value\">{{ arg.label }}</option>\r\n</select>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { EditorAction } from '../../editor-action.interface';\r\n\r\n@Component({\r\n  selector: 'app-toolbar-color',\r\n  templateUrl: './toolbar-color.component.html',\r\n  styleUrls: ['./toolbar-color.component.scss']\r\n})\r\nexport class ToolbarColorComponent implements OnInit {\r\n\r\n  @Input() action: string;\r\n  @Input() icon: string;\r\n  @Input() value: string;\r\n\r\n  @Output() exec: EventEmitter<EditorAction> = new EventEmitter<EditorAction>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onPick(color: string): void {\r\n    this.exec.emit({ action: this.action, arg: color });\r\n  }\r\n\r\n}\r\n","<div class=\"color-wrapper\">\r\n    <span class=\"material-icons\">{{icon}}</span>\r\n    <input type=\"color\" #colorinput matNativeControl [value]=\"value\" (change)=\"onPick($event.target.value)\"/>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { EditorAction } from '../editor-action.interface';\r\nimport { VEditorService } from '../v-editor.service';\r\n\r\n@Component({\r\n  selector: 'app-toolbar',\r\n  templateUrl: './toolbar.component.html',\r\n  styleUrls: ['./toolbar.component.scss']\r\n})\r\nexport class ToolbarComponent implements OnInit {\r\n  \r\n\r\n  formatBlockArgs = [\r\n      {value: '', label: 'Heading'},\r\n      {value: 'H1', label: 'Heading 1'},\r\n      {value: 'H2', label: 'Heading 2'}, \r\n      {value: 'H3', label: 'Heading 3'}, \r\n      {value: 'H4', label: 'Heading 4'}, \r\n      {value: 'H5', label: 'Heading 5'}, \r\n      {value: 'H6', label: 'Heading 6'}\r\n    ];\r\n\r\n  fontNameArgs = [\r\n    {value: '', label: 'Font Type'},\r\n    {value: 'Arial', label: 'Arial'},\r\n    {value: 'Comic Sans CS', label: 'Comic Sans CS'},\r\n    {value: 'Courier', label: 'Courier'},\r\n    {value: 'Georgia', label: 'Georgia'},\r\n    {value: 'Tahoma', label: 'Tahoma'},\r\n    {value: 'Times New Roman', label: 'Times New Roman'},\r\n    {value: 'Verdana', label: 'Verdana'}\r\n   ];\r\n\r\n  fontSizeArgs = [\r\n      {value: '', label: 'Font Size'},\r\n      {value: '1', label: '1'},\r\n      {value: '2', label: '2'},\r\n      {value: '3', label: '3'},\r\n      {value: '4', label: '4'},\r\n      {value: '5', label: '5'},\r\n      {value: '6', label: '6'},\r\n      {value: '7', label: '7'}\r\n    ];\r\n\r\n  constructor(\r\n    private _editorService: VEditorService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  execCmd(action: EditorAction): void {\r\n    this._editorService.execCommand(action);\r\n  }\r\n}\r\n","<div class=\"toolbar-container\">\r\n    <div class=\"toolbar-row\">\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"undo\" action=\"undo\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"redo\" action=\"redo\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"format_bold\" action=\"bold\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_italic\" action=\"italic\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_underlined\" action=\"underline\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"strikethrough_s\" action=\"strikeThrough\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"format_align_left\" action=\"justifyLeft\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_align_center\" action=\"justifyCenter\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_align_right\" action=\"justifyRigth\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_align_justify\" action=\"justifyFull\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"content_cut\" action=\"cut\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"content_copy\" action=\"copy\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"format_indent_increase\" action=\"indent\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_indent_decrease\" action=\"outdent\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"subscript\" action=\"subscript\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"superscript\" action=\"superscript\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"format_list_bulleted\" action=\"insertUnorderedList\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"format_list_numbered\" action=\"insertOrderedList\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-select action=\"formatBlock\" [args]=\"formatBlockArgs\" (exec)=\"execCmd($event)\"></app-toolbar-select>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-select action=\"fontName\" [args]=\"fontNameArgs\" (exec)=\"execCmd($event)\"></app-toolbar-select>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-select action=\"fontSize\" [args]=\"fontSizeArgs\" (exec)=\"execCmd($event)\"></app-toolbar-select>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"horizontal_rule\" action=\"insertHorizontalRule\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"insert_photo\" action=\"insertImage\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"videocam\" action=\"insertVideo\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"link\" action=\"createLink\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n            <app-toolbar-btn icon=\"link_off\" action=\"unlink\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-color icon=\"format_color_text\" action=\"foreColor\" (exec)=\"execCmd($event)\"  value=\"#000000\"></app-toolbar-color>\r\n            <app-toolbar-color icon=\"format_color_fill\" action=\"hiliteColor\" (exec)=\"execCmd($event)\" value=\"#FFFFFF\"></app-toolbar-color>\r\n        </div>\r\n        <div class=\"toolbar-block\">\r\n            <app-toolbar-btn icon=\"code\" action=\"toggleSource\" (exec)=\"execCmd($event)\"></app-toolbar-btn>\r\n        </div>\r\n    </div>\r\n</div>\r\n","/*\r\nSource: https://github.com/TinkoffCreditSystems/angular-contenteditable-accessor\r\n*/\r\n\r\nimport {\r\n    AfterViewInit,\r\n    Directive,\r\n    ElementRef,\r\n    forwardRef,\r\n    HostListener,\r\n    Inject,\r\n    OnDestroy,\r\n    Renderer2,\r\n} from '@angular/core';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\n\r\n/*\r\n * This is a barebones contenteditable {@link ControlValueAccessor} allowing you to use\r\n * Angular forms with native contenteditable HTML. For security reasons you might want\r\n * to consider sanitizing pasted/dropped content before using it. Also make sure that\r\n * you do not set any dangerous content as control value yourself, because directive\r\n * just outputs control value as-is.\r\n */\r\n@Directive({\r\n    selector:\r\n        '[contenteditable][formControlName], [contenteditable][formControl], [contenteditable][ngModel]',\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => ContenteditableValueAccessor),\r\n            multi: true,\r\n        },\r\n    ],\r\n})\r\nexport class ContenteditableValueAccessor\r\n    implements ControlValueAccessor, AfterViewInit, OnDestroy {\r\n    /*\r\n     * MutationObserver IE11 fallback (as opposed to input event for modern browsers).\r\n     * When mutation removes a tag, i.e. delete is pressed on the last remaining character\r\n     * inside a tag — callback is triggered before the DOM is actually changed, therefore\r\n     * setTimeout is used\r\n     */\r\n    private observer = new MutationObserver(() => {\r\n        setTimeout(() => {\r\n            this.onChange(\r\n                ContenteditableValueAccessor.processValue(\r\n                    this.elementRef.nativeElement.innerHTML,\r\n                ),\r\n            );\r\n        });\r\n    });\r\n\r\n    /*\r\n     * onTouch callback that marks control as touched and allows FormHooks use\r\n     */\r\n    private onTouched = () => {};\r\n\r\n    /*\r\n     * onChange callback that writes value to control and allows FormHooks use\r\n     */\r\n    private onChange: (value: string) => void = () => {};\r\n\r\n    constructor(\r\n        @Inject(ElementRef) private readonly elementRef: ElementRef,\r\n        @Inject(Renderer2) private readonly renderer: Renderer2,\r\n    ) {}\r\n\r\n    /*\r\n     * To support IE11 MutationObserver is used to monitor changes to the content\r\n     */\r\n    ngAfterViewInit() {\r\n        this.observer.observe(this.elementRef.nativeElement, {\r\n            characterData: true,\r\n            childList: true,\r\n            subtree: true,\r\n        });\r\n    }\r\n\r\n    /*\r\n     * Disconnect MutationObserver IE11 fallback on destroy\r\n     */\r\n    ngOnDestroy() {\r\n        this.observer.disconnect();\r\n    }\r\n\r\n    /*\r\n     * Listen to input events to write innerHTML value into control,\r\n     * also disconnect MutationObserver as it is not needed if this\r\n     * event works in current browser\r\n     */\r\n    @HostListener('input')\r\n    onInput() {\r\n        this.observer.disconnect();\r\n        this.onChange(\r\n            ContenteditableValueAccessor.processValue(\r\n                this.elementRef.nativeElement.innerHTML,\r\n            ),\r\n        );\r\n    }\r\n\r\n    /*\r\n     * Listen to blur event to mark control as touched\r\n     */\r\n    @HostListener('blur')\r\n    onBlur() {\r\n        this.onTouched();\r\n    }\r\n\r\n    /*\r\n     * Reacts to external change\r\n     *\r\n     * @see {@link ControlValueAccessor#writeValue}\r\n     */\r\n    writeValue(value: string | null) {\r\n        this.renderer.setProperty(\r\n            this.elementRef.nativeElement,\r\n            'innerHTML',\r\n            ContenteditableValueAccessor.processValue(value),\r\n        );\r\n    }\r\n\r\n    /*\r\n     * Registers onChange callback\r\n     *\r\n     * @see {@link ControlValueAccessor#registerOnChange}\r\n     */\r\n    registerOnChange(onChange: (value: string) => void) {\r\n        this.onChange = onChange;\r\n    }\r\n\r\n    /*\r\n     * Registers onTouch callback\r\n     *\r\n     * @see {@link ControlValueAccessor#registerOnTouched}\r\n     */\r\n    registerOnTouched(onTouched: () => void) {\r\n        this.onTouched = onTouched;\r\n    }\r\n\r\n    /*\r\n     * Sets disabled state by setting contenteditable attribute to true/false\r\n     *\r\n     * @see {@link ControlValueAccessor#setDisabledState}\r\n     */\r\n    setDisabledState(disabled: boolean) {\r\n        this.renderer.setAttribute(\r\n            this.elementRef.nativeElement,\r\n            'contenteditable',\r\n            String(!disabled),\r\n        );\r\n    }\r\n\r\n    /*\r\n     * null and other falsy control values are treated as empty string to\r\n     * prevent IE11 outputting 'null', also single <br> is replaced with empty\r\n     * string when passed to the control\r\n     */\r\n    private static processValue(value: string | null): string {\r\n        const processed = value || '';\r\n\r\n        return processed.trim() === '<br>' ? '' : processed;\r\n    }\r\n}\r\n","import { Component, ElementRef, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { VEditorField } from '../../models';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { VEditorService } from './v-editor.service';\r\nimport { EditorAction } from './editor-action.interface';\r\n\r\n@Component({\r\n  selector: 'app-editor-field',\r\n  templateUrl: './v-editor-field.component.html',\r\n  styleUrls: ['./v-editor-field.component.scss']\r\n})\r\nexport class VEditorFieldComponent implements OnInit {\r\n  @ViewChild('texteditor', { static: true }) texteditor: ElementRef;\r\n\r\n  field: VEditorField;\r\n  group: FormGroup;\r\n\r\n  isShowingSource = false;\r\n\r\n  constructor(\r\n    @Inject(DOCUMENT) private _doc: any,\r\n    private _editorService: VEditorService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this._editorService.btnAction\r\n      .subscribe((action: EditorAction) => {\r\n        switch (action.action) {\r\n          case 'toggleSource':\r\n            if(this.isShowingSource) {\r\n              this.texteditor.nativeElement.innerHTML = this.texteditor.nativeElement.textContent;\r\n            } else {\r\n              this.texteditor.nativeElement.textContent = this.texteditor.nativeElement.innerHTML;\r\n            }\r\n            this.isShowingSource = !this.isShowingSource;\r\n            break;\r\n          case 'insertImage':\r\n          case 'createLink':\r\n            let imgUrl = prompt('Enter URL:', '');\r\n            if(imgUrl) {\r\n              this._doc.execCommand(action.action, false, imgUrl);\r\n            }\r\n            break;\r\n          case 'insertVideo':\r\n            let videoUrl = prompt('Enter URL:', '');\r\n            if(videoUrl) {\r\n              videoUrl = videoUrl.replace(\"watch?v=\", \"embed/\");\r\n              const embed = '<iframe src=\"'+videoUrl+'\" allowfullscreen=\"true\" width=\"480\" frameborder=\"0\" height=\"390\">';\r\n              this._doc.execCommand(\"insertHTML\", false, embed);\r\n            }\r\n            break;\r\n          default:\r\n            this._doc.execCommand(action.action, false, action.arg? action.arg : null);\r\n            break;\r\n        }\r\n      });\r\n  }\r\n}\r\n","<div [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <section>\r\n        <app-toolbar></app-toolbar>\r\n        <div class=\"editor-container\" #texteditor contenteditable [formControlName]=\"field.name\"></div>\r\n    </section>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VFileField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-file-field',\r\n  templateUrl: './v-file-field.component.html',\r\n  styleUrls: ['./v-file-field.component.scss']\r\n})\r\nexport class VFileFieldComponent {\r\n\r\n  field: VFileField;\r\n  group: FormGroup;\r\n\r\n  onFileChange(event) {\r\n    this.group.get(this.field.name).markAllAsTouched();\r\n    if (event.target.files.length > 0) {\r\n      const file = event.target.files[0];\r\n      this.group.get(this.field.name).setValue(file);\r\n    }\r\n  }\r\n}\r\n","<ng-container [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <input type=\"file\" class=\"file-input\" (change)=\"onFileChange($event)\" [disabled]=\"field.disabled\" [hidden]=\"field.readonly\" />\r\n    <ng-container *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n           <span class=\"custom-error\"> {{validation.message}} </span>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>\r\n","export interface MoveStart {\r\n  active: boolean;\r\n  type: MoveTypes | null;\r\n  position: string | null;\r\n  x1: number;\r\n  y1: number;\r\n  x2: number;\r\n  y2: number;\r\n  clientX: number;\r\n  clientY: number;\r\n}\r\n\r\nexport enum MoveTypes {\r\n  Move = 'move',\r\n  Resize = 'resize',\r\n  Pinch = 'pinch'\r\n}\r\n","import { CropperOptions, OutputFormat } from './cropper-options.interface';\r\nimport { ImageTransform } from './image-transform.interface';\r\nimport { SimpleChanges } from '@angular/core';\r\n\r\nexport class CropperSettings {\r\n\r\n  // From options\r\n  format: OutputFormat = 'png';\r\n  maintainAspectRatio = true;\r\n  transform: ImageTransform = {};\r\n  aspectRatio = 1;\r\n  resizeToWidth = 0;\r\n  resizeToHeight = 0;\r\n  cropperMinWidth = 0;\r\n  cropperMinHeight = 0;\r\n  cropperMaxHeight = 0;\r\n  cropperMaxWidth = 0;\r\n  cropperStaticWidth = 0;\r\n  cropperStaticHeight = 0;\r\n  canvasRotation = 0;\r\n  initialStepSize = 3;\r\n  roundCropper = false;\r\n  onlyScaleDown = false;\r\n  imageQuality = 92;\r\n  autoCrop = true;\r\n  backgroundColor: string = undefined;\r\n  containWithinAspectRatio = false;\r\n  hideResizeSquares = false;\r\n  alignImage: 'left' | 'center' = 'center';\r\n\r\n  // Internal\r\n  cropperScaledMinWidth = 20;\r\n  cropperScaledMinHeight = 20;\r\n  cropperScaledMaxWidth = 20;\r\n  cropperScaledMaxHeight = 20;\r\n  stepSize = this.initialStepSize;\r\n\r\n  setOptions(options: Partial<CropperOptions>): void {\r\n    Object.keys(options)\r\n      .filter((k) => k in this)\r\n      .forEach((k) => this[k] = options[k]);\r\n    this.validateOptions();\r\n  }\r\n\r\n  setOptionsFromChanges(changes: SimpleChanges): void {\r\n    Object.keys(changes)\r\n      .filter((k) => k in this)\r\n      .forEach((k) => this[k] = changes[k].currentValue);\r\n    this.validateOptions();\r\n  }\r\n\r\n  private validateOptions(): void {\r\n    if (this.maintainAspectRatio && !this.aspectRatio) {\r\n      throw new Error('`aspectRatio` should > 0 when `maintainAspectRatio` is enabled');\r\n    }\r\n  }\r\n}\r\n","export function getPositionForKey(key: string): string {\r\n  switch (key) {\r\n    case 'ArrowUp':\r\n      return 'top';\r\n    case 'ArrowRight':\r\n      return 'right';\r\n    case 'ArrowDown':\r\n      return 'bottom';\r\n    case 'ArrowLeft':\r\n    default:\r\n      return 'left';\r\n  }\r\n}\r\n\r\nexport function getInvertedPositionForKey(key: string): string {\r\n  switch (key) {\r\n    case 'ArrowUp':\r\n      return 'bottom';\r\n    case 'ArrowRight':\r\n      return 'left';\r\n    case 'ArrowDown':\r\n      return 'top';\r\n    case 'ArrowLeft':\r\n    default:\r\n      return 'right';\r\n  }\r\n}\r\n\r\nexport function getEventForKey(key: string, stepSize: number): any {\r\n  switch (key) {\r\n    case 'ArrowUp':\r\n      return {clientX: 0, clientY: stepSize * -1};\r\n    case 'ArrowRight':\r\n      return {clientX: stepSize, clientY: 0};\r\n    case 'ArrowDown':\r\n      return {clientX: 0, clientY: stepSize};\r\n    case 'ArrowLeft':\r\n    default:\r\n      return {clientX: stepSize * -1, clientY: 0};\r\n  }\r\n}\r\n","/*\r\n * Hermite resize - fast image resize/resample using Hermite filter.\r\n * https://github.com/viliusle/Hermite-resize\r\n */\r\n\r\nexport function resizeCanvas(canvas: HTMLCanvasElement, width: number, height: number) {\r\n  const width_source = canvas.width;\r\n  const height_source = canvas.height;\r\n  width = Math.round(width);\r\n  height = Math.round(height);\r\n\r\n  const ratio_w = width_source / width;\r\n  const ratio_h = height_source / height;\r\n  const ratio_w_half = Math.ceil(ratio_w / 2);\r\n  const ratio_h_half = Math.ceil(ratio_h / 2);\r\n\r\n  const ctx = canvas.getContext('2d');\r\n  if (ctx) {\r\n    const img = ctx.getImageData(0, 0, width_source, height_source);\r\n    const img2 = ctx.createImageData(width, height);\r\n    const data = img.data;\r\n    const data2 = img2.data;\r\n\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const x2 = (i + j * width) * 4;\r\n        const center_y = j * ratio_h;\r\n        let weight = 0;\r\n        let weights = 0;\r\n        let weights_alpha = 0;\r\n        let gx_r = 0;\r\n        let gx_g = 0;\r\n        let gx_b = 0;\r\n        let gx_a = 0;\r\n\r\n        const xx_start = Math.floor(i * ratio_w);\r\n        const yy_start = Math.floor(j * ratio_h);\r\n        let xx_stop = Math.ceil((i + 1) * ratio_w);\r\n        let yy_stop = Math.ceil((j + 1) * ratio_h);\r\n        xx_stop = Math.min(xx_stop, width_source);\r\n        yy_stop = Math.min(yy_stop, height_source);\r\n\r\n        for (let yy = yy_start; yy < yy_stop; yy++) {\r\n          const dy = Math.abs(center_y - yy) / ratio_h_half;\r\n          const center_x = i * ratio_w;\r\n          const w0 = dy * dy; //pre-calc part of w\r\n          for (let xx = xx_start; xx < xx_stop; xx++) {\r\n            const dx = Math.abs(center_x - xx) / ratio_w_half;\r\n            const w = Math.sqrt(w0 + dx * dx);\r\n            if (w >= 1) {\r\n              //pixel too far\r\n              continue;\r\n            }\r\n            //hermite filter\r\n            weight = 2 * w * w * w - 3 * w * w + 1;\r\n            const pos_x = 4 * (xx + yy * width_source);\r\n            //alpha\r\n            gx_a += weight * data[pos_x + 3];\r\n            weights_alpha += weight;\r\n            //colors\r\n            if (data[pos_x + 3] < 255)\r\n              weight = weight * data[pos_x + 3] / 250;\r\n            gx_r += weight * data[pos_x];\r\n            gx_g += weight * data[pos_x + 1];\r\n            gx_b += weight * data[pos_x + 2];\r\n            weights += weight;\r\n          }\r\n        }\r\n        data2[x2] = gx_r / weights;\r\n        data2[x2 + 1] = gx_g / weights;\r\n        data2[x2 + 2] = gx_b / weights;\r\n        data2[x2 + 3] = gx_a / weights_alpha;\r\n      }\r\n    }\r\n\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    //draw\r\n    ctx.putImageData(img2, 0, 0);\r\n  }\r\n}\r\n","import { ElementRef, Injectable } from '@angular/core';\r\nimport { CropperSettings } from '../interfaces/cropper.settings';\r\nimport { CropperPosition, ImageCroppedEvent, LoadedImage } from '../interfaces';\r\nimport { resizeCanvas } from '../utils/resize.utils';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class CropService {\r\n\r\n  crop(sourceImage: ElementRef, loadedImage: LoadedImage, cropper: CropperPosition, settings: CropperSettings): ImageCroppedEvent | null {\r\n    const imagePosition = this.getImagePosition(sourceImage, loadedImage, cropper, settings);\r\n    const width = imagePosition.x2 - imagePosition.x1;\r\n    const height = imagePosition.y2 - imagePosition.y1;\r\n    const cropCanvas = document.createElement('canvas') as HTMLCanvasElement;\r\n    cropCanvas.width = width;\r\n    cropCanvas.height = height;\r\n\r\n    const ctx = cropCanvas.getContext('2d');\r\n    if (!ctx) {\r\n      return;\r\n    }\r\n    if (settings.backgroundColor != null) {\r\n      ctx.fillStyle = settings.backgroundColor;\r\n      ctx.fillRect(0, 0, width, height);\r\n    }\r\n\r\n    const scaleX = (settings.transform.scale || 1) * (settings.transform.flipH ? -1 : 1);\r\n    const scaleY = (settings.transform.scale || 1) * (settings.transform.flipV ? -1 : 1);\r\n\r\n    const transformedImage = loadedImage.transformed;\r\n    ctx.setTransform(scaleX, 0, 0, scaleY, transformedImage.size.width / 2, transformedImage.size.height / 2);\r\n    ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\r\n    ctx.rotate((settings.transform.rotate || 0) * Math.PI / 180);\r\n    ctx.drawImage(transformedImage.image, -transformedImage.size.width / 2, -transformedImage.size.height / 2);\r\n\r\n    const output: ImageCroppedEvent = {\r\n      width, height,\r\n      imagePosition,\r\n      cropperPosition: {...cropper}\r\n    };\r\n    if (settings.containWithinAspectRatio) {\r\n      output.offsetImagePosition = this.getOffsetImagePosition(sourceImage, loadedImage, cropper, settings);\r\n    }\r\n    const resizeRatio = this.getResizeRatio(width, height, settings);\r\n    if (resizeRatio !== 1) {\r\n      output.width = Math.round(width * resizeRatio);\r\n      output.height = settings.maintainAspectRatio\r\n        ? Math.round(output.width / settings.aspectRatio)\r\n        : Math.round(height * resizeRatio);\r\n      resizeCanvas(cropCanvas, output.width, output.height);\r\n    }\r\n    output.base64 = cropCanvas.toDataURL('image/' + settings.format, this.getQuality(settings));\r\n    return output;\r\n  }\r\n\r\n  private getImagePosition(sourceImage: ElementRef, loadedImage: LoadedImage, cropper: CropperPosition, settings: CropperSettings): CropperPosition {\r\n    const sourceImageElement = sourceImage.nativeElement;\r\n    const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\r\n\r\n    const out: CropperPosition = {\r\n      x1: Math.round(cropper.x1 * ratio),\r\n      y1: Math.round(cropper.y1 * ratio),\r\n      x2: Math.round(cropper.x2 * ratio),\r\n      y2: Math.round(cropper.y2 * ratio)\r\n    };\r\n\r\n    if (!settings.containWithinAspectRatio) {\r\n      out.x1 = Math.max(out.x1, 0);\r\n      out.y1 = Math.max(out.y1, 0);\r\n      out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\r\n      out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  private getOffsetImagePosition(sourceImage: ElementRef, loadedImage: LoadedImage, cropper: CropperPosition, settings: CropperSettings): CropperPosition {\r\n    const canvasRotation = settings.canvasRotation + loadedImage.exifTransform.rotate;\r\n    const sourceImageElement = sourceImage.nativeElement;\r\n    const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\r\n    let offsetX: number;\r\n    let offsetY: number;\r\n\r\n    if (canvasRotation % 2) {\r\n      offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.height) / 2;\r\n      offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.width) / 2;\r\n    } else {\r\n      offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.width) / 2;\r\n      offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.height) / 2;\r\n    }\r\n\r\n    const out: CropperPosition = {\r\n      x1: Math.round(cropper.x1 * ratio) - offsetX,\r\n      y1: Math.round(cropper.y1 * ratio) - offsetY,\r\n      x2: Math.round(cropper.x2 * ratio) - offsetX,\r\n      y2: Math.round(cropper.y2 * ratio) - offsetY\r\n    };\r\n\r\n    if (!settings.containWithinAspectRatio) {\r\n      out.x1 = Math.max(out.x1, 0);\r\n      out.y1 = Math.max(out.y1, 0);\r\n      out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\r\n      out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  getResizeRatio(width: number, height: number, settings: CropperSettings): number {\r\n    const ratioWidth = settings.resizeToWidth / width;\r\n    const ratioHeight = settings.resizeToHeight / height;\r\n    const ratios = new Array<number>();\r\n\r\n    if (settings.resizeToWidth > 0) {\r\n      ratios.push(ratioWidth);\r\n    }\r\n    if (settings.resizeToHeight > 0) {\r\n      ratios.push(ratioHeight);\r\n    }\r\n\r\n    const result = ratios.length === 0 ? 1 : Math.min(...ratios);\r\n\r\n    if (result > 1 && !settings.onlyScaleDown) {\r\n      return result;\r\n    }\r\n    return Math.min(result, 1);\r\n  }\r\n\r\n  getQuality(settings: CropperSettings): number {\r\n    return Math.min(1, Math.max(0, settings.imageQuality / 100));\r\n  }\r\n}\r\n","import { ElementRef, Injectable } from '@angular/core';\r\nimport { CropperPosition, Dimensions, MoveStart } from '../interfaces';\r\nimport { CropperSettings } from '../interfaces/cropper.settings';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class CropperPositionService {\r\n\r\n  resetCropperPosition(sourceImage: ElementRef, cropperPosition: CropperPosition, settings: CropperSettings): void {\r\n    if (!sourceImage?.nativeElement) {\r\n      return;\r\n    }\r\n    const sourceImageElement = sourceImage.nativeElement;\r\n    if (settings.cropperStaticHeight && settings.cropperStaticWidth) {\r\n      cropperPosition.x1 = 0;\r\n      cropperPosition.x2 = sourceImageElement.offsetWidth > settings.cropperStaticWidth ?\r\n        settings.cropperStaticWidth : sourceImageElement.offsetWidth;\r\n      cropperPosition.y1 = 0;\r\n      cropperPosition.y2 = sourceImageElement.offsetHeight > settings.cropperStaticHeight ?\r\n        settings.cropperStaticHeight : sourceImageElement.offsetHeight;\r\n    } else {\r\n      const cropperWidth = Math.min(settings.cropperScaledMaxWidth, sourceImageElement.offsetWidth);\r\n      const cropperHeight = Math.min(settings.cropperScaledMaxHeight, sourceImageElement.offsetHeight);\r\n      if (!settings.maintainAspectRatio) {\r\n        cropperPosition.x1 = 0;\r\n        cropperPosition.x2 = cropperWidth;\r\n        cropperPosition.y1 = 0;\r\n        cropperPosition.y2 = cropperHeight;\r\n      } else if (cropperWidth / settings.aspectRatio < cropperHeight) {\r\n        cropperPosition.x1 = 0;\r\n        cropperPosition.x2 = cropperWidth;\r\n        const cropperHeightWithAspectRatio = cropperWidth / settings.aspectRatio;\r\n        cropperPosition.y1 = (sourceImageElement.offsetHeight - cropperHeightWithAspectRatio) / 2;\r\n        cropperPosition.y2 = cropperPosition.y1 + cropperHeightWithAspectRatio;\r\n      } else {\r\n        cropperPosition.y1 = 0;\r\n        cropperPosition.y2 = cropperHeight;\r\n        const cropperWidthWithAspectRatio = cropperHeight * settings.aspectRatio;\r\n        cropperPosition.x1 = (sourceImageElement.offsetWidth - cropperWidthWithAspectRatio) / 2;\r\n        cropperPosition.x2 = cropperPosition.x1 + cropperWidthWithAspectRatio;\r\n      }\r\n    }\r\n  }\r\n\r\n  move(event: any, moveStart: MoveStart, cropperPosition: CropperPosition) {\r\n    const diffX = this.getClientX(event) - moveStart.clientX;\r\n    const diffY = this.getClientY(event) - moveStart.clientY;\r\n\r\n    cropperPosition.x1 = moveStart.x1 + diffX;\r\n    cropperPosition.y1 = moveStart.y1 + diffY;\r\n    cropperPosition.x2 = moveStart.x2 + diffX;\r\n    cropperPosition.y2 = moveStart.y2 + diffY;\r\n  }\r\n\r\n  resize(event: any, moveStart: MoveStart, cropperPosition: CropperPosition, maxSize: Dimensions, settings: CropperSettings): void {\r\n    const moveX = this.getClientX(event) - moveStart.clientX;\r\n    const moveY = this.getClientY(event) - moveStart.clientY;\r\n    switch (moveStart.position) {\r\n      case 'left':\r\n        cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth),\r\n          cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n        break;\r\n      case 'topleft':\r\n        cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth),\r\n          cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n        cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight),\r\n          cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'top':\r\n        cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight),\r\n          cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'topright':\r\n        cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth),\r\n          cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n        cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight),\r\n          cropperPosition.y2 - settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'right':\r\n        cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth),\r\n          cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n        break;\r\n      case 'bottomright':\r\n        cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth),\r\n          cropperPosition.x1 + settings.cropperScaledMinWidth);\r\n        cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight),\r\n          cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'bottom':\r\n        cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight),\r\n          cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'bottomleft':\r\n        cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth),\r\n          cropperPosition.x2 - settings.cropperScaledMinWidth);\r\n        cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight),\r\n          cropperPosition.y1 + settings.cropperScaledMinHeight);\r\n        break;\r\n      case 'center':\r\n        const scale = event.scale;\r\n        const newWidth = Math.min(\r\n          Math.max(settings.cropperScaledMinWidth, (Math.abs(moveStart.x2 - moveStart.x1)) * scale),\r\n          settings.cropperScaledMaxWidth);\r\n        const newHeight = Math.min(\r\n          Math.max(settings.cropperScaledMinHeight, (Math.abs(moveStart.y2 - moveStart.y1)) * scale),\r\n          settings.cropperScaledMaxHeight);\r\n        cropperPosition.x1 = moveStart.clientX - newWidth / 2;\r\n        cropperPosition.x2 = moveStart.clientX + newWidth / 2;\r\n        cropperPosition.y1 = moveStart.clientY - newHeight / 2;\r\n        cropperPosition.y2 = moveStart.clientY + newHeight / 2;\r\n        if (cropperPosition.x1 < 0) {\r\n          cropperPosition.x2 -= cropperPosition.x1;\r\n          cropperPosition.x1 = 0;\r\n        } else if (cropperPosition.x2 > maxSize.width) {\r\n          cropperPosition.x1 -= (cropperPosition.x2 - maxSize.width);\r\n          cropperPosition.x2 = maxSize.width;\r\n        }\r\n        if (cropperPosition.y1 < 0) {\r\n          cropperPosition.y2 -= cropperPosition.y1;\r\n          cropperPosition.y1 = 0;\r\n        } else if (cropperPosition.y2 > maxSize.height) {\r\n          cropperPosition.y1 -= (cropperPosition.y2 - maxSize.height);\r\n          cropperPosition.y2 = maxSize.height;\r\n        }\r\n        break;\r\n    }\r\n\r\n    if (settings.maintainAspectRatio) {\r\n      this.checkAspectRatio(moveStart.position, cropperPosition, maxSize, settings);\r\n    }\r\n  }\r\n\r\n  checkAspectRatio(position: string, cropperPosition: CropperPosition, maxSize: Dimensions, settings: CropperSettings): void {\r\n    let overflowX = 0;\r\n    let overflowY = 0;\r\n\r\n    switch (position) {\r\n      case 'top':\r\n        cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n        overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'bottom':\r\n        cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n        overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : (overflowX / settings.aspectRatio);\r\n        }\r\n        break;\r\n      case 'topleft':\r\n        cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        overflowX = Math.max(0 - cropperPosition.x1, 0);\r\n        overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'topright':\r\n        cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        overflowY = Math.max(0 - cropperPosition.y1, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'right':\r\n      case 'bottomright':\r\n        cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'left':\r\n      case 'bottomleft':\r\n        cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        overflowX = Math.max(0 - cropperPosition.x1, 0);\r\n        overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n        if (overflowX > 0 || overflowY > 0) {\r\n          cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\r\n          cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\r\n        }\r\n        break;\r\n      case 'center':\r\n        cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\r\n        cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\r\n        const overflowX1 = Math.max(0 - cropperPosition.x1, 0);\r\n        const overflowX2 = Math.max(cropperPosition.x2 - maxSize.width, 0);\r\n        const overflowY1 = Math.max(cropperPosition.y2 - maxSize.height, 0);\r\n        const overflowY2 = Math.max(0 - cropperPosition.y1, 0);\r\n        if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\r\n          cropperPosition.x1 += (overflowY1 * settings.aspectRatio) > overflowX1 ? (overflowY1 * settings.aspectRatio) : overflowX1;\r\n          cropperPosition.x2 -= (overflowY2 * settings.aspectRatio) > overflowX2 ? (overflowY2 * settings.aspectRatio) : overflowX2;\r\n          cropperPosition.y1 += (overflowY2 * settings.aspectRatio) > overflowX2 ? overflowY2 : overflowX2 / settings.aspectRatio;\r\n          cropperPosition.y2 -= (overflowY1 * settings.aspectRatio) > overflowX1 ? overflowY1 : overflowX1 / settings.aspectRatio;\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  getClientX(event: any): number {\r\n    return (event.touches && event.touches[0] ? event.touches[0].clientX : event.clientX) || 0;\r\n  }\r\n\r\n  getClientY(event: any): number {\r\n    return (event.touches && event.touches[0] ? event.touches[0].clientY : event.clientY) || 0;\r\n  }\r\n}\r\n","import { ExifTransform } from '../interfaces/exif-transform.interface';\r\n\r\n// Black 2x1 JPEG, with the following meta information set:\r\n// - EXIF Orientation: 6 (Rotated 90° CCW)\r\n// Source: https://github.com/blueimp/JavaScript-Load-Image\r\nconst testAutoOrientationImageURL =\r\n  'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\r\n  'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\r\n  'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\r\n  'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\r\n  'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\r\n  'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\r\n\r\nexport function supportsAutomaticRotation(): Promise<boolean> {\r\n  return new Promise((resolve) => {\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      // Check if browser supports automatic image orientation:\r\n      const supported = img.width === 1 && img.height === 2;\r\n      resolve(supported);\r\n    };\r\n    img.src = testAutoOrientationImageURL;\r\n  });\r\n}\r\n\r\nexport function getTransformationsFromExifData(exifRotationOrBase64Image: number | string): ExifTransform {\r\n  if (typeof exifRotationOrBase64Image === 'string') {\r\n    exifRotationOrBase64Image = getExifRotation(exifRotationOrBase64Image);\r\n  }\r\n  switch (exifRotationOrBase64Image) {\r\n    case 2:\r\n      return {rotate: 0, flip: true};\r\n    case 3:\r\n      return {rotate: 2, flip: false};\r\n    case 4:\r\n      return {rotate: 2, flip: true};\r\n    case 5:\r\n      return {rotate: 1, flip: true};\r\n    case 6:\r\n      return {rotate: 1, flip: false};\r\n    case 7:\r\n      return {rotate: 3, flip: true};\r\n    case 8:\r\n      return {rotate: 3, flip: false};\r\n    default:\r\n      return {rotate: 0, flip: false};\r\n  }\r\n}\r\n\r\nfunction getExifRotation(imageBase64: string): number {\r\n  const view = new DataView(base64ToArrayBuffer(imageBase64));\r\n  if (view.getUint16(0, false) != 0xFFD8) {\r\n    return -2;\r\n  }\r\n  const length = view.byteLength;\r\n  let offset = 2;\r\n  while (offset < length) {\r\n    if (view.getUint16(offset + 2, false) <= 8) return -1;\r\n    const marker = view.getUint16(offset, false);\r\n    offset += 2;\r\n    if (marker == 0xFFE1) {\r\n      if (view.getUint32(offset += 2, false) != 0x45786966) {\r\n        return -1;\r\n      }\r\n\r\n      const little = view.getUint16(offset += 6, false) == 0x4949;\r\n      offset += view.getUint32(offset + 4, little);\r\n      const tags = view.getUint16(offset, little);\r\n      offset += 2;\r\n      for (let i = 0; i < tags; i++) {\r\n        if (view.getUint16(offset + (i * 12), little) == 0x0112) {\r\n          return view.getUint16(offset + (i * 12) + 8, little);\r\n        }\r\n      }\r\n    } else if ((marker & 0xFF00) != 0xFF00) {\r\n      break;\r\n    } else {\r\n      offset += view.getUint16(offset, false);\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nfunction base64ToArrayBuffer(imageBase64: string) {\r\n  imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\r\n  const binaryString = atob(imageBase64);\r\n  const len = binaryString.length;\r\n  const bytes = new Uint8Array(len);\r\n  for (let i = 0; i < len; i++) {\r\n    bytes[i] = binaryString.charCodeAt(i);\r\n  }\r\n  return bytes.buffer;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Dimensions, LoadedImage } from '../interfaces';\r\nimport { CropperSettings } from '../interfaces/cropper.settings';\r\nimport { ExifTransform } from '../interfaces/exif-transform.interface';\r\nimport { getTransformationsFromExifData, supportsAutomaticRotation } from '../utils/exif.utils';\r\n\r\ninterface LoadImageBase64 {\r\n  originalImage: HTMLImageElement;\r\n  originalBase64: string;\r\n}\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class LoadImageService {\r\n\r\n  private autoRotateSupported: Promise<boolean> = supportsAutomaticRotation();\r\n\r\n  loadImageFile(file: File, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    return new Promise((resolve, reject) => {\r\n      const fileReader = new FileReader();\r\n      fileReader.onload = (event: any) => {\r\n        this.loadImage(event.target.result, file.type, cropperSettings)\r\n          .then(resolve)\r\n          .catch(reject);\r\n      };\r\n      fileReader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  private loadImage(imageBase64: string, imageType: string, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    if (!this.isValidImageType(imageType)) {\r\n      return Promise.reject(new Error('Invalid image type'));\r\n    }\r\n    return this.loadBase64Image(imageBase64, cropperSettings);\r\n  }\r\n\r\n  private isValidImageType(type: string): boolean {\r\n    return /image\\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(type);\r\n  }\r\n\r\n  loadImageFromURL(url: string, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    return new Promise((resolve, reject) => {\r\n      const img = new Image();\r\n      img.onerror = () => reject;\r\n      img.onload = () => {\r\n        const canvas = document.createElement('canvas');\r\n        const context = canvas.getContext('2d');\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n        context.drawImage(img, 0, 0);\r\n        this.loadBase64Image(canvas.toDataURL(), cropperSettings).then(resolve);\r\n      };\r\n      img.crossOrigin = 'anonymous';\r\n      img.src = url;\r\n    });\r\n  }\r\n\r\n  loadBase64Image(imageBase64: string, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    return new Promise<LoadImageBase64>((resolve, reject) => {\r\n      const originalImage = new Image();\r\n      originalImage.onload = () => resolve({\r\n        originalImage,\r\n        originalBase64: imageBase64\r\n      });\r\n      originalImage.onerror = reject;\r\n      originalImage.src = imageBase64;\r\n    }).then((res: LoadImageBase64) => this.transformImageBase64(res, cropperSettings));\r\n  }\r\n\r\n  private async transformImageBase64(res: LoadImageBase64, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    const autoRotate = await this.autoRotateSupported;\r\n    const exifTransform = await getTransformationsFromExifData(autoRotate ? -1 : res.originalBase64);\r\n    if (!res.originalImage || !res.originalImage.complete) {\r\n      return Promise.reject(new Error('No image loaded'));\r\n    }\r\n    const loadedImage = {\r\n      original: {\r\n        base64: res.originalBase64,\r\n        image: res.originalImage,\r\n        size: {\r\n          width: res.originalImage.naturalWidth,\r\n          height: res.originalImage.naturalHeight\r\n        }\r\n      },\r\n      exifTransform\r\n    };\r\n    return this.transformLoadedImage(loadedImage, cropperSettings);\r\n  }\r\n\r\n  async transformLoadedImage(loadedImage: Partial<LoadedImage>, cropperSettings: CropperSettings): Promise<LoadedImage> {\r\n    const canvasRotation = cropperSettings.canvasRotation + loadedImage.exifTransform.rotate;\r\n    const originalSize = {\r\n      width: loadedImage.original.image.naturalWidth,\r\n      height: loadedImage.original.image.naturalHeight\r\n    };\r\n    if (canvasRotation === 0 && !loadedImage.exifTransform.flip && !cropperSettings.containWithinAspectRatio) {\r\n      return {\r\n        original: {\r\n          base64: loadedImage.original.base64,\r\n          image: loadedImage.original.image,\r\n          size: {...originalSize}\r\n        },\r\n        transformed: {\r\n          base64: loadedImage.original.base64,\r\n          image: loadedImage.original.image,\r\n          size: {...originalSize}\r\n        },\r\n        exifTransform: loadedImage.exifTransform\r\n      };\r\n    }\r\n\r\n    const transformedSize = this.getTransformedSize(originalSize, loadedImage.exifTransform, cropperSettings);\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = transformedSize.width;\r\n    canvas.height = transformedSize.height;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.setTransform(\r\n      loadedImage.exifTransform.flip ? -1 : 1,\r\n      0,\r\n      0,\r\n      1,\r\n      canvas.width / 2,\r\n      canvas.height / 2\r\n    );\r\n    ctx.rotate(Math.PI * (canvasRotation / 2));\r\n    ctx.drawImage(\r\n      loadedImage.original.image,\r\n      -originalSize.width / 2,\r\n      -originalSize.height / 2\r\n    );\r\n    const transformedBase64 = canvas.toDataURL();\r\n    const transformedImage = await this.loadImageFromBase64(transformedBase64);\r\n    return {\r\n      original: {\r\n        base64: loadedImage.original.base64,\r\n        image: loadedImage.original.image,\r\n        size: {...originalSize}\r\n      },\r\n      transformed: {\r\n        base64: transformedBase64,\r\n        image: transformedImage,\r\n        size: {\r\n          width: transformedImage.width,\r\n          height: transformedImage.height\r\n        }\r\n      },\r\n      exifTransform: loadedImage.exifTransform\r\n    };\r\n  }\r\n\r\n  private loadImageFromBase64(imageBase64: string): Promise<HTMLImageElement> {\r\n    return new Promise<HTMLImageElement>(((resolve, reject) => {\r\n      const image = new Image();\r\n      image.onload = () => resolve(image);\r\n      image.onerror = reject;\r\n      image.src = imageBase64;\r\n    }));\r\n  }\r\n\r\n  private getTransformedSize(\r\n    originalSize: { width: number, height: number },\r\n    exifTransform: ExifTransform,\r\n    cropperSettings: CropperSettings\r\n  ): Dimensions {\r\n    const canvasRotation = cropperSettings.canvasRotation + exifTransform.rotate;\r\n    if (cropperSettings.containWithinAspectRatio) {\r\n      if (canvasRotation % 2) {\r\n        const minWidthToContain = originalSize.width * cropperSettings.aspectRatio;\r\n        const minHeightToContain = originalSize.height / cropperSettings.aspectRatio;\r\n        return {\r\n          width: Math.max(originalSize.height, minWidthToContain),\r\n          height: Math.max(originalSize.width, minHeightToContain)\r\n        };\r\n      } else {\r\n        const minWidthToContain = originalSize.height * cropperSettings.aspectRatio;\r\n        const minHeightToContain = originalSize.width / cropperSettings.aspectRatio;\r\n        return {\r\n          width: Math.max(originalSize.width, minWidthToContain),\r\n          height: Math.max(originalSize.height, minHeightToContain)\r\n        };\r\n      }\r\n    }\r\n\r\n    if (canvasRotation % 2) {\r\n      return {\r\n        height: originalSize.width,\r\n        width: originalSize.height\r\n      };\r\n    }\r\n    return {\r\n      width: originalSize.width,\r\n      height: originalSize.height\r\n    };\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  isDevMode,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { DomSanitizer, SafeStyle, SafeUrl } from '@angular/platform-browser';\r\nimport { CropperPosition, Dimensions, ImageCroppedEvent, ImageTransform, LoadedImage, MoveStart } from '../interfaces';\r\nimport { MoveTypes } from '../interfaces/move-start.interface';\r\nimport { HammerStatic } from '../utils/hammer.utils';\r\nimport { CropService } from '../services/crop.service';\r\nimport { CropperSettings } from '../interfaces/cropper.settings';\r\nimport { LoadImageService } from '../services/load-image.service';\r\nimport { OutputFormat } from '../interfaces/cropper-options.interface';\r\nimport { CropperPositionService } from '../services/cropper-position.service';\r\nimport { getEventForKey, getInvertedPositionForKey, getPositionForKey } from '../utils/keyboard.utils';\r\n\r\n@Component({\r\n  selector: 'image-cropper',\r\n  templateUrl: './image-cropper.component.html',\r\n  styleUrls: ['./image-cropper.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ImageCropperComponent implements OnChanges, OnInit {\r\n  private Hammer: HammerStatic = typeof window !== 'undefined'\r\n    ? (window as any).Hammer as HammerStatic\r\n    : null;\r\n  private settings = new CropperSettings();\r\n  private setImageMaxSizeRetries = 0;\r\n  private moveStart: MoveStart;\r\n  private loadedImage: LoadedImage;\r\n\r\n  safeImgDataUrl: SafeUrl | string;\r\n  safeTransformStyle: SafeStyle | string;\r\n  marginLeft: SafeStyle | string = '0px';\r\n  maxSize: Dimensions;\r\n  moveTypes = MoveTypes;\r\n  imageVisible = false;\r\n\r\n  @ViewChild('wrapper', {static: true}) wrapper: ElementRef<HTMLDivElement>;\r\n  @ViewChild('sourceImage', {static: false}) sourceImage: ElementRef<HTMLDivElement>;\r\n\r\n  @Input() imageChangedEvent: any;\r\n  @Input() imageURL: string;\r\n  @Input() imageBase64: string;\r\n  @Input() imageFile: File;\r\n\r\n  @Input() format: OutputFormat = this.settings.format;\r\n  @Input() transform: ImageTransform = {};\r\n  @Input() maintainAspectRatio = this.settings.maintainAspectRatio;\r\n  @Input() aspectRatio = this.settings.aspectRatio;\r\n  @Input() resizeToWidth = this.settings.resizeToWidth;\r\n  @Input() resizeToHeight = this.settings.resizeToHeight;\r\n  @Input() cropperMinWidth = this.settings.cropperMinWidth;\r\n  @Input() cropperMinHeight = this.settings.cropperMinHeight;\r\n  @Input() cropperMaxHeight = this.settings.cropperMaxHeight;\r\n  @Input() cropperMaxWidth = this.settings.cropperMaxWidth;\r\n  @Input() cropperStaticWidth = this.settings.cropperStaticWidth;\r\n  @Input() cropperStaticHeight = this.settings.cropperStaticHeight;\r\n  @Input() canvasRotation = this.settings.canvasRotation;\r\n  @Input() initialStepSize = this.settings.initialStepSize;\r\n  @Input() roundCropper = this.settings.roundCropper;\r\n  @Input() onlyScaleDown = this.settings.onlyScaleDown;\r\n  @Input() imageQuality = this.settings.imageQuality;\r\n  @Input() autoCrop = this.settings.autoCrop;\r\n  @Input() backgroundColor = this.settings.backgroundColor;\r\n  @Input() containWithinAspectRatio = this.settings.containWithinAspectRatio;\r\n  @Input() hideResizeSquares = this.settings.hideResizeSquares;\r\n  @Input() cropper: CropperPosition = {\r\n    x1: -100,\r\n    y1: -100,\r\n    x2: 10000,\r\n    y2: 10000\r\n  };\r\n  @HostBinding('style.text-align')\r\n  @Input() alignImage: 'left' | 'center' = this.settings.alignImage;\r\n  @HostBinding('class.disabled')\r\n  @Input() disabled = false;\r\n\r\n  @Output() imageCropped = new EventEmitter<ImageCroppedEvent>();\r\n  @Output() startCropImage = new EventEmitter<void>();\r\n  @Output() imageLoaded = new EventEmitter<LoadedImage>();\r\n  @Output() cropperReady = new EventEmitter<Dimensions>();\r\n  @Output() loadImageFailed = new EventEmitter<void>();\r\n\r\n  constructor(\r\n    private cropService: CropService,\r\n    private cropperPositionService: CropperPositionService,\r\n    private loadImageService: LoadImageService,\r\n    private sanitizer: DomSanitizer,\r\n    private cd: ChangeDetectorRef\r\n  ) {\r\n    this.reset();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.onChangesUpdateSettings(changes);\r\n    this.onChangesInputImage(changes);\r\n\r\n    if (this.loadedImage && this.loadedImage.original.image.complete\r\n      && (changes.containWithinAspectRatio || changes.canvasRotation)) {\r\n      this.loadImageService\r\n        .transformLoadedImage(this.loadedImage, this.settings)\r\n        .then((res) => this.setLoadedImage(res))\r\n        .catch((err) => this.loadImageError(err));\r\n    }\r\n    if (changes.cropper || changes.maintainAspectRatio || changes.aspectRatio) {\r\n      this.setMaxSize();\r\n      this.setCropperScaledMinSize();\r\n      this.setCropperScaledMaxSize();\r\n      if (this.maintainAspectRatio && (changes.maintainAspectRatio || changes.aspectRatio)) {\r\n        this.resetCropperPosition();\r\n      } else if (changes.cropper) {\r\n        this.checkCropperPosition(false);\r\n        this.doAutoCrop();\r\n      }\r\n      this.cd.markForCheck();\r\n    }\r\n    if (changes.transform) {\r\n      this.transform = this.transform || {};\r\n      this.setCssTransform();\r\n      this.doAutoCrop();\r\n    }\r\n  }\r\n\r\n  private onChangesUpdateSettings(changes: SimpleChanges) {\r\n    this.settings.setOptionsFromChanges(changes);\r\n\r\n    if (this.settings.cropperStaticHeight && this.settings.cropperStaticWidth) {\r\n      this.settings.setOptions({\r\n        hideResizeSquares: true,\r\n        cropperMinWidth: this.settings.cropperStaticWidth,\r\n        cropperMinHeight: this.settings.cropperStaticHeight,\r\n        cropperMaxHeight: this.settings.cropperStaticHeight,\r\n        cropperMaxWidth: this.settings.cropperStaticWidth,\r\n        maintainAspectRatio: false\r\n      });\r\n    }\r\n  }\r\n\r\n  private onChangesInputImage(changes: SimpleChanges): void {\r\n    if (changes.imageChangedEvent || changes.imageURL || changes.imageBase64 || changes.imageFile) {\r\n      this.reset();\r\n    }\r\n    if (changes.imageChangedEvent && this.isValidImageChangedEvent()) {\r\n      this.loadImageFile(this.imageChangedEvent.target.files[0]);\r\n    }\r\n    if (changes.imageURL && this.imageURL) {\r\n      this.loadImageFromURL(this.imageURL);\r\n    }\r\n    if (changes.imageBase64 && this.imageBase64) {\r\n      this.loadBase64Image(this.imageBase64);\r\n    }\r\n    if (changes.imageFile && this.imageFile) {\r\n      this.loadImageFile(this.imageFile);\r\n    }\r\n  }\r\n\r\n  private isValidImageChangedEvent(): boolean {\r\n    return this.imageChangedEvent\r\n      && this.imageChangedEvent.target\r\n      && this.imageChangedEvent.target.files\r\n      && this.imageChangedEvent.target.files.length > 0;\r\n  }\r\n\r\n  private setCssTransform() {\r\n    this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle(\r\n      'scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\r\n      'scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\r\n      'rotate(' + (this.transform.rotate || 0) + 'deg)'\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.settings.stepSize = this.initialStepSize;\r\n    this.activatePinchGesture();\r\n  }\r\n\r\n  private reset(): void {\r\n    this.imageVisible = false;\r\n    this.loadedImage = null;\r\n    this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\r\n      + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\r\n      + 'AAarVyFEAAAAASUVORK5CYII=';\r\n    this.moveStart = {\r\n      active: false,\r\n      type: null,\r\n      position: null,\r\n      x1: 0,\r\n      y1: 0,\r\n      x2: 0,\r\n      y2: 0,\r\n      clientX: 0,\r\n      clientY: 0\r\n    };\r\n    this.maxSize = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    this.cropper.x1 = -100;\r\n    this.cropper.y1 = -100;\r\n    this.cropper.x2 = 10000;\r\n    this.cropper.y2 = 10000;\r\n  }\r\n\r\n  private loadImageFile(file: File): void {\r\n    this.loadImageService\r\n      .loadImageFile(file, this.settings)\r\n      .then((res) => this.setLoadedImage(res))\r\n      .catch((err) => this.loadImageError(err));\r\n  }\r\n\r\n  private loadBase64Image(imageBase64: string): void {\r\n    this.loadImageService\r\n      .loadBase64Image(imageBase64, this.settings)\r\n      .then((res) => this.setLoadedImage(res))\r\n      .catch((err) => this.loadImageError(err));\r\n  }\r\n\r\n  private loadImageFromURL(url: string): void {\r\n    this.loadImageService\r\n      .loadImageFromURL(url, this.settings)\r\n      .then((res) => this.setLoadedImage(res))\r\n      .catch((err) => this.loadImageError(err));\r\n  }\r\n\r\n  private setLoadedImage(loadedImage: LoadedImage): void {\r\n    this.loadedImage = loadedImage;\r\n    this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(loadedImage.transformed.base64);\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  private loadImageError(error: any): void {\r\n    console.error(error);\r\n    this.loadImageFailed.emit();\r\n  }\r\n\r\n  imageLoadedInView(): void {\r\n    if (this.loadedImage != null) {\r\n      this.imageLoaded.emit(this.loadedImage);\r\n      this.setImageMaxSizeRetries = 0;\r\n      setTimeout(() => this.checkImageMaxSizeRecursively());\r\n    }\r\n  }\r\n\r\n  private checkImageMaxSizeRecursively(): void {\r\n    if (this.setImageMaxSizeRetries > 40) {\r\n      this.loadImageFailed.emit();\r\n    } else if (this.sourceImageLoaded()) {\r\n      this.setMaxSize();\r\n      this.setCropperScaledMinSize();\r\n      this.setCropperScaledMaxSize();\r\n      this.resetCropperPosition();\r\n      this.cropperReady.emit({...this.maxSize});\r\n      this.cd.markForCheck();\r\n    } else {\r\n      this.setImageMaxSizeRetries++;\r\n      setTimeout(() => this.checkImageMaxSizeRecursively(), 50);\r\n    }\r\n  }\r\n\r\n  private sourceImageLoaded(): boolean {\r\n    return this.sourceImage && this.sourceImage.nativeElement && this.sourceImage.nativeElement.offsetWidth > 0;\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  onResize(): void {\r\n    if (!this.loadedImage) {\r\n      return;\r\n    }\r\n    this.resizeCropperPosition();\r\n    this.setMaxSize();\r\n    this.setCropperScaledMinSize();\r\n    this.setCropperScaledMaxSize();\r\n  }\r\n\r\n  private activatePinchGesture() {\r\n    if (this.Hammer) {\r\n      const hammer = new this.Hammer(this.wrapper.nativeElement);\r\n      hammer.get('pinch').set({enable: true});\r\n      hammer.on('pinchmove', this.onPinch.bind(this));\r\n      hammer.on('pinchend', this.pinchStop.bind(this));\r\n      hammer.on('pinchstart', this.startPinch.bind(this));\r\n    } else if (isDevMode()) {\r\n      console.warn('[NgxImageCropper] Could not find HammerJS - Pinch Gesture won\\'t work');\r\n    }\r\n  }\r\n\r\n  private resizeCropperPosition(): void {\r\n    const sourceImageElement = this.sourceImage.nativeElement;\r\n    if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\r\n      this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\r\n      this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\r\n      this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\r\n      this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\r\n    }\r\n  }\r\n\r\n  resetCropperPosition(): void {\r\n    this.cropperPositionService.resetCropperPosition(this.sourceImage, this.cropper, this.settings);\r\n    this.doAutoCrop();\r\n    this.imageVisible = true;\r\n  }\r\n\r\n  keyboardAccess(event: any) {\r\n    this.changeKeyboardStepSize(event);\r\n    this.keyboardMoveCropper(event);\r\n  }\r\n\r\n  private changeKeyboardStepSize(event: any): void {\r\n    if (event.key >= '1' && event.key <= '9') {\r\n      this.settings.stepSize = +event.key;\r\n      return;\r\n    }\r\n  }\r\n\r\n  private keyboardMoveCropper(event) {\r\n    const keyboardWhiteList: string[] = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\r\n    if (!(keyboardWhiteList.includes(event.key))) {\r\n      return;\r\n    }\r\n    const moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\r\n    const position = event.altKey ? getInvertedPositionForKey(event.key) : getPositionForKey(event.key);\r\n    const moveEvent = getEventForKey(event.key, this.settings.stepSize);\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.startMove({clientX: 0, clientY: 0}, moveType, position);\r\n    this.moveImg(moveEvent);\r\n    this.moveStop();\r\n  }\r\n\r\n  startMove(event: any, moveType: MoveTypes, position: string | null = null): void {\r\n    if (this.moveStart && this.moveStart.active && this.moveStart.type === MoveTypes.Pinch) {\r\n      return;\r\n    }\r\n    if (event.preventDefault) {\r\n      event.preventDefault();\r\n    }\r\n    this.moveStart = {\r\n      active: true,\r\n      type: moveType,\r\n      position,\r\n      clientX: this.cropperPositionService.getClientX(event),\r\n      clientY: this.cropperPositionService.getClientY(event),\r\n      ...this.cropper\r\n    };\r\n  }\r\n\r\n  startPinch(event: any) {\r\n    if (!this.safeImgDataUrl) {\r\n      return;\r\n    }\r\n    if (event.preventDefault) {\r\n      event.preventDefault();\r\n    }\r\n    this.moveStart = {\r\n      active: true,\r\n      type: MoveTypes.Pinch,\r\n      position: 'center',\r\n      clientX: this.cropper.x1 + (this.cropper.x2 - this.cropper.x1) / 2,\r\n      clientY: this.cropper.y1 + (this.cropper.y2 - this.cropper.y1) / 2,\r\n      ...this.cropper\r\n    };\r\n  }\r\n\r\n  @HostListener('document:mousemove', ['$event'])\r\n  @HostListener('document:touchmove', ['$event'])\r\n  moveImg(event: any): void {\r\n    if (this.moveStart.active) {\r\n      if (event.stopPropagation) {\r\n        event.stopPropagation();\r\n      }\r\n      if (event.preventDefault) {\r\n        event.preventDefault();\r\n      }\r\n      if (this.moveStart.type === MoveTypes.Move) {\r\n        this.cropperPositionService.move(event, this.moveStart, this.cropper);\r\n        this.checkCropperPosition(true);\r\n      } else if (this.moveStart.type === MoveTypes.Resize) {\r\n        if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\r\n          this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\r\n        }\r\n        this.checkCropperPosition(false);\r\n      }\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n\r\n  onPinch(event: any) {\r\n    if (this.moveStart.active) {\r\n      if (event.stopPropagation) {\r\n        event.stopPropagation();\r\n      }\r\n      if (event.preventDefault) {\r\n        event.preventDefault();\r\n      }\r\n      if (this.moveStart.type === MoveTypes.Pinch) {\r\n        this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\r\n        this.checkCropperPosition(false);\r\n      }\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n\r\n  private setMaxSize(): void {\r\n    if (this.sourceImage) {\r\n      const sourceImageElement = this.sourceImage.nativeElement;\r\n      this.maxSize.width = sourceImageElement.offsetWidth;\r\n      this.maxSize.height = sourceImageElement.offsetHeight;\r\n      this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\r\n    }\r\n  }\r\n\r\n  private setCropperScaledMinSize(): void {\r\n    if (this.loadedImage && this.loadedImage.transformed && this.loadedImage.transformed.image) {\r\n      this.setCropperScaledMinWidth();\r\n      this.setCropperScaledMinHeight();\r\n    } else {\r\n      this.settings.cropperScaledMinWidth = 20;\r\n      this.settings.cropperScaledMinHeight = 20;\r\n    }\r\n  }\r\n\r\n  private setCropperScaledMinWidth(): void {\r\n    this.settings.cropperScaledMinWidth = this.cropperMinWidth > 0\r\n      ? Math.max(20, this.cropperMinWidth / this.loadedImage.transformed.image.width * this.maxSize.width)\r\n      : 20;\r\n  }\r\n\r\n  private setCropperScaledMinHeight(): void {\r\n    if (this.maintainAspectRatio) {\r\n      this.settings.cropperScaledMinHeight = Math.max(20, this.settings.cropperScaledMinWidth / this.aspectRatio);\r\n    } else if (this.cropperMinHeight > 0) {\r\n      this.settings.cropperScaledMinHeight = Math.max(\r\n        20,\r\n        this.cropperMinHeight / this.loadedImage.transformed.image.height * this.maxSize.height\r\n      );\r\n    } else {\r\n      this.settings.cropperScaledMinHeight = 20;\r\n    }\r\n  }\r\n\r\n  private setCropperScaledMaxSize(): void {\r\n    if (this.loadedImage && this.loadedImage.transformed && this.loadedImage.transformed.image) {\r\n      const ratio = this.loadedImage.transformed.size.width / this.maxSize.width;\r\n      this.settings.cropperScaledMaxWidth = this.cropperMaxWidth > 20 ? this.cropperMaxWidth / ratio : this.maxSize.width;\r\n      this.settings.cropperScaledMaxHeight = this.cropperMaxHeight > 20 ? this.cropperMaxHeight / ratio : this.maxSize.height;\r\n      if (this.maintainAspectRatio) {\r\n        if (this.settings.cropperScaledMaxWidth > this.settings.cropperScaledMaxHeight * this.aspectRatio) {\r\n          this.settings.cropperScaledMaxWidth = this.settings.cropperScaledMaxHeight * this.aspectRatio;\r\n        } else if (this.settings.cropperScaledMaxWidth < this.settings.cropperScaledMaxHeight * this.aspectRatio) {\r\n          this.settings.cropperScaledMaxHeight = this.settings.cropperScaledMaxWidth / this.aspectRatio;\r\n        }\r\n      }\r\n    } else {\r\n      this.settings.cropperScaledMaxWidth = this.maxSize.width;\r\n      this.settings.cropperScaledMaxHeight = this.maxSize.height;\r\n    }\r\n  }\r\n\r\n  private checkCropperPosition(maintainSize = false): void {\r\n    if (this.cropper.x1 < 0) {\r\n      this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\r\n      this.cropper.x1 = 0;\r\n    }\r\n    if (this.cropper.y1 < 0) {\r\n      this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\r\n      this.cropper.y1 = 0;\r\n    }\r\n    if (this.cropper.x2 > this.maxSize.width) {\r\n      this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\r\n      this.cropper.x2 = this.maxSize.width;\r\n    }\r\n    if (this.cropper.y2 > this.maxSize.height) {\r\n      this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\r\n      this.cropper.y2 = this.maxSize.height;\r\n    }\r\n  }\r\n\r\n  @HostListener('document:mouseup')\r\n  @HostListener('document:touchend')\r\n  moveStop(): void {\r\n    if (this.moveStart.active) {\r\n      this.moveStart.active = false;\r\n      this.doAutoCrop();\r\n    }\r\n  }\r\n\r\n  pinchStop(): void {\r\n    if (this.moveStart.active) {\r\n      this.moveStart.active = false;\r\n      this.doAutoCrop();\r\n    }\r\n  }\r\n\r\n  private doAutoCrop(): void {\r\n    if (this.autoCrop) {\r\n      this.crop();\r\n    }\r\n  }\r\n\r\n  crop(): ImageCroppedEvent | null {\r\n    if (this.sourceImage && this.sourceImage.nativeElement && this.loadedImage.transformed.image != null) {\r\n      this.startCropImage.emit();\r\n      const output = this.cropService.crop(this.sourceImage, this.loadedImage, this.cropper, this.settings);\r\n      if (output != null) {\r\n        this.imageCropped.emit(output);\r\n      }\r\n      return output;\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","<div [style.background]=\"imageVisible && backgroundColor\"\r\n     #wrapper\r\n>\r\n    <img\r\n      #sourceImage\r\n      class=\"source-image\"\r\n      *ngIf=\"safeImgDataUrl\"\r\n      [src]=\"safeImgDataUrl\"\r\n      [style.visibility]=\"imageVisible ? 'visible' : 'hidden'\"\r\n      [style.transform]=\"safeTransformStyle\"\r\n      (load)=\"imageLoadedInView()\"\r\n    />\r\n    <div\r\n        class=\"overlay\"\r\n        [style.width.px]=\"maxSize.width\"\r\n        [style.height.px]=\"maxSize.height\"\r\n        [style.margin-left]=\"alignImage === 'center' ? marginLeft : null\"\r\n    ></div>\r\n    <div class=\"cropper\"\r\n         *ngIf=\"imageVisible\"\r\n         [class.rounded]=\"roundCropper\"\r\n         [style.top.px]=\"cropper.y1\"\r\n         [style.left.px]=\"cropper.x1\"\r\n         [style.width.px]=\"cropper.x2 - cropper.x1\"\r\n         [style.height.px]=\"cropper.y2 - cropper.y1\"\r\n         [style.margin-left]=\"alignImage === 'center' ? marginLeft : null\"\r\n         [style.visibility]=\"imageVisible ? 'visible' : 'hidden'\"\r\n         (keydown)=\"keyboardAccess($event)\"\r\n         tabindex=\"0\"\r\n    >\r\n        <div\r\n            (mousedown)=\"startMove($event, moveTypes.Move)\"\r\n            (touchstart)=\"startMove($event, moveTypes.Move)\"\r\n            class=\"move\">\r\n        </div>\r\n        <ng-container *ngIf=\"!hideResizeSquares\">\r\n            <span class=\"resize topleft\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'topleft')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'topleft')\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize top\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize topright\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'topright')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'topright')\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize right\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize bottomright\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'bottomright')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'bottomright')\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize bottom\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize bottomleft\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'bottomleft')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'bottomleft')\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize left\">\r\n                <span class=\"square\"></span>\r\n            </span>\r\n            <span class=\"resize-bar top\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'top')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'top')\">\r\n            </span>\r\n            <span class=\"resize-bar right\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'right')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'right')\">\r\n            </span>\r\n            <span class=\"resize-bar bottom\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'bottom')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'bottom')\">\r\n            </span>\r\n            <span class=\"resize-bar left\"\r\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'left')\"\r\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'left')\">\r\n            </span>\r\n        </ng-container>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VImageField } from '../../models';\r\nimport { Dimensions, ImageCroppedEvent, ImageTransform } from './image-cropper/interfaces';\r\n\r\n@Component({\r\n  selector: 'app-image-field',\r\n  templateUrl: './v-image-field.component.html',\r\n  styleUrls: ['./v-image-field.component.scss']\r\n})\r\nexport class VImageFieldComponent implements OnInit {\r\n    @ViewChild('fileInput', {static: false}) fileInput: ElementRef;\r\n\r\n    field: VImageField;\r\n    group: FormGroup;\r\n    imageChangedEvent: any = '';\r\n    croppedImage: any = '';\r\n    canvasRotation = 0;\r\n    rotation = 0;\r\n    scale = 1;\r\n    showCropper = false;\r\n    containWithinAspectRatio = false;\r\n    transform: ImageTransform = {};\r\n\r\n    file: File;\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    fileChangeEvent(event: any): void {\r\n      this.imageChangedEvent = event;\r\n    }\r\n\r\n    imageCropped(event: ImageCroppedEvent) {\r\n        this.group.controls[this.field.name].setValue(event.base64);\r\n        this.group.controls[this.field.name].markAsTouched();\r\n    }\r\n\r\n    imageLoaded() {\r\n      this.showCropper = true;\r\n    }\r\n\r\n    cropperReady(sourceImageDimensions: Dimensions) {\r\n        // cropper ready\r\n    }\r\n\r\n    loadImageFailed() {\r\n        console.error('Fail to load image');\r\n    }\r\n\r\n    clearCropper() {\r\n      this.imageChangedEvent = '';\r\n      this.group.controls[this.field.name].setValue(null);\r\n      this.group.controls[this.field.name].markAsUntouched();\r\n      this.showCropper = false;\r\n    }\r\n\r\n    onUploadClick() {\r\n      this.fileInput.nativeElement.click();\r\n    }\r\n\r\n    rotateLeft() {\r\n      this.canvasRotation--;\r\n      this.flipAfterRotate();\r\n    }\r\n\r\n    rotateRight() {\r\n        this.canvasRotation++;\r\n        this.flipAfterRotate();\r\n    }\r\n\r\n    private flipAfterRotate() {\r\n        const flippedH = this.transform.flipH;\r\n        const flippedV = this.transform.flipV;\r\n        this.transform = {\r\n            ...this.transform,\r\n            flipH: flippedV,\r\n            flipV: flippedH\r\n        };\r\n    }\r\n\r\n\r\n  flipHorizontal() {\r\n      this.transform = {\r\n          ...this.transform,\r\n          flipH: !this.transform.flipH\r\n      };\r\n  }\r\n\r\n  flipVertical() {\r\n      this.transform = {\r\n          ...this.transform,\r\n          flipV: !this.transform.flipV\r\n      };\r\n  }\r\n\r\n  resetImage() {\r\n      this.scale = 1;\r\n      this.rotation = 0;\r\n      this.canvasRotation = 0;\r\n      this.transform = {};\r\n  }\r\n\r\n  zoomOut() {\r\n      this.scale -= .1;\r\n      this.transform = {\r\n          ...this.transform,\r\n          scale: this.scale\r\n      };\r\n  }\r\n\r\n  zoomIn() {\r\n      this.scale += .1;\r\n      this.transform = {\r\n          ...this.transform,\r\n          scale: this.scale\r\n      };\r\n  }\r\n\r\n  toggleContainWithinAspectRatio() {\r\n      this.containWithinAspectRatio = !this.containWithinAspectRatio;\r\n  }\r\n\r\n  updateRotation() {\r\n      this.transform = {\r\n          ...this.transform,\r\n          rotate: this.rotation\r\n      };\r\n  }\r\n}\r\n","<mat-card class=\"image-cropper\" [formGroup]=\"group\">\r\n    <mat-card-header>\r\n        <mat-card-title>{{field.label}}</mat-card-title>        \r\n        <div>\r\n            <button \r\n                mat-icon-button\r\n                color=\"accent\" \r\n                aria-label=\"Upload Image\"\r\n                matTooltip=\"Загрузить изображение\"\r\n                type=\"button\"\r\n                (click)=\"onUploadClick()\"\r\n            >\r\n                <mat-icon>cloud_download</mat-icon>\r\n            </button>\r\n            <button \r\n                mat-icon-button\r\n                color=\"warn\" \r\n                type=\"button\"\r\n                aria-label=\"Clear Image\"\r\n                matTooltip=\"Очистить\"\r\n                (click)=\"clearCropper()\"\r\n            >\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n        </div>  \r\n    </mat-card-header>\r\n    <mat-divider></mat-divider>\r\n    <div class=\"dashboard-container\">\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Zoom +\" (click)=\"zoomIn()\" [disabled]=\"!showCropper\" matTooltip=\"Увеличить\">\r\n            <mat-icon>add_circle_outline</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Zoom -\" (click)=\"zoomOut()\" [disabled]=\"!showCropper\" matTooltip=\"Уменьшить\">\r\n            <mat-icon>remove_circle_outline</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Rotate left\" (click)=\"rotateLeft()\" [disabled]=\"!showCropper\" matTooltip=\"Повернуть влево\">\r\n            <mat-icon>rotate_left</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Rotate right\" (click)=\"rotateRight()\" [disabled]=\"!showCropper\" matTooltip=\"Повернуть вправо\">\r\n            <mat-icon>rotate_right</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Flip horizontal\" (click)=\"flipHorizontal()\" [disabled]=\"!showCropper\" matTooltip=\"Отразить горизонтально\">\r\n            <mat-icon>border_vertical</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Flip vertical\" (click)=\"flipVertical()\" [disabled]=\"!showCropper\" matTooltip=\"Отразить вертикально\">\r\n            <mat-icon>border_horizontal</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Fill\" (click)=\"toggleContainWithinAspectRatio()\" [disabled]=\"!showCropper\" matTooltip=\"Замостить\">\r\n            <mat-icon *ngIf=\"!containWithinAspectRatio\">zoom_out_map</mat-icon>\r\n            <mat-icon *ngIf=\"containWithinAspectRatio\">fullscreen_exit</mat-icon>\r\n        </button>\r\n        <button type=\"button\" mat-icon-button color=\"primary\" aria-label=\"Reset\" (click)=\"resetImage()\" [disabled]=\"!showCropper\" matTooltip=\"Сбросить преобразования\">\r\n            <mat-icon>cancel_presentation</mat-icon>\r\n        </button>\r\n    </div>\r\n    <mat-divider></mat-divider>\r\n    <mat-card-content>        \r\n        <input type=\"file\" #fileInput (change)=\"fileChangeEvent($event)\" style=\"display:none;\" />\r\n        <image-cropper\r\n            [imageChangedEvent]=\"imageChangedEvent\"\r\n            [maintainAspectRatio]=\"true\"\r\n            [containWithinAspectRatio]=\"containWithinAspectRatio\"\r\n            [aspectRatio] = \"field.imageAspectRatio\"\r\n            [resizeToWidth]=\"field.resizeToWidth\"\r\n            [cropperMinWidth] = \"128\"\r\n            [cropperMinHeight] = \"225\"\r\n            [onlyScaleDown]=\"true\"\r\n            [roundCropper]=\"false\"\r\n            [canvasRotation]=\"canvasRotation\"\r\n            [transform]=\"transform\"\r\n            [alignImage]=\"'center'\"\r\n            [style.display]=\"showCropper ? null : 'none'\"\r\n            format=\"png\"\r\n            (imageCropped)=\"imageCropped($event)\"\r\n            (imageLoaded)=\"imageLoaded()\"\r\n            (cropperReady)=\"cropperReady($event)\"\r\n            (loadImageFailed)=\"loadImageFailed()\"\r\n        ></image-cropper>\r\n    </mat-card-content>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { VImage } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-image',\r\n  templateUrl: './v-image.component.html',\r\n  styleUrls: ['./v-image.component.scss']\r\n})\r\nexport class VImageComponent implements OnInit {\r\n\r\n  field: VImage;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {    \r\n  }\r\n}\r\n","<div class=\"image-wrapper\">\r\n    <img [src]=\"field.url\" alt=\"\">\r\n</div>\r\n\r\n","import { Directive, HostListener } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\n\r\n\r\n@Directive({\r\n  selector: '[trim]'\r\n})\r\nexport class TrimDirective  {\r\n\r\n    constructor(private ngControl: NgControl){}\r\n\r\n    get ctrl() {\r\n       return this.ngControl.control;\r\n    }\r\n\r\n    @HostListener('blur')\r\n    onBlur() {\r\n      this.ctrl.value && this.ctrl.setValue(this.ctrl.value.trim());\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { VInputField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-input-field',\r\n  templateUrl: './v-input-field.component.html',\r\n  styleUrls: ['./v-input-field.component.scss']\r\n})\r\nexport class VInputFieldComponent implements OnInit {\r\n\r\n  field: VInputField;\r\n  group: FormGroup;\r\n\r\n  get control(): FormControl {\r\n    return this.group.get(this.field.name) as FormControl;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  clearField(): void {\r\n    this.control.setValue('');\r\n  }\r\n\r\n  actionClicked(event: any): void {\r\n    this.field.actionHandler(event);\r\n  }\r\n}\r\n","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <span *ngIf=\"field.prefix\" matPrefix>{{field.prefix}} &nbsp;</span>\r\n    <input \r\n        [type]=\"field.type\"\r\n        [formControlName]=\"field.name\"\r\n        [placeholder]=\"field.placeholder\"\r\n        [readonly]=\"field.readonly\"\r\n        matInput\r\n        trim\r\n    />\r\n\r\n    <mat-icon *ngIf=\"field.suffix && !field.actionButton\" matSuffix>{{field.suffix}}</mat-icon>\r\n\r\n    <button *ngIf=\"control.value && field.clearButton\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"clearField()\">\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n\r\n    <button *ngIf=\"field.actionButton\" matSuffix mat-icon-button (click)=\"actionClicked($event)\">\r\n        <mat-icon>{{field.suffix}}</mat-icon>\r\n    </button>\r\n\r\n    <mat-hint *ngIf=\"field.hint\">{{field.hint}}</mat-hint>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>   \r\n</mat-form-field>","import { Component, OnInit } from '@angular/core';\r\nimport { VLabel } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-label',\r\n  templateUrl: './v-label.component.html',\r\n  styleUrls: ['./v-label.component.scss']\r\n})\r\nexport class VLabelComponent implements OnInit {\r\n \r\n  field: VLabel;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<span *ngIf=\"!field.hidden\">{{field.text}}</span>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VList } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-v-list',\r\n  templateUrl: './v-list.component.html',\r\n  styleUrls: ['./v-list.component.scss']\r\n})\r\nexport class VListComponent implements OnInit {\r\n\r\n  field: VList;\r\n  group: FormGroup;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n}\r\n","<ng-container>\r\n  <ng-container>\r\n    <mat-selection-list [multiple]=\"field.multiple\">\r\n      <mat-list-option *ngFor=\"let option of field.options\" [value]=\"option.value\">\r\n        <mat-icon mat-list-icon *ngIf=\"option.data?.icon\">{{option.data?.icon}}</mat-icon>\r\n        <div mat-line>{{option.label}}</div>\r\n        <div mat-line *ngIf=\"option.data?.info\"> {{option.data?.info}} </div>\r\n        <mat-icon\r\n          mat-list-icon\r\n          (click)=\"field.editHandler(option.value)\"\r\n          *ngIf=\"field.editHandler\"\r\n          matTooltip=\"Редактировать\"\r\n          >\r\n          edit_note\r\n        </mat-icon>\r\n        <mat-icon\r\n          mat-list-icon\r\n          (click)=\"field.deleteHandler(option.value)\"\r\n          *ngIf=\"field.deleteHandler\"\r\n          matTooltip=\"Удалить\"\r\n          >\r\n          delete\r\n        </mat-icon>\r\n      </mat-list-option>\r\n    </mat-selection-list>\r\n  </ng-container>\r\n</ng-container>\r\n","import { Directive, HostListener, ElementRef, Input, OnInit } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\n\r\n@Directive({\r\n  selector: 'input[mask]'\r\n})\r\nexport class MaskDirective implements OnInit {\r\n  @Input() mask: string;\r\n\r\n  maskChar: string;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private ngControl: NgControl\r\n    ){}\r\n\r\n    ngOnInit(): void {\r\n      this.maskChar = this.mask ? this.getMaskChar() : null;\r\n    }\r\n\r\n    get ctrl() {\r\n       return this.ngControl.control;\r\n    }\r\n\r\n    @HostListener('keydown', ['$event'])\r\n    onKeyDown(event: KeyboardEvent): boolean {\r\n      const key = event.key;\r\n      return key.length > 1 || /\\d/.test(key);\r\n    }\r\n\r\n    @HostListener('keyup', ['$event'])\r\n    onKeyUp(event:KeyboardEvent): void {      \r\n      const keyCode = this.getCode(event);\r\n      if([37, 39].indexOf(keyCode) !== -1) return;\r\n      this.applyMask();\r\n    }\r\n\r\n    private applyMask(): void {\r\n      if(this.ctrl.value && this.mask) {\r\n        const value = this.ctrl.value.replace(/\\D/g, '');\r\n        \r\n        let newValue = this.mask,\r\n        cursorPos = this.getCursorPosition();\r\n\r\n        for (let i = 0; i < value.length; i++) {\r\n          const idx = newValue.indexOf(this.maskChar);\r\n          newValue = `${newValue.substring(0, idx)}${value[i]}${newValue.substring(idx+1, newValue.length)}`;\r\n        }\r\n\r\n        let idx = newValue.indexOf(this.maskChar);\r\n        if( idx !== -1 ) {      \r\n          newValue = newValue.substring(0, idx);\r\n        }\r\n\r\n        if(!/\\d/.test(newValue[cursorPos]) || cursorPos === 1) {\r\n            cursorPos++;\r\n        }\r\n\r\n        this.ctrl.setValue(newValue, { emitEvent: false });\r\n        this.setCursorPosition(cursorPos);\r\n      }  \r\n    }\r\n\r\n    private getMaskChar(): string {\r\n      const chars = {};\r\n      let maskChar:string, max = 0;\r\n\r\n      for (let i = 0; i < this.mask.length; i++) {\r\n        if(Object.keys(chars).indexOf(this.mask[i]) === -1) {\r\n          chars[this.mask[i]] = 1;\r\n        } else {\r\n          chars[this.mask[i]]++;\r\n        }\r\n        if(chars[this.mask[i]] > max)  {\r\n          max = chars[this.mask[i]];\r\n          maskChar = this.mask[i];\r\n        }\r\n      }\r\n      return maskChar\r\n    }\r\n\r\n    private getCursorPosition(): number {\r\n      return this.el.nativeElement.selectionStart;\r\n    }\r\n\r\n    private setCursorPosition(start: number, end: number = start): void {\r\n        this.el.nativeElement.setSelectionRange(start, end);\r\n    }\r\n\r\n    private getCode(event: KeyboardEvent): number {\r\n      return event.keyCode || event.charCode;\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { VMaskedField } from '../../models/v-masked-field.model';\r\n\r\n@Component({\r\n  selector: 'app-masked-field',\r\n  templateUrl: './v-masked-field.component.html',\r\n  styleUrls: ['./v-masked-field.component.scss']\r\n})\r\nexport class VMaskedFieldComponent implements OnInit {\r\n\r\n  field: VMaskedField;\r\n  group: FormGroup;\r\n\r\n  get control(): FormControl {\r\n    return this.group.get(this.field.name) as FormControl;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  clearField(): void {\r\n    this.control.setValue('');\r\n  }\r\n}\r\n","<mat-form-field [formGroup]=\"group\" [class]=\"{hidden:field.hidden}\">\r\n    <mat-label *ngIf=\"field.label\">{{field.label}}</mat-label>\r\n    <span *ngIf=\"field.prefix\" matPrefix>{{field.prefix}} &nbsp;</span>\r\n    <input \r\n        type=\"text\"\r\n        [formControlName]=\"field.name\"\r\n        [placeholder]=\"field.mask\"\r\n        [maxlength]=\"field.mask?.length\"\r\n        [mask]=\"field.mask\"\r\n        matInput\r\n    />\r\n    <mat-icon *ngIf=\"field.suffix\" matSuffix>{{field.suffix}}</mat-icon>\r\n\r\n    <button *ngIf=\"control.value && field.clearButton\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"clearField()\">\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n\r\n    <mat-hint *ngIf=\"field.hint\">{{field.hint}}</mat-hint>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>   \r\n</mat-form-field>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { VNumberField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-number-field',\r\n  templateUrl: './v-number-field.component.html',\r\n  styleUrls: ['./v-number-field.component.scss']\r\n})\r\nexport class VNumberFieldComponent implements OnInit {\r\n\r\n  field: VNumberField;\r\n  group: FormGroup;\r\n\r\n  get control(): FormControl {\r\n    return this.group.get(this.field.name) as FormControl;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  clearField(): void {\r\n    this.control.setValue('');\r\n  }\r\n}\r\n","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label>{{field.label}}</mat-label>\r\n    <span *ngIf=\"field.prefix\" matPrefix>{{field.prefix}} &nbsp;</span>\r\n    <input\r\n        type=\"number\"\r\n        [formControlName]=\"field.name\"\r\n        [min]=\"field.min\"\r\n        [max]=\"field.max\"\r\n        [step]=\"field.step\"\r\n        [readonly]=\"field.readonly\"\r\n        matInput\r\n    />\r\n    <span *ngIf=\"field.suffix\" matSuffix>{{field.suffix}}</span>\r\n\r\n    <button *ngIf=\"control.value && field.clearButton\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"clearField()\">\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n\r\n    <mat-hint *ngIf=\"field.hint\">{{field.hint}}</mat-hint>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error>   \r\n</mat-form-field>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VRadioField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-radio-field',\r\n  templateUrl: './v-radio-field.component.html',\r\n  styleUrls: ['./v-radio-field.component.scss']\r\n})\r\nexport class VRadioFieldComponent implements OnInit {\r\n\r\n  field: VRadioField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<section class=\"radio-section\" [formGroup]=\"group\">\r\n    <label *ngIf=\"field.label\">{{field.label}}:</label>\r\n    <mat-radio-group aria-label=\"field.label\" [formControlName]=\"field.name\">\r\n        <ng-container *ngFor=\"let option of field.options\">\r\n            <mat-radio-button [value]=\"option.value\">{{option.label}}</mat-radio-button>\r\n        </ng-container>        \r\n    </mat-radio-group>\r\n</section>\r\n\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\r\nimport { Option } from '../../interfaces';\r\nimport { VSelectField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-select-field',\r\n  templateUrl: './v-select-field.component.html',\r\n  styleUrls: ['./v-select-field.component.scss']\r\n})\r\nexport class VSelectFieldComponent implements OnInit, OnDestroy {\r\n\r\n  private _selectSource =  new BehaviorSubject<Option[]>([]);\r\n  options = this._selectSource.asObservable();\r\n\r\n  field: VSelectField;\r\n  group: FormGroup;\r\n\r\n  sub:Subscription;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if(this.field.options instanceof Observable) {\r\n      this.sub = this.field.options.subscribe(res => {\r\n        this._selectSource.next(res);\r\n      });\r\n    } else {\r\n      this._selectSource.next(this.field.options);\r\n    }    \r\n  }\r\n\r\n  get value(): string {\r\n    return this.group.get(this.field.name).value || '';\r\n  }\r\n\r\n  get option(): Option {\r\n    return this._selectSource.value.find(option => option.value === this.value);\r\n  }\r\n\r\n  get label(): string {\r\n    return this.option ? this.option.label : '';\r\n  }\r\n\r\n  get hint(): string {\r\n    return this.value && this.option ? this.option.data?.hint || '' : '';\r\n  }\r\n\r\n  get color(): string {\r\n    return this.value && this.option ? this.option.data?.color || '' : '';\r\n  }\r\n\r\n  get icon(): string {\r\n    return this.value && this.option ? this.option.data?.icon || '' : '';\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.sub && this.sub.unsubscribe();\r\n  }\r\n}\r\n","<mat-form-field [formGroup]=\"group\">\r\n  <mat-label>{{field.label}}</mat-label>\r\n  <span *ngIf=\"icon\" matPrefix [style]=\"{'color': color}\"><mat-icon>{{icon}}</mat-icon>&nbsp;&nbsp;</span>\r\n  <mat-select\r\n      [formControlName]=\"field.name\"\r\n      [multiple]=\"field.multiple\"\r\n  >\r\n    <mat-select-trigger *ngIf=\"field.icons\">\r\n      <mat-icon>{{value}}</mat-icon>&nbsp;&nbsp;&nbsp;{{label}}\r\n    </mat-select-trigger>\r\n    \r\n    <mat-option\r\n      *ngFor=\"let option of options | async\"\r\n      [value]=\"option.value\"\r\n      [disabled]=\"option.data?.disabled\">\r\n      <mat-icon *ngIf=\"field.icons\">{{option.value}}</mat-icon>\r\n      {{option.label}}\r\n    </mat-option>\r\n  </mat-select>\r\n  <mat-hint *ngIf=\"hint\">{{hint}}</mat-hint>\r\n  <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n    <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n        {{validation.message}}\r\n    </ng-container>\r\n</mat-error>\r\n</mat-form-field>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VSlideToggleField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-slide-toggle-field',\r\n  templateUrl: './v-slide-toggle-field.component.html',\r\n  styleUrls: ['./v-slide-toggle-field.component.scss']\r\n})\r\nexport class VSlideToggleFieldComponent implements OnInit {\r\n\r\n  field: VSlideToggleField;\r\n  group: FormGroup;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<section  class=\"slider-toggle-section\" [formGroup]=\"group\">\r\n    <mat-slide-toggle\r\n          [color]=\"field.color ? field.color : 'accent'\"\r\n          [formControlName]=\"field.name\"\r\n    >\r\n        {{field.label}}\r\n    </mat-slide-toggle>\r\n</section>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VSliderField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-slider-field',\r\n  templateUrl: './v-slider-field.component.html',\r\n  styleUrls: ['./v-slider-field.component.scss']\r\n})\r\nexport class VSliderFieldComponent implements OnInit {\r\n\r\n  field: VSliderField;\r\n  group: FormGroup;\r\n\r\n  getSliderTickInterval(): number | 'auto' {\r\n    if (this.field.showTicks) {\r\n      return this.field.autoTicks ? 'auto' : this.field.tickInterval;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<ng-container [formGroup]=\"group\">\r\n    <div class=\"label-wrapper\">\r\n      <label class=\"start-label\">{{field.label}}</label>\r\n      <label class=\"end-label\">{{group.get(field.name).value}}</label>\r\n    </div>\r\n    <mat-slider\r\n        [invert]=\"field.invert\"\r\n        [min]=\"field.min\"\r\n        [max]=\"field.max\"\r\n        [step]=\"field.step\"\r\n        [thumbLabel]=\"field.thumbLabel\"\r\n        [tickInterval]=\"getSliderTickInterval()\"\r\n        [vertical]=\"field.vertical\"\r\n        [formControlName]=\"field.name\"\r\n        [value]=\"field.value\"\r\n    >\r\n    </mat-slider>\r\n</ng-container>\r\n","import { CdkTextareaAutosize } from '@angular/cdk/text-field';\r\nimport { Component, NgZone, OnInit, ViewChild } from '@angular/core';\r\nimport { take } from 'rxjs/operators';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VTextField } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-text-field',\r\n  templateUrl: './v-text-field.component.html',\r\n  styleUrls: ['./v-text-field.component.scss']\r\n})\r\nexport class VTextFieldComponent implements OnInit {\r\n  @ViewChild('autosize') autosize: CdkTextareaAutosize;\r\n\r\n  field: VTextField;\r\n  group: FormGroup;\r\n\r\n  constructor(private _ngZone: NgZone) {}\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  triggerResize() {\r\n    this._ngZone.onStable.pipe(take(1))\r\n        .subscribe(() => this.autosize.resizeToFitContent(true));\r\n  }\r\n}\r\n\r\n\r\n  \r\n\r\n  ","<mat-form-field [formGroup]=\"group\">\r\n    <mat-label>{{field.label}}</mat-label>\r\n    <textarea \r\n        [formControlName]=\"field.name\"\r\n        cdkTextareaAutosize\r\n        #autosize=\"cdkTextareaAutosize\"\r\n        [cdkAutosizeMinRows]=\"field.rows\"\r\n        [cdkAutosizeMaxRows]=\"field.maxRows\"\r\n        matInput\r\n        trim\r\n    ></textarea>\r\n    <mat-error *ngFor=\"let validation of field.getValMessage()\">\r\n        <ng-container *ngIf=\"group.get(field.name).hasError(validation.name) && (group.get(field.name).dirty || group.get(field.name).touched)\">\r\n            {{validation.message}}\r\n        </ng-container>\r\n    </mat-error> \r\n</mat-form-field>\r\n","import { Directive, Input, ComponentFactoryResolver, ViewContainerRef, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VAccordionComponent } from '../../components/v-accordion/v-accordion.component';\r\nimport { VAutocompleteFieldComponent } from '../../components/v-autocomplete-field/v-autocomplete-field.component';\r\nimport { VBoxComponent } from '../../components/v-box/v-box.component';\r\nimport { VButtonComponent } from '../../components/v-button/v-button.component';\r\nimport { VCheckboxFieldComponent } from '../../components/v-checkbox-field/v-checkbox-field.component';\r\nimport { VChipsFieldComponent } from '../../components/v-chips-field/v-chips-field.component';\r\nimport { VChipsComponent } from '../../components/v-chips/v-chips.component';\r\nimport { VColorFieldComponent } from '../../components/v-color-field/v-color-field.component';\r\nimport { VDatepickerFieldComponent } from '../../components/v-datepicker-field/v-datepicker-field.component';\r\nimport { VDividerComponent } from '../../components/v-divider/v-divider.component';\r\nimport { VDragDropListComponent } from '../../components/v-drag-drop-list/v-drag-drop-list.component';\r\nimport { VEditorFieldComponent } from '../../components/v-editor-field/v-editor-field.component';\r\nimport { VFileFieldComponent } from '../../components/v-file-field/v-file-field.component';\r\nimport { VImageFieldComponent } from '../../components/v-image-field/v-image-field.component';\r\nimport { VImageComponent } from '../../components/v-image/v-image.component';\r\nimport { VInputFieldComponent } from '../../components/v-input-field/v-input-field.component';\r\nimport { VLabelComponent } from '../../components/v-label/v-label.component';\r\nimport { VListComponent } from '../../components/v-list/v-list.component';\r\nimport { VMaskedFieldComponent } from '../../components/v-masked-field/v-masked-field.component';\r\nimport { VNumberFieldComponent } from '../../components/v-number-field/v-number-field.component';\r\nimport { VRadioFieldComponent } from '../../components/v-radio-field/v-radio-field.component';\r\nimport { VSelectFieldComponent } from '../../components/v-select-field/v-select-field.component';\r\nimport { VSlideToggleFieldComponent } from '../../components/v-slide-toggle-field/v-slide-toggle-field.component';\r\nimport { VSliderFieldComponent } from '../../components/v-slider-field/v-slider-field.component';\r\nimport { VTextFieldComponent } from '../../components/v-text-field/v-text-field.component';\r\nimport { VField } from './../../models/v-field.model';\r\n\r\nconst componentMapper = {\r\n    vinputfield: VInputFieldComponent,\r\n    vbox: VBoxComponent,\r\n    vbutton: VButtonComponent,\r\n    vselectfield: VSelectFieldComponent,\r\n    vtextfield: VTextFieldComponent,\r\n    vautocompletefield: VAutocompleteFieldComponent,\r\n    vcheckboxfield: VCheckboxFieldComponent,\r\n    vdatepickerfield: VDatepickerFieldComponent,\r\n    vimage: VImageComponent,\r\n    vmaskedfield: VMaskedFieldComponent,\r\n    vnumberfield: VNumberFieldComponent,\r\n    vradiofield: VRadioFieldComponent,\r\n    vslidetogglefield: VSlideToggleFieldComponent,\r\n    vsliderfield: VSliderFieldComponent,\r\n    vaccordion: VAccordionComponent,\r\n    vlabel: VLabelComponent,\r\n    vchips: VChipsComponent,\r\n    vdragdroplist: VDragDropListComponent,\r\n    vcolorfield: VColorFieldComponent,\r\n    veditorfield: VEditorFieldComponent,\r\n    vfilefield: VFileFieldComponent,\r\n    vdivider: VDividerComponent,\r\n    vlist: VListComponent,\r\n    vimagefield: VImageFieldComponent,\r\n    vchipsfield: VChipsFieldComponent\r\n};\r\n\r\n@Directive({\r\n  selector: '[appVField]'\r\n})\r\nexport class VFieldDirective implements OnInit {\r\n  @Input() field: VField<any>;\r\n  @Input() group: FormGroup;\r\n\r\n  componentRef: any;\r\n\r\n  constructor(\r\n    private _resolver: ComponentFactoryResolver,\r\n    private _container: ViewContainerRef\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    const factory = this._resolver.resolveComponentFactory(\r\n      componentMapper[this.field.getName()]\r\n    );\r\n\r\n    this.componentRef = this._container.createComponent(factory);\r\n\r\n    this._applyStyles();\r\n\r\n    this.componentRef.instance.field = this.field;\r\n    this.componentRef.instance.group = this.group;\r\n  }\r\n\r\n  private _applyStyles() {\r\n    let element: HTMLElement = <HTMLElement>this.componentRef.location.nativeElement;\r\n    if (this.field.styles) {\r\n      Object.keys(this.field.styles).map(k =>{\r\n        element.style[this._getStyle(k)] = this.field.styles[k].toString();\r\n      });\r\n    }\r\n\r\n    if (this.field.cls) {\r\n      this.field.cls.split(' ').map(cls => {\r\n        if(cls && cls.trim() !== '') {\r\n          element.classList.add(cls);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  private _getStyle(key: string): string {\r\n    switch (key) {\r\n      case 'marginLeft':\r\n        return 'margin-left';\r\n      case 'marginRight':\r\n        return 'margin-right';\r\n      case 'marginTop':\r\n        return 'margin-top';\r\n      case 'marginBottom':\r\n        return 'margin-bottom'\r\n      case 'bgColor':\r\n        return 'background-color';\r\n      default:\r\n        return key;\r\n    }\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { VItem } from './models/v-item.model';\r\nimport { VFactoryService } from './services/v-factory.service';\r\n\r\n@Component({\r\n  selector: 'v-v-factory',\r\n  templateUrl: './v-factory.component.html',\r\n  styleUrls: ['./v-factory.component.scss']\r\n})\r\nexport class VFactoryComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() formConfig: VItem[] = [];\r\n  @Input() form: FormGroup;\r\n\r\n  @Output() submit: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  formConfig$: Observable<VItem[]>;\r\n\r\n  constructor(\r\n    private _factoryService: VFactoryService\r\n  ) {\r\n    this.formConfig$ = this._factoryService.configEvent;\r\n  }\r\n\r\n  get value() {\r\n    return this.form.value;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._factoryService.updateConfig(this.formConfig, this.form);\r\n  }\r\n\r\n  onSubmit(event: Event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (this.form.valid) {\r\n      this.submit.emit(this.form);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._factoryService.clearConfig();\r\n  }\r\n}\r\n","<form \r\n    autocomplete=\"off\"\r\n    [formGroup]=\"form\"\r\n    (submit)=\"onSubmit($event)\"\r\n>\r\n    <ng-container *ngFor=\"let item of formConfig$ | async\">    \r\n            \r\n        <ng-container [ngSwitch]=\"item.getName()\">        \r\n            <ng-container *ngSwitchCase=\"'vcontent'\">\r\n                <ng-content></ng-content>           \r\n            </ng-container>\r\n            \r\n            <ng-container *ngSwitchDefault\r\n                appVField \r\n                [field]=\"item\" \r\n                [group]=\"form\"            \r\n                >\r\n            </ng-container>\r\n        </ng-container>   \r\n    </ng-container>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { VFieldDirective } from './v-field.directive';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VFieldDirective],\r\n  exports: [VFieldDirective]\r\n})\r\nexport class VFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VBoxComponent } from './v-box.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [VBoxComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule\r\n  ],\r\n  exports: [VBoxComponent]\r\n})\r\nexport class VBoxModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VButtonComponent } from './v-button.component';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@NgModule({\r\n  declarations: [VButtonComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatButtonModule,\r\n    MatTooltipModule,\r\n    MatIconModule\r\n  ]\r\n})\r\nexport class VButtonModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { TrimDirective } from './trim.directive';\r\n\r\n@NgModule({\r\n  declarations: [TrimDirective],\r\n  exports: [TrimDirective]\r\n})\r\nexport class TrimModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VInputFieldComponent } from './v-input-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TrimModule } from '../../directives/trim/trim.module';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n@NgModule({\r\n  declarations: [VInputFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    MatIconModule,\r\n    TrimModule,\r\n    MatButtonModule\r\n  ]\r\n})\r\nexport class VInputFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VSelectFieldComponent } from './v-select-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@NgModule({\r\n  declarations: [VSelectFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatSelectModule,\r\n    MatIconModule\r\n  ]\r\n})\r\nexport class VSelectFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VTextFieldComponent } from './v-text-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { TrimModule } from '../../directives/trim/trim.module';\r\nimport { TextFieldModule } from '@angular/cdk/text-field';\r\n\r\n@NgModule({\r\n  declarations: [VTextFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    TextFieldModule,\r\n    TrimModule\r\n  ]\r\n})\r\nexport class VTextFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VAutocompleteFieldComponent } from './v-autocomplete-field.component';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VAutocompleteFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatAutocompleteModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule\r\n  ]\r\n})\r\nexport class VAutocompleteFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VCheckboxFieldComponent } from './v-checkbox-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\n\r\n@NgModule({\r\n  declarations: [VCheckboxFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatCheckboxModule\r\n  ]\r\n})\r\nexport class VCheckboxFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VDatepickerFieldComponent } from './v-datepicker-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatInputModule } from '@angular/material/input';\r\n\r\n@NgModule({\r\n  declarations: [VDatepickerFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatNativeDateModule,\r\n    MatDatepickerModule,\r\n    MatInputModule\r\n  ],\r\n  providers: [MatNativeDateModule]\r\n})\r\nexport class VDatepickerFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VImageComponent } from './v-image.component';\r\n\r\n@NgModule({\r\n  declarations: [VImageComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [VImageComponent]\r\n})\r\nexport class VImageModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { MaskDirective } from './mask.directive';\r\n\r\n\r\n@NgModule({\r\n  declarations: [MaskDirective],\r\n  exports: [MaskDirective]\r\n})\r\nexport class MaskModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VMaskedFieldComponent } from './v-masked-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MaskModule } from '../../directives/mask/mask.module';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n@NgModule({\r\n  declarations: [VMaskedFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    MatIconModule,\r\n    MaskModule,\r\n    MatButtonModule\r\n  ]\r\n})\r\nexport class VMaskedFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VNumberFieldComponent } from './v-number-field.component';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VNumberFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    MatIconModule,\r\n    MatButtonModule\r\n  ]\r\n})\r\nexport class VNumberFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VRadioFieldComponent } from './v-radio-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VRadioFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatRadioModule\r\n  ]\r\n})\r\nexport class VRadioFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VSlideToggleFieldComponent } from './v-slide-toggle-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\n\r\n@NgModule({\r\n  declarations: [VSlideToggleFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatSlideToggleModule\r\n  ]\r\n})\r\nexport class VSlideToggleFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VSliderFieldComponent } from './v-slider-field.component';\r\nimport { MatSliderModule } from '@angular/material/slider';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [VSliderFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatSliderModule\r\n  ]\r\n})\r\nexport class VSliderFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VAccordionComponent } from './v-accordion.component';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\n\r\n@NgModule({\r\n  declarations: [VAccordionComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    MatExpansionModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatTooltipModule\r\n  ],\r\n  exports: [VAccordionComponent]\r\n})\r\nexport class VAccordionModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VLabelComponent } from './v-label.component';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VLabelComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatTooltipModule,\r\n    MatIconModule\r\n  ],\r\n  exports: [VLabelComponent]\r\n})\r\nexport class VLabelModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VChipsComponent } from './v-chips.component';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@NgModule({\r\n  declarations: [VChipsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatChipsModule,\r\n    MatIconModule\r\n  ],\r\n  exports: [VChipsComponent]\r\n})\r\nexport class VChipsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VDragDropListComponent } from './v-drag-drop-list.component';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VDragDropListComponent],\r\n  imports: [\r\n    CommonModule,\r\n    DragDropModule,\r\n    ReactiveFormsModule,\r\n    MatCardModule,\r\n    MatDividerModule,\r\n    RouterModule,\r\n    MatIconModule,\r\n    MatButtonModule\r\n  ],\r\n  exports: [VDragDropListComponent]\r\n})\r\nexport class VDragDropListModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VColorFieldComponent } from './v-color-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VColorFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    MatIconModule\r\n  ],\r\n  exports: [VColorFieldComponent]\r\n})\r\nexport class VColorFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToolbarBtnComponent } from './toolbar-btn.component';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ToolbarBtnComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule\r\n  ],\r\n  exports: [ToolbarBtnComponent]\r\n})\r\nexport class ToolbarBtnModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToolbarSelectComponent } from './toolbar-select.component';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ToolbarSelectComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule\r\n  ],\r\n  exports: [ToolbarSelectComponent]\r\n})\r\nexport class ToolbarSelectModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToolbarColorComponent } from './toolbar-color.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ToolbarColorComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [ToolbarColorComponent]\r\n})\r\nexport class ToolbarColorModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToolbarComponent } from './toolbar.component';\r\nimport { ToolbarBtnModule } from './toolbar-btn/toolbar-btn.module';\r\nimport { ToolbarSelectModule } from './toolbar-select/toolbar-select.module';\r\nimport { ToolbarColorModule } from './toolbar-color/toolbar-color.module';\r\n\r\n@NgModule({\r\n  declarations: [ToolbarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ToolbarBtnModule,\r\n    ToolbarSelectModule,\r\n    ToolbarColorModule\r\n  ],\r\n  exports: [ToolbarComponent]\r\n})\r\nexport class ToolbarModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { ContenteditableValueAccessor } from './contenteditable.directive';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ContenteditableValueAccessor],\r\n  exports: [ContenteditableValueAccessor]\r\n})\r\nexport class ContenteditableModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VEditorFieldComponent } from './v-editor-field.component';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ToolbarModule } from './toolbar/toolbar.module';\r\nimport { VEditorService } from './v-editor.service';\r\nimport { ContenteditableModule } from '../../directives/contenteditable/contenteditable.module';\r\n\r\n@NgModule({\r\n  declarations: [VEditorFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatButtonModule,\r\n    MatTooltipModule,\r\n    MatIconModule,\r\n    ToolbarModule,\r\n    ContenteditableModule\r\n  ],\r\n  providers: [VEditorService]\r\n})\r\nexport class VEditorFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VFileFieldComponent } from './v-file-field.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [VFileFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class VFileFieldModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VDividerComponent } from './v-divider.component';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\n\r\n\r\n@NgModule({\r\n  declarations: [VDividerComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatDividerModule\r\n  ],\r\n  exports: [VDividerComponent]\r\n})\r\nexport class VDividerModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VListComponent } from './v-list.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatListModule } from '@angular/material/list';\r\n\r\n@NgModule({\r\n  declarations: [VListComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MatTooltipModule,\r\n    MatIconModule,\r\n    MatListModule\r\n  ],\r\n  exports: [VListComponent]\r\n})\r\nexport class VListModule { }\r\n","/*\r\nOriginal library: ngx-image-cropper\r\nOriginal module author: Martijn Willekens\r\nOriginal repository: https://github.com/Mawi137/ngx-image-cropper.git\r\nOriginal homepage: https://github.com/Mawi137/ngx-image-cropper\r\n*/\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImageCropperComponent } from './component/image-cropper.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    ImageCropperComponent\r\n  ],\r\n  exports: [\r\n    ImageCropperComponent\r\n  ]\r\n})\r\nexport class ImageCropperModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { VImageFieldComponent } from './v-image-field.component';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { ImageCropperModule } from './image-cropper/image-cropper.module';\r\n\r\n@NgModule({\r\n  declarations: [VImageFieldComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    ImageCropperModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatDividerModule,\r\n    MatTooltipModule\r\n  ]\r\n})\r\nexport class VImageFieldModule { }\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { VChipsFieldComponent } from './v-chips-field.component';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatInputModule } from '@angular/material/input';\n\n\n\n@NgModule({\n  declarations: [\n    VChipsFieldComponent\n  ],\n  imports: [\n    CommonModule,\n    MatChipsModule,\n    MatIconModule,\n    ReactiveFormsModule,\n    MatAutocompleteModule,\n    MatInputModule\n  ],\n  exports: [\n    VChipsFieldComponent\n  ]\n})\nexport class VChipsFieldModule { }\n","import { NgModule } from '@angular/core';\r\nimport { VBoxModule } from './v-box/v-box.module';\r\nimport { VButtonModule } from './v-button/v-button.module';\r\nimport { VInputFieldModule } from './v-input-field/v-input-field.module';\r\nimport { VSelectFieldModule } from './v-select-field/v-select-field.module';\r\nimport { VTextFieldModule } from './v-text-field/v-text-field.module';\r\nimport { VAutocompleteFieldModule } from './v-autocomplete-field/v-autocomplete-field.module';\r\nimport { VCheckboxFieldModule } from './v-checkbox-field/v-checkbox-field.module';\r\nimport { VDatepickerFieldModule } from './v-datepicker-field/v-datepicker-field.module';\r\nimport { VImageModule } from './v-image/v-image.module';\r\nimport { VMaskedFieldModule } from './v-masked-field/v-masked-field.module';\r\nimport { VNumberFieldModule } from './v-number-field/v-number-field.module';\r\nimport { VRadioFieldModule } from './v-radio-field/v-radio-field.module';\r\nimport { VSlideToggleFieldModule } from './v-slide-toggle-field/v-slide-toggle-field.module';\r\nimport { VSliderFieldModule } from './v-slider-field/v-slider-field.module';\r\nimport { VAccordionModule } from './v-accordion/v-accordion.module';\r\nimport { VLabelModule } from './v-label/v-label.module';\r\nimport { VChipsModule } from './v-chips/v-chips.module';\r\nimport { VDragDropListModule } from './v-drag-drop-list/v-drag-drop-list.module';\r\nimport { VColorFieldModule } from './v-color-field/v-color-field.module';\r\nimport { VEditorFieldModule } from './v-editor-field/v-editor-field.module';\r\nimport { VFileFieldModule } from './v-file-field/v-file-field.module';\r\nimport { VDividerModule } from './v-divider/v-divider.module';\r\nimport { VListModule } from './v-list/v-list.module';\r\nimport { VImageFieldModule } from './v-image-field/v-image-field.module';\r\nimport { VChipsFieldModule } from './v-chips-field/v-chips-field.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    VBoxModule,\r\n    VButtonModule,\r\n    VInputFieldModule,\r\n    VSelectFieldModule,\r\n    VTextFieldModule,\r\n    VAutocompleteFieldModule,\r\n    VCheckboxFieldModule,\r\n    VDatepickerFieldModule,\r\n    VImageModule,\r\n    VMaskedFieldModule,\r\n    VNumberFieldModule,\r\n    VRadioFieldModule,\r\n    VSlideToggleFieldModule,\r\n    VSliderFieldModule,\r\n    VAccordionModule,\r\n    VLabelModule,\r\n    VChipsModule,\r\n    VDragDropListModule,\r\n    VColorFieldModule,\r\n    VEditorFieldModule,\r\n    VFileFieldModule,\r\n    VDividerModule,\r\n    VListModule,\r\n    VImageFieldModule,\r\n    VChipsFieldModule\r\n  ],\r\n  exports: [\r\n    VBoxModule,\r\n    VButtonModule,\r\n    VInputFieldModule,\r\n    VSelectFieldModule,\r\n    VTextFieldModule,\r\n    VAutocompleteFieldModule,\r\n    VCheckboxFieldModule,\r\n    VDatepickerFieldModule,\r\n    VImageModule,\r\n    VMaskedFieldModule,\r\n    VNumberFieldModule,\r\n    VRadioFieldModule,\r\n    VSlideToggleFieldModule,\r\n    VSliderFieldModule,\r\n    VAccordionModule,\r\n    VLabelModule,\r\n    VChipsModule,\r\n    VDragDropListModule,\r\n    VColorFieldModule,\r\n    VEditorFieldModule,\r\n    VFileFieldModule,\r\n    VDividerModule,\r\n    VListModule,\r\n    VImageFieldModule,\r\n    VChipsFieldModule\r\n  ]\r\n})\r\nexport class VComponentsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VFactoryComponent } from './v-factory.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { VFieldModule } from './directives/v-field/v-field.module';\r\nimport { VComponentsModule } from './components/v-component.module';\r\nimport { VFactoryService } from './services/v-factory.service';\r\n\r\n@NgModule({\r\n  declarations: [VFactoryComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    VFieldModule,\r\n    VComponentsModule\r\n  ],\r\n  providers: [VFactoryService],\r\n  exports: [VFactoryComponent]\r\n})\r\nexport class VFactoryModule {}\r\n","/*\r\n * Public API Surface of v-factory\r\n */\r\n\r\nexport * from './lib/interfaces';\r\nexport * from './lib/models';\r\nexport * from './lib/services/v-factory.service';\r\nexport * from './lib/v-factory.component';\r\nexport * from './lib/v-factory.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}}}